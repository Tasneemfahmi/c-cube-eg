function xb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ww(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xw={exports:{}},Zc={},_w={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ca=Symbol.for("react.element"),_b=Symbol.for("react.portal"),Eb=Symbol.for("react.fragment"),Tb=Symbol.for("react.strict_mode"),Sb=Symbol.for("react.profiler"),Cb=Symbol.for("react.provider"),Pb=Symbol.for("react.context"),bb=Symbol.for("react.forward_ref"),Ab=Symbol.for("react.suspense"),Ib=Symbol.for("react.memo"),Rb=Symbol.for("react.lazy"),Ty=Symbol.iterator;function kb(t){return t===null||typeof t!="object"?null:(t=Ty&&t[Ty]||t["@@iterator"],typeof t=="function"?t:null)}var Ew={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tw=Object.assign,Sw={};function js(t,e,n){this.props=t,this.context=e,this.refs=Sw,this.updater=n||Ew}js.prototype.isReactComponent={};js.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};js.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Cw(){}Cw.prototype=js.prototype;function cp(t,e,n){this.props=t,this.context=e,this.refs=Sw,this.updater=n||Ew}var up=cp.prototype=new Cw;up.constructor=cp;Tw(up,js.prototype);up.isPureReactComponent=!0;var Sy=Array.isArray,Pw=Object.prototype.hasOwnProperty,dp={current:null},bw={key:!0,ref:!0,__self:!0,__source:!0};function Aw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Pw.call(e,r)&&!bw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ca,type:t,key:s,ref:o,props:i,_owner:dp.current}}function Nb(t,e){return{$$typeof:Ca,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ca}function Vb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Cy=/\/+/g;function wd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Vb(""+t.key):e.toString(36)}function Vl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ca:case _b:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+wd(o,0):r,Sy(i)?(n="",t!=null&&(n=t.replace(Cy,"$&/")+"/"),Vl(i,e,n,"",function(u){return u})):i!=null&&(hp(i)&&(i=Nb(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Cy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Sy(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+wd(s,a);o+=Vl(s,e,n,l,i)}else if(l=kb(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+wd(s,a++),o+=Vl(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function il(t,e,n){if(t==null)return t;var r=[],i=0;return Vl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Db(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var bt={current:null},Dl={transition:null},Mb={ReactCurrentDispatcher:bt,ReactCurrentBatchConfig:Dl,ReactCurrentOwner:dp};function Iw(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:il,forEach:function(t,e,n){il(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return il(t,function(){e++}),e},toArray:function(t){return il(t,function(e){return e})||[]},only:function(t){if(!hp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=js;le.Fragment=Eb;le.Profiler=Sb;le.PureComponent=cp;le.StrictMode=Tb;le.Suspense=Ab;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mb;le.act=Iw;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Tw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=dp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Pw.call(e,l)&&!bw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ca,type:t.type,key:i,ref:s,props:r,_owner:o}};le.createContext=function(t){return t={$$typeof:Pb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Cb,_context:t},t.Consumer=t};le.createElement=Aw;le.createFactory=function(t){var e=Aw.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:bb,render:t}};le.isValidElement=hp;le.lazy=function(t){return{$$typeof:Rb,_payload:{_status:-1,_result:t},_init:Db}};le.memo=function(t,e){return{$$typeof:Ib,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=Dl.transition;Dl.transition={};try{t()}finally{Dl.transition=e}};le.unstable_act=Iw;le.useCallback=function(t,e){return bt.current.useCallback(t,e)};le.useContext=function(t){return bt.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return bt.current.useDeferredValue(t)};le.useEffect=function(t,e){return bt.current.useEffect(t,e)};le.useId=function(){return bt.current.useId()};le.useImperativeHandle=function(t,e,n){return bt.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return bt.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return bt.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return bt.current.useMemo(t,e)};le.useReducer=function(t,e,n){return bt.current.useReducer(t,e,n)};le.useRef=function(t){return bt.current.useRef(t)};le.useState=function(t){return bt.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return bt.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return bt.current.useTransition()};le.version="18.3.1";_w.exports=le;var b=_w.exports;const Ae=ww(b),Rw=xb({__proto__:null,default:Ae},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lb=b,jb=Symbol.for("react.element"),Ob=Symbol.for("react.fragment"),Fb=Object.prototype.hasOwnProperty,Bb=Lb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zb={key:!0,ref:!0,__self:!0,__source:!0};function kw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Fb.call(e,r)&&!zb.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:jb,type:t,key:s,ref:o,props:i,_owner:Bb.current}}Zc.Fragment=Ob;Zc.jsx=kw;Zc.jsxs=kw;xw.exports=Zc;var g=xw.exports,wh={},Nw={exports:{}},Gt={},Vw={exports:{}},Dw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,W){var X=z.length;z.push(W);e:for(;0<X;){var K=X-1>>>1,ie=z[K];if(0<i(ie,W))z[K]=W,z[X]=ie,X=K;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var W=z[0],X=z.pop();if(X!==W){z[0]=X;e:for(var K=0,ie=z.length,Z=ie>>>1;K<Z;){var Ye=2*(K+1)-1,Qt=z[Ye],wt=Ye+1,jt=z[wt];if(0>i(Qt,X))wt<ie&&0>i(jt,Qt)?(z[K]=jt,z[wt]=X,K=wt):(z[K]=Qt,z[Ye]=X,K=Ye);else if(wt<ie&&0>i(jt,X))z[K]=jt,z[wt]=X,K=wt;else break e}}return W}function i(z,W){var X=z.sortIndex-W.sortIndex;return X!==0?X:z.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,p=3,y=!1,T=!1,S=!1,R=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(z){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=z)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function V(z){if(S=!1,w(z),!T)if(n(l)!==null)T=!0,Y(M);else{var W=n(u);W!==null&&re(V,W.startTime-z)}}function M(z,W){T=!1,S&&(S=!1,x(_),_=-1),y=!0;var X=p;try{for(w(W),h=n(l);h!==null&&(!(h.expirationTime>W)||z&&!A());){var K=h.callback;if(typeof K=="function"){h.callback=null,p=h.priorityLevel;var ie=K(h.expirationTime<=W);W=t.unstable_now(),typeof ie=="function"?h.callback=ie:h===n(l)&&r(l),w(W)}else r(l);h=n(l)}if(h!==null)var Z=!0;else{var Ye=n(u);Ye!==null&&re(V,Ye.startTime-W),Z=!1}return Z}finally{h=null,p=X,y=!1}}var L=!1,I=null,_=-1,k=5,N=-1;function A(){return!(t.unstable_now()-N<k)}function P(){if(I!==null){var z=t.unstable_now();N=z;var W=!0;try{W=I(!0,z)}finally{W?E():(L=!1,I=null)}}else L=!1}var E;if(typeof v=="function")E=function(){v(P)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,G=O.port2;O.port1.onmessage=P,E=function(){G.postMessage(null)}}else E=function(){R(P,0)};function Y(z){I=z,L||(L=!0,E())}function re(z,W){_=R(function(){z(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){T||y||(T=!0,Y(M))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var X=p;p=W;try{return z()}finally{p=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,W){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var X=p;p=z;try{return W()}finally{p=X}},t.unstable_scheduleCallback=function(z,W,X){var K=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?K+X:K):X=K,z){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=X+ie,z={id:d++,callback:W,priorityLevel:z,startTime:X,expirationTime:ie,sortIndex:-1},X>K?(z.sortIndex=X,e(u,z),n(l)===null&&z===n(u)&&(S?(x(_),_=-1):S=!0,re(V,X-K))):(z.sortIndex=ie,e(l,z),T||y||(T=!0,Y(M))),z},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(z){var W=p;return function(){var X=p;p=W;try{return z.apply(this,arguments)}finally{p=X}}}})(Dw);Vw.exports=Dw;var Ub=Vw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $b=b,Wt=Ub;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mw=new Set,Ko={};function Ai(t,e){ys(t,e),ys(t+"Capture",e)}function ys(t,e){for(Ko[t]=e,t=0;t<e.length;t++)Mw.add(e[t])}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xh=Object.prototype.hasOwnProperty,Wb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Py={},by={};function Hb(t){return xh.call(by,t)?!0:xh.call(Py,t)?!1:Wb.test(t)?by[t]=!0:(Py[t]=!0,!1)}function qb(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Gb(t,e,n,r){if(e===null||typeof e>"u"||qb(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function At(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var st={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){st[t]=new At(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];st[e]=new At(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){st[t]=new At(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){st[t]=new At(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){st[t]=new At(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){st[t]=new At(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){st[t]=new At(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){st[t]=new At(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){st[t]=new At(t,5,!1,t.toLowerCase(),null,!1,!1)});var fp=/[\-:]([a-z])/g;function pp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fp,pp);st[e]=new At(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fp,pp);st[e]=new At(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fp,pp);st[e]=new At(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){st[t]=new At(t,1,!1,t.toLowerCase(),null,!1,!1)});st.xlinkHref=new At("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){st[t]=new At(t,1,!1,t.toLowerCase(),null,!0,!0)});function mp(t,e,n,r){var i=st.hasOwnProperty(e)?st[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Gb(e,n,i,r)&&(n=null),r||i===null?Hb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Zn=$b.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sl=Symbol.for("react.element"),Ki=Symbol.for("react.portal"),Qi=Symbol.for("react.fragment"),gp=Symbol.for("react.strict_mode"),_h=Symbol.for("react.profiler"),Lw=Symbol.for("react.provider"),jw=Symbol.for("react.context"),yp=Symbol.for("react.forward_ref"),Eh=Symbol.for("react.suspense"),Th=Symbol.for("react.suspense_list"),vp=Symbol.for("react.memo"),ar=Symbol.for("react.lazy"),Ow=Symbol.for("react.offscreen"),Ay=Symbol.iterator;function ao(t){return t===null||typeof t!="object"?null:(t=Ay&&t[Ay]||t["@@iterator"],typeof t=="function"?t:null)}var ke=Object.assign,xd;function xo(t){if(xd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);xd=e&&e[1]||""}return`
`+xd+t}var _d=!1;function Ed(t,e){if(!t||_d)return"";_d=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{_d=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?xo(t):""}function Kb(t){switch(t.tag){case 5:return xo(t.type);case 16:return xo("Lazy");case 13:return xo("Suspense");case 19:return xo("SuspenseList");case 0:case 2:case 15:return t=Ed(t.type,!1),t;case 11:return t=Ed(t.type.render,!1),t;case 1:return t=Ed(t.type,!0),t;default:return""}}function Sh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qi:return"Fragment";case Ki:return"Portal";case _h:return"Profiler";case gp:return"StrictMode";case Eh:return"Suspense";case Th:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jw:return(t.displayName||"Context")+".Consumer";case Lw:return(t._context.displayName||"Context")+".Provider";case yp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vp:return e=t.displayName||null,e!==null?e:Sh(t.type)||"Memo";case ar:e=t._payload,t=t._init;try{return Sh(t(e))}catch{}}return null}function Qb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sh(e);case 8:return e===gp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Nr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Yb(t){var e=Fw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ol(t){t._valueTracker||(t._valueTracker=Yb(t))}function Bw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Fw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ec(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ch(t,e){var n=e.checked;return ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Iy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Nr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function zw(t,e){e=e.checked,e!=null&&mp(t,"checked",e,!1)}function Ph(t,e){zw(t,e);var n=Nr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bh(t,e.type,n):e.hasOwnProperty("defaultValue")&&bh(t,e.type,Nr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ry(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bh(t,e,n){(e!=="number"||ec(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _o=Array.isArray;function us(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Nr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ah(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ky(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(_o(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Nr(n)}}function Uw(t,e){var n=Nr(e.value),r=Nr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ny(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $w(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ih(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$w(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var al,Ww=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(al=al||document.createElement("div"),al.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=al.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Qo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Io={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xb=["Webkit","ms","Moz","O"];Object.keys(Io).forEach(function(t){Xb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Io[e]=Io[t]})});function Hw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Io.hasOwnProperty(t)&&Io[t]?(""+e).trim():e+"px"}function qw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Hw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Jb=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rh(t,e){if(e){if(Jb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function kh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nh=null;function wp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vh=null,ds=null,hs=null;function Vy(t){if(t=Aa(t)){if(typeof Vh!="function")throw Error(U(280));var e=t.stateNode;e&&(e=iu(e),Vh(t.stateNode,t.type,e))}}function Gw(t){ds?hs?hs.push(t):hs=[t]:ds=t}function Kw(){if(ds){var t=ds,e=hs;if(hs=ds=null,Vy(t),e)for(t=0;t<e.length;t++)Vy(e[t])}}function Qw(t,e){return t(e)}function Yw(){}var Td=!1;function Xw(t,e,n){if(Td)return t(e,n);Td=!0;try{return Qw(t,e,n)}finally{Td=!1,(ds!==null||hs!==null)&&(Yw(),Kw())}}function Yo(t,e){var n=t.stateNode;if(n===null)return null;var r=iu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Dh=!1;if(Wn)try{var lo={};Object.defineProperty(lo,"passive",{get:function(){Dh=!0}}),window.addEventListener("test",lo,lo),window.removeEventListener("test",lo,lo)}catch{Dh=!1}function Zb(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Ro=!1,tc=null,nc=!1,Mh=null,eA={onError:function(t){Ro=!0,tc=t}};function tA(t,e,n,r,i,s,o,a,l){Ro=!1,tc=null,Zb.apply(eA,arguments)}function nA(t,e,n,r,i,s,o,a,l){if(tA.apply(this,arguments),Ro){if(Ro){var u=tc;Ro=!1,tc=null}else throw Error(U(198));nc||(nc=!0,Mh=u)}}function Ii(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Jw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Dy(t){if(Ii(t)!==t)throw Error(U(188))}function rA(t){var e=t.alternate;if(!e){if(e=Ii(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Dy(i),t;if(s===r)return Dy(i),e;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function Zw(t){return t=rA(t),t!==null?ex(t):null}function ex(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ex(t);if(e!==null)return e;t=t.sibling}return null}var tx=Wt.unstable_scheduleCallback,My=Wt.unstable_cancelCallback,iA=Wt.unstable_shouldYield,sA=Wt.unstable_requestPaint,Oe=Wt.unstable_now,oA=Wt.unstable_getCurrentPriorityLevel,xp=Wt.unstable_ImmediatePriority,nx=Wt.unstable_UserBlockingPriority,rc=Wt.unstable_NormalPriority,aA=Wt.unstable_LowPriority,rx=Wt.unstable_IdlePriority,eu=null,Tn=null;function lA(t){if(Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(eu,t,void 0,(t.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:dA,cA=Math.log,uA=Math.LN2;function dA(t){return t>>>=0,t===0?32:31-(cA(t)/uA|0)|0}var ll=64,cl=4194304;function Eo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ic(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Eo(a):(s&=o,s!==0&&(r=Eo(s)))}else o=n&~i,o!==0?r=Eo(o):s!==0&&(r=Eo(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-gn(e),i=1<<n,r|=t[n],e&=~i;return r}function hA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-gn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=hA(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Lh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ix(){var t=ll;return ll<<=1,!(ll&4194240)&&(ll=64),t}function Sd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Pa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gn(e),t[e]=n}function pA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-gn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function _p(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-gn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ye=0;function sx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ox,Ep,ax,lx,cx,jh=!1,ul=[],gr=null,yr=null,vr=null,Xo=new Map,Jo=new Map,ur=[],mA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ly(t,e){switch(t){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":Xo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(e.pointerId)}}function co(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Aa(e),e!==null&&Ep(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function gA(t,e,n,r,i){switch(e){case"focusin":return gr=co(gr,t,e,n,r,i),!0;case"dragenter":return yr=co(yr,t,e,n,r,i),!0;case"mouseover":return vr=co(vr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Xo.set(s,co(Xo.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Jo.set(s,co(Jo.get(s)||null,t,e,n,r,i)),!0}return!1}function ux(t){var e=ai(t.target);if(e!==null){var n=Ii(e);if(n!==null){if(e=n.tag,e===13){if(e=Jw(n),e!==null){t.blockedOn=e,cx(t.priority,function(){ax(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ml(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Oh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Nh=r,n.target.dispatchEvent(r),Nh=null}else return e=Aa(n),e!==null&&Ep(e),t.blockedOn=n,!1;e.shift()}return!0}function jy(t,e,n){Ml(t)&&n.delete(e)}function yA(){jh=!1,gr!==null&&Ml(gr)&&(gr=null),yr!==null&&Ml(yr)&&(yr=null),vr!==null&&Ml(vr)&&(vr=null),Xo.forEach(jy),Jo.forEach(jy)}function uo(t,e){t.blockedOn===e&&(t.blockedOn=null,jh||(jh=!0,Wt.unstable_scheduleCallback(Wt.unstable_NormalPriority,yA)))}function Zo(t){function e(i){return uo(i,t)}if(0<ul.length){uo(ul[0],t);for(var n=1;n<ul.length;n++){var r=ul[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gr!==null&&uo(gr,t),yr!==null&&uo(yr,t),vr!==null&&uo(vr,t),Xo.forEach(e),Jo.forEach(e),n=0;n<ur.length;n++)r=ur[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ur.length&&(n=ur[0],n.blockedOn===null);)ux(n),n.blockedOn===null&&ur.shift()}var fs=Zn.ReactCurrentBatchConfig,sc=!0;function vA(t,e,n,r){var i=ye,s=fs.transition;fs.transition=null;try{ye=1,Tp(t,e,n,r)}finally{ye=i,fs.transition=s}}function wA(t,e,n,r){var i=ye,s=fs.transition;fs.transition=null;try{ye=4,Tp(t,e,n,r)}finally{ye=i,fs.transition=s}}function Tp(t,e,n,r){if(sc){var i=Oh(t,e,n,r);if(i===null)Dd(t,e,r,oc,n),Ly(t,r);else if(gA(i,t,e,n,r))r.stopPropagation();else if(Ly(t,r),e&4&&-1<mA.indexOf(t)){for(;i!==null;){var s=Aa(i);if(s!==null&&ox(s),s=Oh(t,e,n,r),s===null&&Dd(t,e,r,oc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Dd(t,e,r,null,n)}}var oc=null;function Oh(t,e,n,r){if(oc=null,t=wp(r),t=ai(t),t!==null)if(e=Ii(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Jw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return oc=t,null}function dx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oA()){case xp:return 1;case nx:return 4;case rc:case aA:return 16;case rx:return 536870912;default:return 16}default:return 16}}var hr=null,Sp=null,Ll=null;function hx(){if(Ll)return Ll;var t,e=Sp,n=e.length,r,i="value"in hr?hr.value:hr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ll=i.slice(t,1<r?1-r:void 0)}function jl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dl(){return!0}function Oy(){return!1}function Kt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?dl:Oy,this.isPropagationStopped=Oy,this}return ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dl)},persist:function(){},isPersistent:dl}),e}var Os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cp=Kt(Os),ba=ke({},Os,{view:0,detail:0}),xA=Kt(ba),Cd,Pd,ho,tu=ke({},ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ho&&(ho&&t.type==="mousemove"?(Cd=t.screenX-ho.screenX,Pd=t.screenY-ho.screenY):Pd=Cd=0,ho=t),Cd)},movementY:function(t){return"movementY"in t?t.movementY:Pd}}),Fy=Kt(tu),_A=ke({},tu,{dataTransfer:0}),EA=Kt(_A),TA=ke({},ba,{relatedTarget:0}),bd=Kt(TA),SA=ke({},Os,{animationName:0,elapsedTime:0,pseudoElement:0}),CA=Kt(SA),PA=ke({},Os,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bA=Kt(PA),AA=ke({},Os,{data:0}),By=Kt(AA),IA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=kA[t])?!!e[t]:!1}function Pp(){return NA}var VA=ke({},ba,{key:function(t){if(t.key){var e=IA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=jl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?RA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pp,charCode:function(t){return t.type==="keypress"?jl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),DA=Kt(VA),MA=ke({},tu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zy=Kt(MA),LA=ke({},ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pp}),jA=Kt(LA),OA=ke({},Os,{propertyName:0,elapsedTime:0,pseudoElement:0}),FA=Kt(OA),BA=ke({},tu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zA=Kt(BA),UA=[9,13,27,32],bp=Wn&&"CompositionEvent"in window,ko=null;Wn&&"documentMode"in document&&(ko=document.documentMode);var $A=Wn&&"TextEvent"in window&&!ko,fx=Wn&&(!bp||ko&&8<ko&&11>=ko),Uy=String.fromCharCode(32),$y=!1;function px(t,e){switch(t){case"keyup":return UA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yi=!1;function WA(t,e){switch(t){case"compositionend":return mx(e);case"keypress":return e.which!==32?null:($y=!0,Uy);case"textInput":return t=e.data,t===Uy&&$y?null:t;default:return null}}function HA(t,e){if(Yi)return t==="compositionend"||!bp&&px(t,e)?(t=hx(),Ll=Sp=hr=null,Yi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fx&&e.locale!=="ko"?null:e.data;default:return null}}var qA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qA[t.type]:e==="textarea"}function gx(t,e,n,r){Gw(r),e=ac(e,"onChange"),0<e.length&&(n=new Cp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var No=null,ea=null;function GA(t){bx(t,0)}function nu(t){var e=Zi(t);if(Bw(e))return t}function KA(t,e){if(t==="change")return e}var yx=!1;if(Wn){var Ad;if(Wn){var Id="oninput"in document;if(!Id){var Hy=document.createElement("div");Hy.setAttribute("oninput","return;"),Id=typeof Hy.oninput=="function"}Ad=Id}else Ad=!1;yx=Ad&&(!document.documentMode||9<document.documentMode)}function qy(){No&&(No.detachEvent("onpropertychange",vx),ea=No=null)}function vx(t){if(t.propertyName==="value"&&nu(ea)){var e=[];gx(e,ea,t,wp(t)),Xw(GA,e)}}function QA(t,e,n){t==="focusin"?(qy(),No=e,ea=n,No.attachEvent("onpropertychange",vx)):t==="focusout"&&qy()}function YA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nu(ea)}function XA(t,e){if(t==="click")return nu(e)}function JA(t,e){if(t==="input"||t==="change")return nu(e)}function ZA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vn=typeof Object.is=="function"?Object.is:ZA;function ta(t,e){if(vn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!xh.call(e,i)||!vn(t[i],e[i]))return!1}return!0}function Gy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ky(t,e){var n=Gy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gy(n)}}function wx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xx(){for(var t=window,e=ec();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ec(t.document)}return e}function Ap(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eI(t){var e=xx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&wx(n.ownerDocument.documentElement,n)){if(r!==null&&Ap(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Ky(n,s);var o=Ky(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tI=Wn&&"documentMode"in document&&11>=document.documentMode,Xi=null,Fh=null,Vo=null,Bh=!1;function Qy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bh||Xi==null||Xi!==ec(r)||(r=Xi,"selectionStart"in r&&Ap(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vo&&ta(Vo,r)||(Vo=r,r=ac(Fh,"onSelect"),0<r.length&&(e=new Cp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xi)))}function hl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ji={animationend:hl("Animation","AnimationEnd"),animationiteration:hl("Animation","AnimationIteration"),animationstart:hl("Animation","AnimationStart"),transitionend:hl("Transition","TransitionEnd")},Rd={},_x={};Wn&&(_x=document.createElement("div").style,"AnimationEvent"in window||(delete Ji.animationend.animation,delete Ji.animationiteration.animation,delete Ji.animationstart.animation),"TransitionEvent"in window||delete Ji.transitionend.transition);function ru(t){if(Rd[t])return Rd[t];if(!Ji[t])return t;var e=Ji[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _x)return Rd[t]=e[n];return t}var Ex=ru("animationend"),Tx=ru("animationiteration"),Sx=ru("animationstart"),Cx=ru("transitionend"),Px=new Map,Yy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $r(t,e){Px.set(t,e),Ai(e,[t])}for(var kd=0;kd<Yy.length;kd++){var Nd=Yy[kd],nI=Nd.toLowerCase(),rI=Nd[0].toUpperCase()+Nd.slice(1);$r(nI,"on"+rI)}$r(Ex,"onAnimationEnd");$r(Tx,"onAnimationIteration");$r(Sx,"onAnimationStart");$r("dblclick","onDoubleClick");$r("focusin","onFocus");$r("focusout","onBlur");$r(Cx,"onTransitionEnd");ys("onMouseEnter",["mouseout","mouseover"]);ys("onMouseLeave",["mouseout","mouseover"]);ys("onPointerEnter",["pointerout","pointerover"]);ys("onPointerLeave",["pointerout","pointerover"]);Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var To="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iI=new Set("cancel close invalid load scroll toggle".split(" ").concat(To));function Xy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,nA(r,e,void 0,t),t.currentTarget=null}function bx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Xy(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Xy(i,a,u),s=l}}}if(nc)throw t=Mh,nc=!1,Mh=null,t}function Te(t,e){var n=e[Hh];n===void 0&&(n=e[Hh]=new Set);var r=t+"__bubble";n.has(r)||(Ax(e,t,2,!1),n.add(r))}function Vd(t,e,n){var r=0;e&&(r|=4),Ax(n,t,r,e)}var fl="_reactListening"+Math.random().toString(36).slice(2);function na(t){if(!t[fl]){t[fl]=!0,Mw.forEach(function(n){n!=="selectionchange"&&(iI.has(n)||Vd(n,!1,t),Vd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fl]||(e[fl]=!0,Vd("selectionchange",!1,e))}}function Ax(t,e,n,r){switch(dx(e)){case 1:var i=vA;break;case 4:i=wA;break;default:i=Tp}n=i.bind(null,e,n,t),i=void 0,!Dh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Dd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ai(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Xw(function(){var u=s,d=wp(n),h=[];e:{var p=Px.get(t);if(p!==void 0){var y=Cp,T=t;switch(t){case"keypress":if(jl(n)===0)break e;case"keydown":case"keyup":y=DA;break;case"focusin":T="focus",y=bd;break;case"focusout":T="blur",y=bd;break;case"beforeblur":case"afterblur":y=bd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Fy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=EA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=jA;break;case Ex:case Tx:case Sx:y=CA;break;case Cx:y=FA;break;case"scroll":y=xA;break;case"wheel":y=zA;break;case"copy":case"cut":case"paste":y=bA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=zy}var S=(e&4)!==0,R=!S&&t==="scroll",x=S?p!==null?p+"Capture":null:p;S=[];for(var v=u,w;v!==null;){w=v;var V=w.stateNode;if(w.tag===5&&V!==null&&(w=V,x!==null&&(V=Yo(v,x),V!=null&&S.push(ra(v,V,w)))),R)break;v=v.return}0<S.length&&(p=new y(p,T,null,n,d),h.push({event:p,listeners:S}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==Nh&&(T=n.relatedTarget||n.fromElement)&&(ai(T)||T[Hn]))break e;if((y||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,y?(T=n.relatedTarget||n.toElement,y=u,T=T?ai(T):null,T!==null&&(R=Ii(T),T!==R||T.tag!==5&&T.tag!==6)&&(T=null)):(y=null,T=u),y!==T)){if(S=Fy,V="onMouseLeave",x="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(S=zy,V="onPointerLeave",x="onPointerEnter",v="pointer"),R=y==null?p:Zi(y),w=T==null?p:Zi(T),p=new S(V,v+"leave",y,n,d),p.target=R,p.relatedTarget=w,V=null,ai(d)===u&&(S=new S(x,v+"enter",T,n,d),S.target=w,S.relatedTarget=R,V=S),R=V,y&&T)t:{for(S=y,x=T,v=0,w=S;w;w=Ui(w))v++;for(w=0,V=x;V;V=Ui(V))w++;for(;0<v-w;)S=Ui(S),v--;for(;0<w-v;)x=Ui(x),w--;for(;v--;){if(S===x||x!==null&&S===x.alternate)break t;S=Ui(S),x=Ui(x)}S=null}else S=null;y!==null&&Jy(h,p,y,S,!1),T!==null&&R!==null&&Jy(h,R,T,S,!0)}}e:{if(p=u?Zi(u):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var M=KA;else if(Wy(p))if(yx)M=JA;else{M=YA;var L=QA}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=XA);if(M&&(M=M(t,u))){gx(h,M,n,d);break e}L&&L(t,p,u),t==="focusout"&&(L=p._wrapperState)&&L.controlled&&p.type==="number"&&bh(p,"number",p.value)}switch(L=u?Zi(u):window,t){case"focusin":(Wy(L)||L.contentEditable==="true")&&(Xi=L,Fh=u,Vo=null);break;case"focusout":Vo=Fh=Xi=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,Qy(h,n,d);break;case"selectionchange":if(tI)break;case"keydown":case"keyup":Qy(h,n,d)}var I;if(bp)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Yi?px(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(fx&&n.locale!=="ko"&&(Yi||_!=="onCompositionStart"?_==="onCompositionEnd"&&Yi&&(I=hx()):(hr=d,Sp="value"in hr?hr.value:hr.textContent,Yi=!0)),L=ac(u,_),0<L.length&&(_=new By(_,t,null,n,d),h.push({event:_,listeners:L}),I?_.data=I:(I=mx(n),I!==null&&(_.data=I)))),(I=$A?WA(t,n):HA(t,n))&&(u=ac(u,"onBeforeInput"),0<u.length&&(d=new By("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=I))}bx(h,e)})}function ra(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ac(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Yo(t,n),s!=null&&r.unshift(ra(t,s,i)),s=Yo(t,e),s!=null&&r.push(ra(t,s,i))),t=t.return}return r}function Ui(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Jy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Yo(n,s),l!=null&&o.unshift(ra(n,l,a))):i||(l=Yo(n,s),l!=null&&o.push(ra(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var sI=/\r\n?/g,oI=/\u0000|\uFFFD/g;function Zy(t){return(typeof t=="string"?t:""+t).replace(sI,`
`).replace(oI,"")}function pl(t,e,n){if(e=Zy(e),Zy(t)!==e&&n)throw Error(U(425))}function lc(){}var zh=null,Uh=null;function $h(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wh=typeof setTimeout=="function"?setTimeout:void 0,aI=typeof clearTimeout=="function"?clearTimeout:void 0,ev=typeof Promise=="function"?Promise:void 0,lI=typeof queueMicrotask=="function"?queueMicrotask:typeof ev<"u"?function(t){return ev.resolve(null).then(t).catch(cI)}:Wh;function cI(t){setTimeout(function(){throw t})}function Md(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Zo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Zo(e)}function wr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function tv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Fs=Math.random().toString(36).slice(2),En="__reactFiber$"+Fs,ia="__reactProps$"+Fs,Hn="__reactContainer$"+Fs,Hh="__reactEvents$"+Fs,uI="__reactListeners$"+Fs,dI="__reactHandles$"+Fs;function ai(t){var e=t[En];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Hn]||n[En]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=tv(t);t!==null;){if(n=t[En])return n;t=tv(t)}return e}t=n,n=t.parentNode}return null}function Aa(t){return t=t[En]||t[Hn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function iu(t){return t[ia]||null}var qh=[],es=-1;function Wr(t){return{current:t}}function Se(t){0>es||(t.current=qh[es],qh[es]=null,es--)}function we(t,e){es++,qh[es]=t.current,t.current=e}var Vr={},yt=Wr(Vr),Nt=Wr(!1),gi=Vr;function vs(t,e){var n=t.type.contextTypes;if(!n)return Vr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Vt(t){return t=t.childContextTypes,t!=null}function cc(){Se(Nt),Se(yt)}function nv(t,e,n){if(yt.current!==Vr)throw Error(U(168));we(yt,e),we(Nt,n)}function Ix(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,Qb(t)||"Unknown",i));return ke({},n,r)}function uc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vr,gi=yt.current,we(yt,t),we(Nt,Nt.current),!0}function rv(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=Ix(t,e,gi),r.__reactInternalMemoizedMergedChildContext=t,Se(Nt),Se(yt),we(yt,t)):Se(Nt),we(Nt,n)}var Mn=null,su=!1,Ld=!1;function Rx(t){Mn===null?Mn=[t]:Mn.push(t)}function hI(t){su=!0,Rx(t)}function Hr(){if(!Ld&&Mn!==null){Ld=!0;var t=0,e=ye;try{var n=Mn;for(ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Mn=null,su=!1}catch(i){throw Mn!==null&&(Mn=Mn.slice(t+1)),tx(xp,Hr),i}finally{ye=e,Ld=!1}}return null}var ts=[],ns=0,dc=null,hc=0,Zt=[],en=0,yi=null,Ln=1,jn="";function ti(t,e){ts[ns++]=hc,ts[ns++]=dc,dc=t,hc=e}function kx(t,e,n){Zt[en++]=Ln,Zt[en++]=jn,Zt[en++]=yi,yi=t;var r=Ln;t=jn;var i=32-gn(r)-1;r&=~(1<<i),n+=1;var s=32-gn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ln=1<<32-gn(e)+i|n<<i|r,jn=s+t}else Ln=1<<s|n<<i|r,jn=t}function Ip(t){t.return!==null&&(ti(t,1),kx(t,1,0))}function Rp(t){for(;t===dc;)dc=ts[--ns],ts[ns]=null,hc=ts[--ns],ts[ns]=null;for(;t===yi;)yi=Zt[--en],Zt[en]=null,jn=Zt[--en],Zt[en]=null,Ln=Zt[--en],Zt[en]=null}var Ut=null,zt=null,Ce=!1,pn=null;function Nx(t,e){var n=nn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function iv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ut=t,zt=wr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ut=t,zt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=yi!==null?{id:Ln,overflow:jn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=nn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ut=t,zt=null,!0):!1;default:return!1}}function Gh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Kh(t){if(Ce){var e=zt;if(e){var n=e;if(!iv(t,e)){if(Gh(t))throw Error(U(418));e=wr(n.nextSibling);var r=Ut;e&&iv(t,e)?Nx(r,n):(t.flags=t.flags&-4097|2,Ce=!1,Ut=t)}}else{if(Gh(t))throw Error(U(418));t.flags=t.flags&-4097|2,Ce=!1,Ut=t}}}function sv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ut=t}function ml(t){if(t!==Ut)return!1;if(!Ce)return sv(t),Ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$h(t.type,t.memoizedProps)),e&&(e=zt)){if(Gh(t))throw Vx(),Error(U(418));for(;e;)Nx(t,e),e=wr(e.nextSibling)}if(sv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){zt=wr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}zt=null}}else zt=Ut?wr(t.stateNode.nextSibling):null;return!0}function Vx(){for(var t=zt;t;)t=wr(t.nextSibling)}function ws(){zt=Ut=null,Ce=!1}function kp(t){pn===null?pn=[t]:pn.push(t)}var fI=Zn.ReactCurrentBatchConfig;function fo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function gl(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ov(t){var e=t._init;return e(t._payload)}function Dx(t){function e(x,v){if(t){var w=x.deletions;w===null?(x.deletions=[v],x.flags|=16):w.push(v)}}function n(x,v){if(!t)return null;for(;v!==null;)e(x,v),v=v.sibling;return null}function r(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function i(x,v){return x=Tr(x,v),x.index=0,x.sibling=null,x}function s(x,v,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<v?(x.flags|=2,v):w):(x.flags|=2,v)):(x.flags|=1048576,v)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,v,w,V){return v===null||v.tag!==6?(v=$d(w,x.mode,V),v.return=x,v):(v=i(v,w),v.return=x,v)}function l(x,v,w,V){var M=w.type;return M===Qi?d(x,v,w.props.children,V,w.key):v!==null&&(v.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ar&&ov(M)===v.type)?(V=i(v,w.props),V.ref=fo(x,v,w),V.return=x,V):(V=Wl(w.type,w.key,w.props,null,x.mode,V),V.ref=fo(x,v,w),V.return=x,V)}function u(x,v,w,V){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Wd(w,x.mode,V),v.return=x,v):(v=i(v,w.children||[]),v.return=x,v)}function d(x,v,w,V,M){return v===null||v.tag!==7?(v=mi(w,x.mode,V,M),v.return=x,v):(v=i(v,w),v.return=x,v)}function h(x,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=$d(""+v,x.mode,w),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case sl:return w=Wl(v.type,v.key,v.props,null,x.mode,w),w.ref=fo(x,null,v),w.return=x,w;case Ki:return v=Wd(v,x.mode,w),v.return=x,v;case ar:var V=v._init;return h(x,V(v._payload),w)}if(_o(v)||ao(v))return v=mi(v,x.mode,w,null),v.return=x,v;gl(x,v)}return null}function p(x,v,w,V){var M=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return M!==null?null:a(x,v,""+w,V);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case sl:return w.key===M?l(x,v,w,V):null;case Ki:return w.key===M?u(x,v,w,V):null;case ar:return M=w._init,p(x,v,M(w._payload),V)}if(_o(w)||ao(w))return M!==null?null:d(x,v,w,V,null);gl(x,w)}return null}function y(x,v,w,V,M){if(typeof V=="string"&&V!==""||typeof V=="number")return x=x.get(w)||null,a(v,x,""+V,M);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case sl:return x=x.get(V.key===null?w:V.key)||null,l(v,x,V,M);case Ki:return x=x.get(V.key===null?w:V.key)||null,u(v,x,V,M);case ar:var L=V._init;return y(x,v,w,L(V._payload),M)}if(_o(V)||ao(V))return x=x.get(w)||null,d(v,x,V,M,null);gl(v,V)}return null}function T(x,v,w,V){for(var M=null,L=null,I=v,_=v=0,k=null;I!==null&&_<w.length;_++){I.index>_?(k=I,I=null):k=I.sibling;var N=p(x,I,w[_],V);if(N===null){I===null&&(I=k);break}t&&I&&N.alternate===null&&e(x,I),v=s(N,v,_),L===null?M=N:L.sibling=N,L=N,I=k}if(_===w.length)return n(x,I),Ce&&ti(x,_),M;if(I===null){for(;_<w.length;_++)I=h(x,w[_],V),I!==null&&(v=s(I,v,_),L===null?M=I:L.sibling=I,L=I);return Ce&&ti(x,_),M}for(I=r(x,I);_<w.length;_++)k=y(I,x,_,w[_],V),k!==null&&(t&&k.alternate!==null&&I.delete(k.key===null?_:k.key),v=s(k,v,_),L===null?M=k:L.sibling=k,L=k);return t&&I.forEach(function(A){return e(x,A)}),Ce&&ti(x,_),M}function S(x,v,w,V){var M=ao(w);if(typeof M!="function")throw Error(U(150));if(w=M.call(w),w==null)throw Error(U(151));for(var L=M=null,I=v,_=v=0,k=null,N=w.next();I!==null&&!N.done;_++,N=w.next()){I.index>_?(k=I,I=null):k=I.sibling;var A=p(x,I,N.value,V);if(A===null){I===null&&(I=k);break}t&&I&&A.alternate===null&&e(x,I),v=s(A,v,_),L===null?M=A:L.sibling=A,L=A,I=k}if(N.done)return n(x,I),Ce&&ti(x,_),M;if(I===null){for(;!N.done;_++,N=w.next())N=h(x,N.value,V),N!==null&&(v=s(N,v,_),L===null?M=N:L.sibling=N,L=N);return Ce&&ti(x,_),M}for(I=r(x,I);!N.done;_++,N=w.next())N=y(I,x,_,N.value,V),N!==null&&(t&&N.alternate!==null&&I.delete(N.key===null?_:N.key),v=s(N,v,_),L===null?M=N:L.sibling=N,L=N);return t&&I.forEach(function(P){return e(x,P)}),Ce&&ti(x,_),M}function R(x,v,w,V){if(typeof w=="object"&&w!==null&&w.type===Qi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case sl:e:{for(var M=w.key,L=v;L!==null;){if(L.key===M){if(M=w.type,M===Qi){if(L.tag===7){n(x,L.sibling),v=i(L,w.props.children),v.return=x,x=v;break e}}else if(L.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ar&&ov(M)===L.type){n(x,L.sibling),v=i(L,w.props),v.ref=fo(x,L,w),v.return=x,x=v;break e}n(x,L);break}else e(x,L);L=L.sibling}w.type===Qi?(v=mi(w.props.children,x.mode,V,w.key),v.return=x,x=v):(V=Wl(w.type,w.key,w.props,null,x.mode,V),V.ref=fo(x,v,w),V.return=x,x=V)}return o(x);case Ki:e:{for(L=w.key;v!==null;){if(v.key===L)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(x,v.sibling),v=i(v,w.children||[]),v.return=x,x=v;break e}else{n(x,v);break}else e(x,v);v=v.sibling}v=Wd(w,x.mode,V),v.return=x,x=v}return o(x);case ar:return L=w._init,R(x,v,L(w._payload),V)}if(_o(w))return T(x,v,w,V);if(ao(w))return S(x,v,w,V);gl(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(x,v.sibling),v=i(v,w),v.return=x,x=v):(n(x,v),v=$d(w,x.mode,V),v.return=x,x=v),o(x)):n(x,v)}return R}var xs=Dx(!0),Mx=Dx(!1),fc=Wr(null),pc=null,rs=null,Np=null;function Vp(){Np=rs=pc=null}function Dp(t){var e=fc.current;Se(fc),t._currentValue=e}function Qh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ps(t,e){pc=t,Np=rs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(kt=!0),t.firstContext=null)}function on(t){var e=t._currentValue;if(Np!==t)if(t={context:t,memoizedValue:e,next:null},rs===null){if(pc===null)throw Error(U(308));rs=t,pc.dependencies={lanes:0,firstContext:t}}else rs=rs.next=t;return e}var li=null;function Mp(t){li===null?li=[t]:li.push(t)}function Lx(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Mp(e)):(n.next=i.next,i.next=n),e.interleaved=n,qn(t,r)}function qn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var lr=!1;function Lp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function xr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,qn(t,n)}return i=r.interleaved,i===null?(e.next=e,Mp(r)):(e.next=i.next,i.next=e),r.interleaved=e,qn(t,n)}function Ol(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_p(t,n)}}function av(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function mc(t,e,n,r){var i=t.updateQueue;lr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var p=a.lane,y=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,S=a;switch(p=e,y=n,S.tag){case 1:if(T=S.payload,typeof T=="function"){h=T.call(y,h,p);break e}h=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=S.payload,p=typeof T=="function"?T.call(y,h,p):T,p==null)break e;h=ke({},h,p);break e;case 2:lr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=y,l=h):d=d.next=y,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);wi|=o,t.lanes=o,t.memoizedState=h}}function lv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var Ia={},Sn=Wr(Ia),sa=Wr(Ia),oa=Wr(Ia);function ci(t){if(t===Ia)throw Error(U(174));return t}function jp(t,e){switch(we(oa,e),we(sa,t),we(Sn,Ia),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ih(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ih(e,t)}Se(Sn),we(Sn,e)}function _s(){Se(Sn),Se(sa),Se(oa)}function Ox(t){ci(oa.current);var e=ci(Sn.current),n=Ih(e,t.type);e!==n&&(we(sa,t),we(Sn,n))}function Op(t){sa.current===t&&(Se(Sn),Se(sa))}var be=Wr(0);function gc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jd=[];function Fp(){for(var t=0;t<jd.length;t++)jd[t]._workInProgressVersionPrimary=null;jd.length=0}var Fl=Zn.ReactCurrentDispatcher,Od=Zn.ReactCurrentBatchConfig,vi=0,Re=null,We=null,Je=null,yc=!1,Do=!1,aa=0,pI=0;function ut(){throw Error(U(321))}function Bp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!vn(t[n],e[n]))return!1;return!0}function zp(t,e,n,r,i,s){if(vi=s,Re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fl.current=t===null||t.memoizedState===null?vI:wI,t=n(r,i),Do){s=0;do{if(Do=!1,aa=0,25<=s)throw Error(U(301));s+=1,Je=We=null,e.updateQueue=null,Fl.current=xI,t=n(r,i)}while(Do)}if(Fl.current=vc,e=We!==null&&We.next!==null,vi=0,Je=We=Re=null,yc=!1,e)throw Error(U(300));return t}function Up(){var t=aa!==0;return aa=0,t}function xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Re.memoizedState=Je=t:Je=Je.next=t,Je}function an(){if(We===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var e=Je===null?Re.memoizedState:Je.next;if(e!==null)Je=e,We=t;else{if(t===null)throw Error(U(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Je===null?Re.memoizedState=Je=t:Je=Je.next=t}return Je}function la(t,e){return typeof e=="function"?e(t):e}function Fd(t){var e=an(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=We,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((vi&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Re.lanes|=d,wi|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,vn(r,e.memoizedState)||(kt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Re.lanes|=s,wi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bd(t){var e=an(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);vn(s,e.memoizedState)||(kt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Fx(){}function Bx(t,e){var n=Re,r=an(),i=e(),s=!vn(r.memoizedState,i);if(s&&(r.memoizedState=i,kt=!0),r=r.queue,$p($x.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Je!==null&&Je.memoizedState.tag&1){if(n.flags|=2048,ca(9,Ux.bind(null,n,r,i,e),void 0,null),Ze===null)throw Error(U(349));vi&30||zx(n,e,i)}return i}function zx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Ux(t,e,n,r){e.value=n,e.getSnapshot=r,Wx(e)&&Hx(t)}function $x(t,e,n){return n(function(){Wx(e)&&Hx(t)})}function Wx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!vn(t,n)}catch{return!0}}function Hx(t){var e=qn(t,1);e!==null&&yn(e,t,1,-1)}function cv(t){var e=xn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:t},e.queue=t,t=t.dispatch=yI.bind(null,Re,t),[e.memoizedState,t]}function ca(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function qx(){return an().memoizedState}function Bl(t,e,n,r){var i=xn();Re.flags|=t,i.memoizedState=ca(1|e,n,void 0,r===void 0?null:r)}function ou(t,e,n,r){var i=an();r=r===void 0?null:r;var s=void 0;if(We!==null){var o=We.memoizedState;if(s=o.destroy,r!==null&&Bp(r,o.deps)){i.memoizedState=ca(e,n,s,r);return}}Re.flags|=t,i.memoizedState=ca(1|e,n,s,r)}function uv(t,e){return Bl(8390656,8,t,e)}function $p(t,e){return ou(2048,8,t,e)}function Gx(t,e){return ou(4,2,t,e)}function Kx(t,e){return ou(4,4,t,e)}function Qx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Yx(t,e,n){return n=n!=null?n.concat([t]):null,ou(4,4,Qx.bind(null,e,t),n)}function Wp(){}function Xx(t,e){var n=an();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Jx(t,e){var n=an();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Zx(t,e,n){return vi&21?(vn(n,e)||(n=ix(),Re.lanes|=n,wi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,kt=!0),t.memoizedState=n)}function mI(t,e){var n=ye;ye=n!==0&&4>n?n:4,t(!0);var r=Od.transition;Od.transition={};try{t(!1),e()}finally{ye=n,Od.transition=r}}function e_(){return an().memoizedState}function gI(t,e,n){var r=Er(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},t_(t))n_(e,n);else if(n=Lx(t,e,n,r),n!==null){var i=Pt();yn(n,t,r,i),r_(n,e,r)}}function yI(t,e,n){var r=Er(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(t_(t))n_(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,vn(a,o)){var l=e.interleaved;l===null?(i.next=i,Mp(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Lx(t,e,i,r),n!==null&&(i=Pt(),yn(n,t,r,i),r_(n,e,r))}}function t_(t){var e=t.alternate;return t===Re||e!==null&&e===Re}function n_(t,e){Do=yc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function r_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_p(t,n)}}var vc={readContext:on,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useInsertionEffect:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useSyncExternalStore:ut,useId:ut,unstable_isNewReconciler:!1},vI={readContext:on,useCallback:function(t,e){return xn().memoizedState=[t,e===void 0?null:e],t},useContext:on,useEffect:uv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Bl(4194308,4,Qx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Bl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bl(4,2,t,e)},useMemo:function(t,e){var n=xn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=xn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gI.bind(null,Re,t),[r.memoizedState,t]},useRef:function(t){var e=xn();return t={current:t},e.memoizedState=t},useState:cv,useDebugValue:Wp,useDeferredValue:function(t){return xn().memoizedState=t},useTransition:function(){var t=cv(!1),e=t[0];return t=mI.bind(null,t[1]),xn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Re,i=xn();if(Ce){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Ze===null)throw Error(U(349));vi&30||zx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,uv($x.bind(null,r,s,t),[t]),r.flags|=2048,ca(9,Ux.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=xn(),e=Ze.identifierPrefix;if(Ce){var n=jn,r=Ln;n=(r&~(1<<32-gn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=aa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wI={readContext:on,useCallback:Xx,useContext:on,useEffect:$p,useImperativeHandle:Yx,useInsertionEffect:Gx,useLayoutEffect:Kx,useMemo:Jx,useReducer:Fd,useRef:qx,useState:function(){return Fd(la)},useDebugValue:Wp,useDeferredValue:function(t){var e=an();return Zx(e,We.memoizedState,t)},useTransition:function(){var t=Fd(la)[0],e=an().memoizedState;return[t,e]},useMutableSource:Fx,useSyncExternalStore:Bx,useId:e_,unstable_isNewReconciler:!1},xI={readContext:on,useCallback:Xx,useContext:on,useEffect:$p,useImperativeHandle:Yx,useInsertionEffect:Gx,useLayoutEffect:Kx,useMemo:Jx,useReducer:Bd,useRef:qx,useState:function(){return Bd(la)},useDebugValue:Wp,useDeferredValue:function(t){var e=an();return We===null?e.memoizedState=t:Zx(e,We.memoizedState,t)},useTransition:function(){var t=Bd(la)[0],e=an().memoizedState;return[t,e]},useMutableSource:Fx,useSyncExternalStore:Bx,useId:e_,unstable_isNewReconciler:!1};function hn(t,e){if(t&&t.defaultProps){e=ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Yh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var au={isMounted:function(t){return(t=t._reactInternals)?Ii(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pt(),i=Er(t),s=Fn(r,i);s.payload=e,n!=null&&(s.callback=n),e=xr(t,s,i),e!==null&&(yn(e,t,i,r),Ol(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pt(),i=Er(t),s=Fn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=xr(t,s,i),e!==null&&(yn(e,t,i,r),Ol(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pt(),r=Er(t),i=Fn(n,r);i.tag=2,e!=null&&(i.callback=e),e=xr(t,i,r),e!==null&&(yn(e,t,r,n),Ol(e,t,r))}};function dv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ta(n,r)||!ta(i,s):!0}function i_(t,e,n){var r=!1,i=Vr,s=e.contextType;return typeof s=="object"&&s!==null?s=on(s):(i=Vt(e)?gi:yt.current,r=e.contextTypes,s=(r=r!=null)?vs(t,i):Vr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=au,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function hv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&au.enqueueReplaceState(e,e.state,null)}function Xh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Lp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=on(s):(s=Vt(e)?gi:yt.current,i.context=vs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Yh(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&au.enqueueReplaceState(i,i.state,null),mc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Es(t,e){try{var n="",r=e;do n+=Kb(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function zd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Jh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var _I=typeof WeakMap=="function"?WeakMap:Map;function s_(t,e,n){n=Fn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){xc||(xc=!0,cf=r),Jh(t,e)},n}function o_(t,e,n){n=Fn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Jh(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Jh(t,e),typeof r!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function fv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new _I;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=MI.bind(null,t,e,n),e.then(t,t))}function pv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Fn(-1,1),e.tag=2,xr(n,e,1))),n.lanes|=1),t)}var EI=Zn.ReactCurrentOwner,kt=!1;function St(t,e,n,r){e.child=t===null?Mx(e,null,n,r):xs(e,t.child,n,r)}function gv(t,e,n,r,i){n=n.render;var s=e.ref;return ps(e,i),r=zp(t,e,n,r,s,i),n=Up(),t!==null&&!kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gn(t,e,i)):(Ce&&n&&Ip(e),e.flags|=1,St(t,e,r,i),e.child)}function yv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Jp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,a_(t,e,s,r,i)):(t=Wl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ta,n(o,r)&&t.ref===e.ref)return Gn(t,e,i)}return e.flags|=1,t=Tr(s,r),t.ref=e.ref,t.return=e,e.child=t}function a_(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ta(s,r)&&t.ref===e.ref)if(kt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(kt=!0);else return e.lanes=t.lanes,Gn(t,e,i)}return Zh(t,e,n,r,i)}function l_(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(ss,Ft),Ft|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,we(ss,Ft),Ft|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,we(ss,Ft),Ft|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,we(ss,Ft),Ft|=r;return St(t,e,i,n),e.child}function c_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Zh(t,e,n,r,i){var s=Vt(n)?gi:yt.current;return s=vs(e,s),ps(e,i),n=zp(t,e,n,r,s,i),r=Up(),t!==null&&!kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gn(t,e,i)):(Ce&&r&&Ip(e),e.flags|=1,St(t,e,n,i),e.child)}function vv(t,e,n,r,i){if(Vt(n)){var s=!0;uc(e)}else s=!1;if(ps(e,i),e.stateNode===null)zl(t,e),i_(e,n,r),Xh(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=on(u):(u=Vt(n)?gi:yt.current,u=vs(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&hv(e,o,r,u),lr=!1;var p=e.memoizedState;o.state=p,mc(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Nt.current||lr?(typeof d=="function"&&(Yh(e,n,d,r),l=e.memoizedState),(a=lr||dv(e,n,a,r,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,jx(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:hn(e.type,a),o.props=u,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=on(l):(l=Vt(n)?gi:yt.current,l=vs(e,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&hv(e,o,r,l),lr=!1,p=e.memoizedState,o.state=p,mc(e,r,o,i);var T=e.memoizedState;a!==h||p!==T||Nt.current||lr?(typeof y=="function"&&(Yh(e,n,y,r),T=e.memoizedState),(u=lr||dv(e,n,u,r,p,T,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return ef(t,e,n,r,s,i)}function ef(t,e,n,r,i,s){c_(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&rv(e,n,!1),Gn(t,e,s);r=e.stateNode,EI.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=xs(e,t.child,null,s),e.child=xs(e,null,a,s)):St(t,e,a,s),e.memoizedState=r.state,i&&rv(e,n,!0),e.child}function u_(t){var e=t.stateNode;e.pendingContext?nv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&nv(t,e.context,!1),jp(t,e.containerInfo)}function wv(t,e,n,r,i){return ws(),kp(i),e.flags|=256,St(t,e,n,r),e.child}var tf={dehydrated:null,treeContext:null,retryLane:0};function nf(t){return{baseLanes:t,cachePool:null,transitions:null}}function d_(t,e,n){var r=e.pendingProps,i=be.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),we(be,i&1),t===null)return Kh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=uu(o,r,0,null),t=mi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=nf(n),e.memoizedState=tf,t):Hp(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return TI(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Tr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Tr(a,s):(s=mi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?nf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=tf,r}return s=t.child,t=s.sibling,r=Tr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Hp(t,e){return e=uu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yl(t,e,n,r){return r!==null&&kp(r),xs(e,t.child,null,n),t=Hp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function TI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=zd(Error(U(422))),yl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=uu({mode:"visible",children:r.children},i,0,null),s=mi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&xs(e,t.child,null,o),e.child.memoizedState=nf(o),e.memoizedState=tf,s);if(!(e.mode&1))return yl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(U(419)),r=zd(s,r,void 0),yl(t,e,o,r)}if(a=(o&t.childLanes)!==0,kt||a){if(r=Ze,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,qn(t,i),yn(r,t,i,-1))}return Xp(),r=zd(Error(U(421))),yl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=LI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,zt=wr(i.nextSibling),Ut=e,Ce=!0,pn=null,t!==null&&(Zt[en++]=Ln,Zt[en++]=jn,Zt[en++]=yi,Ln=t.id,jn=t.overflow,yi=e),e=Hp(e,r.children),e.flags|=4096,e)}function xv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qh(t.return,e,n)}function Ud(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function h_(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(St(t,e,r.children,n),r=be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xv(t,n,e);else if(t.tag===19)xv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(we(be,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&gc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ud(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&gc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ud(e,!0,n,null,s);break;case"together":Ud(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Gn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),wi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Tr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Tr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function SI(t,e,n){switch(e.tag){case 3:u_(e),ws();break;case 5:Ox(e);break;case 1:Vt(e.type)&&uc(e);break;case 4:jp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;we(fc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(we(be,be.current&1),e.flags|=128,null):n&e.child.childLanes?d_(t,e,n):(we(be,be.current&1),t=Gn(t,e,n),t!==null?t.sibling:null);we(be,be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return h_(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),we(be,be.current),r)break;return null;case 22:case 23:return e.lanes=0,l_(t,e,n)}return Gn(t,e,n)}var f_,rf,p_,m_;f_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};rf=function(){};p_=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ci(Sn.current);var s=null;switch(n){case"input":i=Ch(t,i),r=Ch(t,r),s=[];break;case"select":i=ke({},i,{value:void 0}),r=ke({},r,{value:void 0}),s=[];break;case"textarea":i=Ah(t,i),r=Ah(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=lc)}Rh(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ko.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ko.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Te("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};m_=function(t,e,n,r){n!==r&&(e.flags|=4)};function po(t,e){if(!Ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function CI(t,e,n){var r=e.pendingProps;switch(Rp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(e),null;case 1:return Vt(e.type)&&cc(),dt(e),null;case 3:return r=e.stateNode,_s(),Se(Nt),Se(yt),Fp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ml(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pn!==null&&(hf(pn),pn=null))),rf(t,e),dt(e),null;case 5:Op(e);var i=ci(oa.current);if(n=e.type,t!==null&&e.stateNode!=null)p_(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return dt(e),null}if(t=ci(Sn.current),ml(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[En]=e,r[ia]=s,t=(e.mode&1)!==0,n){case"dialog":Te("cancel",r),Te("close",r);break;case"iframe":case"object":case"embed":Te("load",r);break;case"video":case"audio":for(i=0;i<To.length;i++)Te(To[i],r);break;case"source":Te("error",r);break;case"img":case"image":case"link":Te("error",r),Te("load",r);break;case"details":Te("toggle",r);break;case"input":Iy(r,s),Te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Te("invalid",r);break;case"textarea":ky(r,s),Te("invalid",r)}Rh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&pl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&pl(r.textContent,a,t),i=["children",""+a]):Ko.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Te("scroll",r)}switch(n){case"input":ol(r),Ry(r,s,!0);break;case"textarea":ol(r),Ny(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=lc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$w(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[En]=e,t[ia]=r,f_(t,e,!1,!1),e.stateNode=t;e:{switch(o=kh(n,r),n){case"dialog":Te("cancel",t),Te("close",t),i=r;break;case"iframe":case"object":case"embed":Te("load",t),i=r;break;case"video":case"audio":for(i=0;i<To.length;i++)Te(To[i],t);i=r;break;case"source":Te("error",t),i=r;break;case"img":case"image":case"link":Te("error",t),Te("load",t),i=r;break;case"details":Te("toggle",t),i=r;break;case"input":Iy(t,r),i=Ch(t,r),Te("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ke({},r,{value:void 0}),Te("invalid",t);break;case"textarea":ky(t,r),i=Ah(t,r),Te("invalid",t);break;default:i=r}Rh(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?qw(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ww(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Qo(t,l):typeof l=="number"&&Qo(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ko.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Te("scroll",t):l!=null&&mp(t,s,l,o))}switch(n){case"input":ol(t),Ry(t,r,!1);break;case"textarea":ol(t),Ny(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Nr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?us(t,!!r.multiple,s,!1):r.defaultValue!=null&&us(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=lc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dt(e),null;case 6:if(t&&e.stateNode!=null)m_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=ci(oa.current),ci(Sn.current),ml(e)){if(r=e.stateNode,n=e.memoizedProps,r[En]=e,(s=r.nodeValue!==n)&&(t=Ut,t!==null))switch(t.tag){case 3:pl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[En]=e,e.stateNode=r}return dt(e),null;case 13:if(Se(be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ce&&zt!==null&&e.mode&1&&!(e.flags&128))Vx(),ws(),e.flags|=98560,s=!1;else if(s=ml(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[En]=e}else ws(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dt(e),s=!1}else pn!==null&&(hf(pn),pn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||be.current&1?qe===0&&(qe=3):Xp())),e.updateQueue!==null&&(e.flags|=4),dt(e),null);case 4:return _s(),rf(t,e),t===null&&na(e.stateNode.containerInfo),dt(e),null;case 10:return Dp(e.type._context),dt(e),null;case 17:return Vt(e.type)&&cc(),dt(e),null;case 19:if(Se(be),s=e.memoizedState,s===null)return dt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)po(s,!1);else{if(qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=gc(t),o!==null){for(e.flags|=128,po(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return we(be,be.current&1|2),e.child}t=t.sibling}s.tail!==null&&Oe()>Ts&&(e.flags|=128,r=!0,po(s,!1),e.lanes=4194304)}else{if(!r)if(t=gc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),po(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ce)return dt(e),null}else 2*Oe()-s.renderingStartTime>Ts&&n!==1073741824&&(e.flags|=128,r=!0,po(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Oe(),e.sibling=null,n=be.current,we(be,r?n&1|2:n&1),e):(dt(e),null);case 22:case 23:return Yp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ft&1073741824&&(dt(e),e.subtreeFlags&6&&(e.flags|=8192)):dt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function PI(t,e){switch(Rp(e),e.tag){case 1:return Vt(e.type)&&cc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _s(),Se(Nt),Se(yt),Fp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Op(e),null;case 13:if(Se(be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));ws()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Se(be),null;case 4:return _s(),null;case 10:return Dp(e.type._context),null;case 22:case 23:return Yp(),null;case 24:return null;default:return null}}var vl=!1,mt=!1,bI=typeof WeakSet=="function"?WeakSet:Set,q=null;function is(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){De(t,e,r)}else n.current=null}function sf(t,e,n){try{n()}catch(r){De(t,e,r)}}var _v=!1;function AI(t,e){if(zh=sc,t=xx(),Ap(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,p=null;t:for(;;){for(var y;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)p=h,h=y;for(;;){if(h===t)break t;if(p===n&&++u===i&&(a=o),p===s&&++d===r&&(l=o),(y=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Uh={focusedElem:t,selectionRange:n},sc=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var S=T.memoizedProps,R=T.memoizedState,x=e.stateNode,v=x.getSnapshotBeforeUpdate(e.elementType===e.type?S:hn(e.type,S),R);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(V){De(e,e.return,V)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return T=_v,_v=!1,T}function Mo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&sf(e,n,s)}i=i.next}while(i!==r)}}function lu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function of(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function g_(t){var e=t.alternate;e!==null&&(t.alternate=null,g_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[En],delete e[ia],delete e[Hh],delete e[uI],delete e[dI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function y_(t){return t.tag===5||t.tag===3||t.tag===4}function Ev(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||y_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function af(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=lc));else if(r!==4&&(t=t.child,t!==null))for(af(t,e,n),t=t.sibling;t!==null;)af(t,e,n),t=t.sibling}function lf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(lf(t,e,n),t=t.sibling;t!==null;)lf(t,e,n),t=t.sibling}var tt=null,fn=!1;function rr(t,e,n){for(n=n.child;n!==null;)v_(t,e,n),n=n.sibling}function v_(t,e,n){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(eu,n)}catch{}switch(n.tag){case 5:mt||is(n,e);case 6:var r=tt,i=fn;tt=null,rr(t,e,n),tt=r,fn=i,tt!==null&&(fn?(t=tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):tt.removeChild(n.stateNode));break;case 18:tt!==null&&(fn?(t=tt,n=n.stateNode,t.nodeType===8?Md(t.parentNode,n):t.nodeType===1&&Md(t,n),Zo(t)):Md(tt,n.stateNode));break;case 4:r=tt,i=fn,tt=n.stateNode.containerInfo,fn=!0,rr(t,e,n),tt=r,fn=i;break;case 0:case 11:case 14:case 15:if(!mt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&sf(n,e,o),i=i.next}while(i!==r)}rr(t,e,n);break;case 1:if(!mt&&(is(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){De(n,e,a)}rr(t,e,n);break;case 21:rr(t,e,n);break;case 22:n.mode&1?(mt=(r=mt)||n.memoizedState!==null,rr(t,e,n),mt=r):rr(t,e,n);break;default:rr(t,e,n)}}function Tv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new bI),e.forEach(function(r){var i=jI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function cn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:tt=a.stateNode,fn=!1;break e;case 3:tt=a.stateNode.containerInfo,fn=!0;break e;case 4:tt=a.stateNode.containerInfo,fn=!0;break e}a=a.return}if(tt===null)throw Error(U(160));v_(s,o,i),tt=null,fn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){De(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)w_(e,t),e=e.sibling}function w_(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(cn(e,t),wn(t),r&4){try{Mo(3,t,t.return),lu(3,t)}catch(S){De(t,t.return,S)}try{Mo(5,t,t.return)}catch(S){De(t,t.return,S)}}break;case 1:cn(e,t),wn(t),r&512&&n!==null&&is(n,n.return);break;case 5:if(cn(e,t),wn(t),r&512&&n!==null&&is(n,n.return),t.flags&32){var i=t.stateNode;try{Qo(i,"")}catch(S){De(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&zw(i,s),kh(a,o);var u=kh(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?qw(i,h):d==="dangerouslySetInnerHTML"?Ww(i,h):d==="children"?Qo(i,h):mp(i,d,h,u)}switch(a){case"input":Ph(i,s);break;case"textarea":Uw(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?us(i,!!s.multiple,y,!1):p!==!!s.multiple&&(s.defaultValue!=null?us(i,!!s.multiple,s.defaultValue,!0):us(i,!!s.multiple,s.multiple?[]:"",!1))}i[ia]=s}catch(S){De(t,t.return,S)}}break;case 6:if(cn(e,t),wn(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){De(t,t.return,S)}}break;case 3:if(cn(e,t),wn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zo(e.containerInfo)}catch(S){De(t,t.return,S)}break;case 4:cn(e,t),wn(t);break;case 13:cn(e,t),wn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Kp=Oe())),r&4&&Tv(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(mt=(u=mt)||d,cn(e,t),mt=u):cn(e,t),wn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(q=t,d=t.child;d!==null;){for(h=q=d;q!==null;){switch(p=q,y=p.child,p.tag){case 0:case 11:case 14:case 15:Mo(4,p,p.return);break;case 1:is(p,p.return);var T=p.stateNode;if(typeof T.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(S){De(r,n,S)}}break;case 5:is(p,p.return);break;case 22:if(p.memoizedState!==null){Cv(h);continue}}y!==null?(y.return=p,q=y):Cv(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Hw("display",o))}catch(S){De(t,t.return,S)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(S){De(t,t.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:cn(e,t),wn(t),r&4&&Tv(t);break;case 21:break;default:cn(e,t),wn(t)}}function wn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(y_(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Qo(i,""),r.flags&=-33);var s=Ev(t);lf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ev(t);af(t,a,o);break;default:throw Error(U(161))}}catch(l){De(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function II(t,e,n){q=t,x_(t)}function x_(t,e,n){for(var r=(t.mode&1)!==0;q!==null;){var i=q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||vl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||mt;a=vl;var u=mt;if(vl=o,(mt=l)&&!u)for(q=i;q!==null;)o=q,l=o.child,o.tag===22&&o.memoizedState!==null?Pv(i):l!==null?(l.return=o,q=l):Pv(i);for(;s!==null;)q=s,x_(s),s=s.sibling;q=i,vl=a,mt=u}Sv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,q=s):Sv(t)}}function Sv(t){for(;q!==null;){var e=q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mt||lu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!mt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:hn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&lv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}lv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Zo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}mt||e.flags&512&&of(e)}catch(p){De(e,e.return,p)}}if(e===t){q=null;break}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}}function Cv(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,q=n;break}q=e.return}}function Pv(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{lu(4,e)}catch(l){De(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){De(e,i,l)}}var s=e.return;try{of(e)}catch(l){De(e,s,l)}break;case 5:var o=e.return;try{of(e)}catch(l){De(e,o,l)}}}catch(l){De(e,e.return,l)}if(e===t){q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,q=a;break}q=e.return}}var RI=Math.ceil,wc=Zn.ReactCurrentDispatcher,qp=Zn.ReactCurrentOwner,rn=Zn.ReactCurrentBatchConfig,pe=0,Ze=null,$e=null,it=0,Ft=0,ss=Wr(0),qe=0,ua=null,wi=0,cu=0,Gp=0,Lo=null,Rt=null,Kp=0,Ts=1/0,Dn=null,xc=!1,cf=null,_r=null,wl=!1,fr=null,_c=0,jo=0,uf=null,Ul=-1,$l=0;function Pt(){return pe&6?Oe():Ul!==-1?Ul:Ul=Oe()}function Er(t){return t.mode&1?pe&2&&it!==0?it&-it:fI.transition!==null?($l===0&&($l=ix()),$l):(t=ye,t!==0||(t=window.event,t=t===void 0?16:dx(t.type)),t):1}function yn(t,e,n,r){if(50<jo)throw jo=0,uf=null,Error(U(185));Pa(t,n,r),(!(pe&2)||t!==Ze)&&(t===Ze&&(!(pe&2)&&(cu|=n),qe===4&&dr(t,it)),Dt(t,r),n===1&&pe===0&&!(e.mode&1)&&(Ts=Oe()+500,su&&Hr()))}function Dt(t,e){var n=t.callbackNode;fA(t,e);var r=ic(t,t===Ze?it:0);if(r===0)n!==null&&My(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&My(n),e===1)t.tag===0?hI(bv.bind(null,t)):Rx(bv.bind(null,t)),lI(function(){!(pe&6)&&Hr()}),n=null;else{switch(sx(r)){case 1:n=xp;break;case 4:n=nx;break;case 16:n=rc;break;case 536870912:n=rx;break;default:n=rc}n=A_(n,__.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function __(t,e){if(Ul=-1,$l=0,pe&6)throw Error(U(327));var n=t.callbackNode;if(ms()&&t.callbackNode!==n)return null;var r=ic(t,t===Ze?it:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ec(t,r);else{e=r;var i=pe;pe|=2;var s=T_();(Ze!==t||it!==e)&&(Dn=null,Ts=Oe()+500,pi(t,e));do try{VI();break}catch(a){E_(t,a)}while(1);Vp(),wc.current=s,pe=i,$e!==null?e=0:(Ze=null,it=0,e=qe)}if(e!==0){if(e===2&&(i=Lh(t),i!==0&&(r=i,e=df(t,i))),e===1)throw n=ua,pi(t,0),dr(t,r),Dt(t,Oe()),n;if(e===6)dr(t,r);else{if(i=t.current.alternate,!(r&30)&&!kI(i)&&(e=Ec(t,r),e===2&&(s=Lh(t),s!==0&&(r=s,e=df(t,s))),e===1))throw n=ua,pi(t,0),dr(t,r),Dt(t,Oe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:ni(t,Rt,Dn);break;case 3:if(dr(t,r),(r&130023424)===r&&(e=Kp+500-Oe(),10<e)){if(ic(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Pt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Wh(ni.bind(null,t,Rt,Dn),e);break}ni(t,Rt,Dn);break;case 4:if(dr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-gn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*RI(r/1960))-r,10<r){t.timeoutHandle=Wh(ni.bind(null,t,Rt,Dn),r);break}ni(t,Rt,Dn);break;case 5:ni(t,Rt,Dn);break;default:throw Error(U(329))}}}return Dt(t,Oe()),t.callbackNode===n?__.bind(null,t):null}function df(t,e){var n=Lo;return t.current.memoizedState.isDehydrated&&(pi(t,e).flags|=256),t=Ec(t,e),t!==2&&(e=Rt,Rt=n,e!==null&&hf(e)),t}function hf(t){Rt===null?Rt=t:Rt.push.apply(Rt,t)}function kI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!vn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function dr(t,e){for(e&=~Gp,e&=~cu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-gn(e),r=1<<n;t[n]=-1,e&=~r}}function bv(t){if(pe&6)throw Error(U(327));ms();var e=ic(t,0);if(!(e&1))return Dt(t,Oe()),null;var n=Ec(t,e);if(t.tag!==0&&n===2){var r=Lh(t);r!==0&&(e=r,n=df(t,r))}if(n===1)throw n=ua,pi(t,0),dr(t,e),Dt(t,Oe()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ni(t,Rt,Dn),Dt(t,Oe()),null}function Qp(t,e){var n=pe;pe|=1;try{return t(e)}finally{pe=n,pe===0&&(Ts=Oe()+500,su&&Hr())}}function xi(t){fr!==null&&fr.tag===0&&!(pe&6)&&ms();var e=pe;pe|=1;var n=rn.transition,r=ye;try{if(rn.transition=null,ye=1,t)return t()}finally{ye=r,rn.transition=n,pe=e,!(pe&6)&&Hr()}}function Yp(){Ft=ss.current,Se(ss)}function pi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,aI(n)),$e!==null)for(n=$e.return;n!==null;){var r=n;switch(Rp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cc();break;case 3:_s(),Se(Nt),Se(yt),Fp();break;case 5:Op(r);break;case 4:_s();break;case 13:Se(be);break;case 19:Se(be);break;case 10:Dp(r.type._context);break;case 22:case 23:Yp()}n=n.return}if(Ze=t,$e=t=Tr(t.current,null),it=Ft=e,qe=0,ua=null,Gp=cu=wi=0,Rt=Lo=null,li!==null){for(e=0;e<li.length;e++)if(n=li[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}li=null}return t}function E_(t,e){do{var n=$e;try{if(Vp(),Fl.current=vc,yc){for(var r=Re.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}yc=!1}if(vi=0,Je=We=Re=null,Do=!1,aa=0,qp.current=null,n===null||n.return===null){qe=1,ua=e,$e=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=it,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=pv(o);if(y!==null){y.flags&=-257,mv(y,o,a,s,e),y.mode&1&&fv(s,u,e),e=y,l=u;var T=e.updateQueue;if(T===null){var S=new Set;S.add(l),e.updateQueue=S}else T.add(l);break e}else{if(!(e&1)){fv(s,u,e),Xp();break e}l=Error(U(426))}}else if(Ce&&a.mode&1){var R=pv(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),mv(R,o,a,s,e),kp(Es(l,a));break e}}s=l=Es(l,a),qe!==4&&(qe=2),Lo===null?Lo=[s]:Lo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=s_(s,l,e);av(s,x);break e;case 1:a=l;var v=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(_r===null||!_r.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var V=o_(s,a,e);av(s,V);break e}}s=s.return}while(s!==null)}C_(n)}catch(M){e=M,$e===n&&n!==null&&($e=n=n.return);continue}break}while(1)}function T_(){var t=wc.current;return wc.current=vc,t===null?vc:t}function Xp(){(qe===0||qe===3||qe===2)&&(qe=4),Ze===null||!(wi&268435455)&&!(cu&268435455)||dr(Ze,it)}function Ec(t,e){var n=pe;pe|=2;var r=T_();(Ze!==t||it!==e)&&(Dn=null,pi(t,e));do try{NI();break}catch(i){E_(t,i)}while(1);if(Vp(),pe=n,wc.current=r,$e!==null)throw Error(U(261));return Ze=null,it=0,qe}function NI(){for(;$e!==null;)S_($e)}function VI(){for(;$e!==null&&!iA();)S_($e)}function S_(t){var e=b_(t.alternate,t,Ft);t.memoizedProps=t.pendingProps,e===null?C_(t):$e=e,qp.current=null}function C_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=PI(n,e),n!==null){n.flags&=32767,$e=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qe=6,$e=null;return}}else if(n=CI(n,e,Ft),n!==null){$e=n;return}if(e=e.sibling,e!==null){$e=e;return}$e=e=t}while(e!==null);qe===0&&(qe=5)}function ni(t,e,n){var r=ye,i=rn.transition;try{rn.transition=null,ye=1,DI(t,e,n,r)}finally{rn.transition=i,ye=r}return null}function DI(t,e,n,r){do ms();while(fr!==null);if(pe&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(pA(t,s),t===Ze&&($e=Ze=null,it=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wl||(wl=!0,A_(rc,function(){return ms(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=rn.transition,rn.transition=null;var o=ye;ye=1;var a=pe;pe|=4,qp.current=null,AI(t,n),w_(n,t),eI(Uh),sc=!!zh,Uh=zh=null,t.current=n,II(n),sA(),pe=a,ye=o,rn.transition=s}else t.current=n;if(wl&&(wl=!1,fr=t,_c=i),s=t.pendingLanes,s===0&&(_r=null),lA(n.stateNode),Dt(t,Oe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(xc)throw xc=!1,t=cf,cf=null,t;return _c&1&&t.tag!==0&&ms(),s=t.pendingLanes,s&1?t===uf?jo++:(jo=0,uf=t):jo=0,Hr(),null}function ms(){if(fr!==null){var t=sx(_c),e=rn.transition,n=ye;try{if(rn.transition=null,ye=16>t?16:t,fr===null)var r=!1;else{if(t=fr,fr=null,_c=0,pe&6)throw Error(U(331));var i=pe;for(pe|=4,q=t.current;q!==null;){var s=q,o=s.child;if(q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(q=u;q!==null;){var d=q;switch(d.tag){case 0:case 11:case 15:Mo(8,d,s)}var h=d.child;if(h!==null)h.return=d,q=h;else for(;q!==null;){d=q;var p=d.sibling,y=d.return;if(g_(d),d===u){q=null;break}if(p!==null){p.return=y,q=p;break}q=y}}}var T=s.alternate;if(T!==null){var S=T.child;if(S!==null){T.child=null;do{var R=S.sibling;S.sibling=null,S=R}while(S!==null)}}q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,q=o;else e:for(;q!==null;){if(s=q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Mo(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,q=x;break e}q=s.return}}var v=t.current;for(q=v;q!==null;){o=q;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,q=w;else e:for(o=v;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lu(9,a)}}catch(M){De(a,a.return,M)}if(a===o){q=null;break e}var V=a.sibling;if(V!==null){V.return=a.return,q=V;break e}q=a.return}}if(pe=i,Hr(),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(eu,t)}catch{}r=!0}return r}finally{ye=n,rn.transition=e}}return!1}function Av(t,e,n){e=Es(n,e),e=s_(t,e,1),t=xr(t,e,1),e=Pt(),t!==null&&(Pa(t,1,e),Dt(t,e))}function De(t,e,n){if(t.tag===3)Av(t,t,n);else for(;e!==null;){if(e.tag===3){Av(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_r===null||!_r.has(r))){t=Es(n,t),t=o_(e,t,1),e=xr(e,t,1),t=Pt(),e!==null&&(Pa(e,1,t),Dt(e,t));break}}e=e.return}}function MI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pt(),t.pingedLanes|=t.suspendedLanes&n,Ze===t&&(it&n)===n&&(qe===4||qe===3&&(it&130023424)===it&&500>Oe()-Kp?pi(t,0):Gp|=n),Dt(t,e)}function P_(t,e){e===0&&(t.mode&1?(e=cl,cl<<=1,!(cl&130023424)&&(cl=4194304)):e=1);var n=Pt();t=qn(t,e),t!==null&&(Pa(t,e,n),Dt(t,n))}function LI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),P_(t,n)}function jI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),P_(t,n)}var b_;b_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nt.current)kt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return kt=!1,SI(t,e,n);kt=!!(t.flags&131072)}else kt=!1,Ce&&e.flags&1048576&&kx(e,hc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;zl(t,e),t=e.pendingProps;var i=vs(e,yt.current);ps(e,n),i=zp(null,e,r,t,i,n);var s=Up();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vt(r)?(s=!0,uc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Lp(e),i.updater=au,e.stateNode=i,i._reactInternals=e,Xh(e,r,t,n),e=ef(null,e,r,!0,s,n)):(e.tag=0,Ce&&s&&Ip(e),St(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(zl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=FI(r),t=hn(r,t),i){case 0:e=Zh(null,e,r,t,n);break e;case 1:e=vv(null,e,r,t,n);break e;case 11:e=gv(null,e,r,t,n);break e;case 14:e=yv(null,e,r,hn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hn(r,i),Zh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hn(r,i),vv(t,e,r,i,n);case 3:e:{if(u_(e),t===null)throw Error(U(387));r=e.pendingProps,s=e.memoizedState,i=s.element,jx(t,e),mc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Es(Error(U(423)),e),e=wv(t,e,r,n,i);break e}else if(r!==i){i=Es(Error(U(424)),e),e=wv(t,e,r,n,i);break e}else for(zt=wr(e.stateNode.containerInfo.firstChild),Ut=e,Ce=!0,pn=null,n=Mx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ws(),r===i){e=Gn(t,e,n);break e}St(t,e,r,n)}e=e.child}return e;case 5:return Ox(e),t===null&&Kh(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,$h(r,i)?o=null:s!==null&&$h(r,s)&&(e.flags|=32),c_(t,e),St(t,e,o,n),e.child;case 6:return t===null&&Kh(e),null;case 13:return d_(t,e,n);case 4:return jp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=xs(e,null,r,n):St(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hn(r,i),gv(t,e,r,i,n);case 7:return St(t,e,e.pendingProps,n),e.child;case 8:return St(t,e,e.pendingProps.children,n),e.child;case 12:return St(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,we(fc,r._currentValue),r._currentValue=o,s!==null)if(vn(s.value,o)){if(s.children===i.children&&!Nt.current){e=Gn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Fn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Qh(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Qh(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}St(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ps(e,n),i=on(i),r=r(i),e.flags|=1,St(t,e,r,n),e.child;case 14:return r=e.type,i=hn(r,e.pendingProps),i=hn(r.type,i),yv(t,e,r,i,n);case 15:return a_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hn(r,i),zl(t,e),e.tag=1,Vt(r)?(t=!0,uc(e)):t=!1,ps(e,n),i_(e,r,i),Xh(e,r,i,n),ef(null,e,r,!0,t,n);case 19:return h_(t,e,n);case 22:return l_(t,e,n)}throw Error(U(156,e.tag))};function A_(t,e){return tx(t,e)}function OI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,e,n,r){return new OI(t,e,n,r)}function Jp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function FI(t){if(typeof t=="function")return Jp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===yp)return 11;if(t===vp)return 14}return 2}function Tr(t,e){var n=t.alternate;return n===null?(n=nn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Jp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Qi:return mi(n.children,i,s,e);case gp:o=8,i|=8;break;case _h:return t=nn(12,n,e,i|2),t.elementType=_h,t.lanes=s,t;case Eh:return t=nn(13,n,e,i),t.elementType=Eh,t.lanes=s,t;case Th:return t=nn(19,n,e,i),t.elementType=Th,t.lanes=s,t;case Ow:return uu(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Lw:o=10;break e;case jw:o=9;break e;case yp:o=11;break e;case vp:o=14;break e;case ar:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=nn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function mi(t,e,n,r){return t=nn(7,t,r,e),t.lanes=n,t}function uu(t,e,n,r){return t=nn(22,t,r,e),t.elementType=Ow,t.lanes=n,t.stateNode={isHidden:!1},t}function $d(t,e,n){return t=nn(6,t,null,e),t.lanes=n,t}function Wd(t,e,n){return e=nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function BI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sd(0),this.expirationTimes=Sd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zp(t,e,n,r,i,s,o,a,l){return t=new BI(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=nn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lp(s),t}function zI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ki,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function I_(t){if(!t)return Vr;t=t._reactInternals;e:{if(Ii(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Vt(n))return Ix(t,n,e)}return e}function R_(t,e,n,r,i,s,o,a,l){return t=Zp(n,r,!0,t,i,s,o,a,l),t.context=I_(null),n=t.current,r=Pt(),i=Er(n),s=Fn(r,i),s.callback=e??null,xr(n,s,i),t.current.lanes=i,Pa(t,i,r),Dt(t,r),t}function du(t,e,n,r){var i=e.current,s=Pt(),o=Er(i);return n=I_(n),e.context===null?e.context=n:e.pendingContext=n,e=Fn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=xr(i,e,o),t!==null&&(yn(t,i,o,s),Ol(t,i,o)),o}function Tc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Iv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function em(t,e){Iv(t,e),(t=t.alternate)&&Iv(t,e)}function UI(){return null}var k_=typeof reportError=="function"?reportError:function(t){console.error(t)};function tm(t){this._internalRoot=t}hu.prototype.render=tm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));du(t,e,null,null)};hu.prototype.unmount=tm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xi(function(){du(null,t,null,null)}),e[Hn]=null}};function hu(t){this._internalRoot=t}hu.prototype.unstable_scheduleHydration=function(t){if(t){var e=lx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ur.length&&e!==0&&e<ur[n].priority;n++);ur.splice(n,0,t),n===0&&ux(t)}};function nm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Rv(){}function $I(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Tc(o);s.call(u)}}var o=R_(e,r,t,0,null,!1,!1,"",Rv);return t._reactRootContainer=o,t[Hn]=o.current,na(t.nodeType===8?t.parentNode:t),xi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Tc(l);a.call(u)}}var l=Zp(t,0,!1,null,null,!1,!1,"",Rv);return t._reactRootContainer=l,t[Hn]=l.current,na(t.nodeType===8?t.parentNode:t),xi(function(){du(e,l,n,r)}),l}function pu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Tc(o);a.call(l)}}du(e,o,t,i)}else o=$I(n,e,t,i,r);return Tc(o)}ox=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Eo(e.pendingLanes);n!==0&&(_p(e,n|1),Dt(e,Oe()),!(pe&6)&&(Ts=Oe()+500,Hr()))}break;case 13:xi(function(){var r=qn(t,1);if(r!==null){var i=Pt();yn(r,t,1,i)}}),em(t,1)}};Ep=function(t){if(t.tag===13){var e=qn(t,134217728);if(e!==null){var n=Pt();yn(e,t,134217728,n)}em(t,134217728)}};ax=function(t){if(t.tag===13){var e=Er(t),n=qn(t,e);if(n!==null){var r=Pt();yn(n,t,e,r)}em(t,e)}};lx=function(){return ye};cx=function(t,e){var n=ye;try{return ye=t,e()}finally{ye=n}};Vh=function(t,e,n){switch(e){case"input":if(Ph(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=iu(r);if(!i)throw Error(U(90));Bw(r),Ph(r,i)}}}break;case"textarea":Uw(t,n);break;case"select":e=n.value,e!=null&&us(t,!!n.multiple,e,!1)}};Qw=Qp;Yw=xi;var WI={usingClientEntryPoint:!1,Events:[Aa,Zi,iu,Gw,Kw,Qp]},mo={findFiberByHostInstance:ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HI={bundleType:mo.bundleType,version:mo.version,rendererPackageName:mo.rendererPackageName,rendererConfig:mo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Zw(t),t===null?null:t.stateNode},findFiberByHostInstance:mo.findFiberByHostInstance||UI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xl.isDisabled&&xl.supportsFiber)try{eu=xl.inject(HI),Tn=xl}catch{}}Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WI;Gt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nm(e))throw Error(U(200));return zI(t,e,null,n)};Gt.createRoot=function(t,e){if(!nm(t))throw Error(U(299));var n=!1,r="",i=k_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Zp(t,1,!1,null,null,n,!1,r,i),t[Hn]=e.current,na(t.nodeType===8?t.parentNode:t),new tm(e)};Gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=Zw(e),t=t===null?null:t.stateNode,t};Gt.flushSync=function(t){return xi(t)};Gt.hydrate=function(t,e,n){if(!fu(e))throw Error(U(200));return pu(null,t,e,!0,n)};Gt.hydrateRoot=function(t,e,n){if(!nm(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=k_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=R_(e,null,t,1,n??null,i,!1,s,o),t[Hn]=e.current,na(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new hu(e)};Gt.render=function(t,e,n){if(!fu(e))throw Error(U(200));return pu(null,t,e,!1,n)};Gt.unmountComponentAtNode=function(t){if(!fu(t))throw Error(U(40));return t._reactRootContainer?(xi(function(){pu(null,null,t,!1,function(){t._reactRootContainer=null,t[Hn]=null})}),!0):!1};Gt.unstable_batchedUpdates=Qp;Gt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!fu(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return pu(t,e,n,!1,r)};Gt.version="18.3.1-next-f1338f8080-20240426";function N_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(N_)}catch(t){console.error(t)}}N_(),Nw.exports=Gt;var mu=Nw.exports;const qI=ww(mu);var kv=mu;wh.createRoot=kv.createRoot,wh.hydrateRoot=kv.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function da(){return da=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},da.apply(this,arguments)}var pr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(pr||(pr={}));const Nv="popstate";function GI(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return ff("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Sc(i)}return QI(e,n,null,t)}function Le(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function V_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KI(){return Math.random().toString(36).substr(2,8)}function Vv(t,e){return{usr:t.state,key:t.key,idx:e}}function ff(t,e,n,r){return n===void 0&&(n=null),da({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Bs(e):e,{state:n,key:e&&e.key||r||KI()})}function Sc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Bs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function QI(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=pr.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(da({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=pr.Pop;let R=d(),x=R==null?null:R-u;u=R,l&&l({action:a,location:S.location,delta:x})}function p(R,x){a=pr.Push;let v=ff(S.location,R,x);n&&n(v,R),u=d()+1;let w=Vv(v,u),V=S.createHref(v);try{o.pushState(w,"",V)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(V)}s&&l&&l({action:a,location:S.location,delta:1})}function y(R,x){a=pr.Replace;let v=ff(S.location,R,x);n&&n(v,R),u=d();let w=Vv(v,u),V=S.createHref(v);o.replaceState(w,"",V),s&&l&&l({action:a,location:S.location,delta:0})}function T(R){let x=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof R=="string"?R:Sc(R);return v=v.replace(/ $/,"%20"),Le(x,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,x)}let S={get action(){return a},get location(){return t(i,o)},listen(R){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Nv,h),l=R,()=>{i.removeEventListener(Nv,h),l=null}},createHref(R){return e(i,R)},createURL:T,encodeLocation(R){let x=T(R);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:y,go(R){return o.go(R)}};return S}var Dv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Dv||(Dv={}));function YI(t,e,n){return n===void 0&&(n="/"),XI(t,e,n,!1)}function XI(t,e,n,r){let i=typeof e=="string"?Bs(e):e,s=Ss(i.pathname||"/",n);if(s==null)return null;let o=D_(t);JI(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=cR(s);a=aR(o[l],u,r)}return a}function D_(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Le(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Sr([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Le(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),D_(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:sR(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of M_(s.path))i(s,o,l)}),e}function M_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=M_(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function JI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:oR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ZI=/^:[\w-]+$/,eR=3,tR=2,nR=1,rR=10,iR=-2,Mv=t=>t==="*";function sR(t,e){let n=t.split("/"),r=n.length;return n.some(Mv)&&(r+=iR),e&&(r+=tR),n.filter(i=>!Mv(i)).reduce((i,s)=>i+(ZI.test(s)?eR:s===""?nR:rR),r)}function oR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function aR(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=Cc({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Cc({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Sr([s,h.pathname]),pathnameBase:fR(Sr([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=Sr([s,h.pathnameBase]))}return o}function Cc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=lR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:p,isOptional:y}=d;if(p==="*"){let S=a[h]||"";o=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const T=a[h];return y&&!T?u[p]=void 0:u[p]=(T||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function lR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),V_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function cR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return V_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ss(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function uR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Bs(t):t;return{pathname:n?n.startsWith("/")?n:dR(n,e):e,search:pR(r),hash:mR(i)}}function dR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Hd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function L_(t,e){let n=hR(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function j_(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Bs(t):(i=da({},t),Le(!i.pathname||!i.pathname.includes("?"),Hd("?","pathname","search",i)),Le(!i.pathname||!i.pathname.includes("#"),Hd("#","pathname","hash",i)),Le(!i.search||!i.search.includes("#"),Hd("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=uR(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Sr=t=>t.join("/").replace(/\/\/+/g,"/"),fR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function gR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const O_=["post","put","patch","delete"];new Set(O_);const yR=["get",...O_];new Set(yR);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ha(){return ha=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ha.apply(this,arguments)}const gu=b.createContext(null),F_=b.createContext(null),qr=b.createContext(null),yu=b.createContext(null),Gr=b.createContext({outlet:null,matches:[],isDataRoute:!1}),B_=b.createContext(null);function vR(t,e){let{relative:n}=e===void 0?{}:e;Ra()||Le(!1);let{basename:r,navigator:i}=b.useContext(qr),{hash:s,pathname:o,search:a}=vu(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Sr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Ra(){return b.useContext(yu)!=null}function Ri(){return Ra()||Le(!1),b.useContext(yu).location}function z_(t){b.useContext(qr).static||b.useLayoutEffect(t)}function wR(){let{isDataRoute:t}=b.useContext(Gr);return t?VR():xR()}function xR(){Ra()||Le(!1);let t=b.useContext(gu),{basename:e,future:n,navigator:r}=b.useContext(qr),{matches:i}=b.useContext(Gr),{pathname:s}=Ri(),o=JSON.stringify(L_(i,n.v7_relativeSplatPath)),a=b.useRef(!1);return z_(()=>{a.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=j_(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Sr([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}function _R(){let{matches:t}=b.useContext(Gr),e=t[t.length-1];return e?e.params:{}}function vu(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(qr),{matches:i}=b.useContext(Gr),{pathname:s}=Ri(),o=JSON.stringify(L_(i,r.v7_relativeSplatPath));return b.useMemo(()=>j_(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function ER(t,e){return TR(t,e)}function TR(t,e,n,r){Ra()||Le(!1);let{navigator:i}=b.useContext(qr),{matches:s}=b.useContext(Gr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Ri(),d;if(e){var h;let R=typeof e=="string"?Bs(e):e;l==="/"||(h=R.pathname)!=null&&h.startsWith(l)||Le(!1),d=R}else d=u;let p=d.pathname||"/",y=p;if(l!=="/"){let R=l.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(R.length).join("/")}let T=YI(t,{pathname:y}),S=AR(T&&T.map(R=>Object.assign({},R,{params:Object.assign({},a,R.params),pathname:Sr([l,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?l:Sr([l,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),s,n,r);return e&&S?b.createElement(yu.Provider,{value:{location:ha({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:pr.Pop}},S):S}function SR(){let t=NR(),e=gR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:i},n):null,s)}const CR=b.createElement(SR,null);class PR extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(Gr.Provider,{value:this.props.routeContext},b.createElement(B_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bR(t){let{routeContext:e,match:n,children:r}=t,i=b.useContext(gu);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Gr.Provider,{value:e},r)}function AR(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Le(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:y}=n,T=h.route.loader&&p[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||T){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let y,T=!1,S=null,R=null;n&&(y=a&&h.route.id?a[h.route.id]:void 0,S=h.route.errorElement||CR,l&&(u<0&&p===0?(DR("route-fallback",!1),T=!0,R=null):u===p&&(T=!0,R=h.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,p+1)),v=()=>{let w;return y?w=S:T?w=R:h.route.Component?w=b.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,b.createElement(bR,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?b.createElement(PR,{location:n.location,revalidation:n.revalidation,component:S,error:y,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):v()},null)}var U_=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(U_||{}),Pc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Pc||{});function IR(t){let e=b.useContext(gu);return e||Le(!1),e}function RR(t){let e=b.useContext(F_);return e||Le(!1),e}function kR(t){let e=b.useContext(Gr);return e||Le(!1),e}function $_(t){let e=kR(),n=e.matches[e.matches.length-1];return n.route.id||Le(!1),n.route.id}function NR(){var t;let e=b.useContext(B_),n=RR(Pc.UseRouteError),r=$_(Pc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function VR(){let{router:t}=IR(U_.UseNavigateStable),e=$_(Pc.UseNavigateStable),n=b.useRef(!1);return z_(()=>{n.current=!0}),b.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ha({fromRouteId:e},s)))},[t,e])}const Lv={};function DR(t,e,n){!e&&!Lv[t]&&(Lv[t]=!0)}function MR(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function $i(t){Le(!1)}function LR(t){let{basename:e="/",children:n=null,location:r,navigationType:i=pr.Pop,navigator:s,static:o=!1,future:a}=t;Ra()&&Le(!1);let l=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:s,static:o,future:ha({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Bs(r));let{pathname:d="/",search:h="",hash:p="",state:y=null,key:T="default"}=r,S=b.useMemo(()=>{let R=Ss(d,l);return R==null?null:{location:{pathname:R,search:h,hash:p,state:y,key:T},navigationType:i}},[l,d,h,p,y,T,i]);return S==null?null:b.createElement(qr.Provider,{value:u},b.createElement(yu.Provider,{children:n,value:S}))}function jR(t){let{children:e,location:n}=t;return ER(pf(e),n)}new Promise(()=>{});function pf(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,i)=>{if(!b.isValidElement(r))return;let s=[...e,i];if(r.type===b.Fragment){n.push.apply(n,pf(r.props.children,s));return}r.type!==$i&&Le(!1),!r.props.index||!r.props.children||Le(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=pf(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bc(){return bc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bc.apply(this,arguments)}function W_(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function OR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function FR(t,e){return t.button===0&&(!e||e==="_self")&&!OR(t)}const BR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],zR=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],UR="6";try{window.__reactRouterVersion=UR}catch{}const $R=b.createContext({isTransitioning:!1}),WR="startTransition",jv=Rw[WR];function HR(t){let{basename:e,children:n,future:r,window:i}=t,s=b.useRef();s.current==null&&(s.current=GI({window:i,v5Compat:!0}));let o=s.current,[a,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=b.useCallback(h=>{u&&jv?jv(()=>l(h)):l(h)},[l,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>MR(r),[r]),b.createElement(LR,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const qR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bt=b.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,p=W_(e,BR),{basename:y}=b.useContext(qr),T,S=!1;if(typeof u=="string"&&GR.test(u)&&(T=u,qR))try{let w=new URL(window.location.href),V=u.startsWith("//")?new URL(w.protocol+u):new URL(u),M=Ss(V.pathname,y);V.origin===w.origin&&M!=null?u=M+V.search+V.hash:S=!0}catch{}let R=vR(u,{relative:i}),x=QR(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function v(w){r&&r(w),w.defaultPrevented||x(w)}return b.createElement("a",bc({},p,{href:T||R,onClick:S||s?r:v,ref:n,target:l}))}),Ov=b.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:u,children:d}=e,h=W_(e,zR),p=vu(l,{relative:h.relative}),y=Ri(),T=b.useContext(F_),{navigator:S,basename:R}=b.useContext(qr),x=T!=null&&YR(p)&&u===!0,v=S.encodeLocation?S.encodeLocation(p).pathname:p.pathname,w=y.pathname,V=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;i||(w=w.toLowerCase(),V=V?V.toLowerCase():null,v=v.toLowerCase()),V&&R&&(V=Ss(V,R)||V);const M=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let L=w===v||!o&&w.startsWith(v)&&w.charAt(M)==="/",I=V!=null&&(V===v||!o&&V.startsWith(v)&&V.charAt(v.length)==="/"),_={isActive:L,isPending:I,isTransitioning:x},k=L?r:void 0,N;typeof s=="function"?N=s(_):N=[s,L?"active":null,I?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let A=typeof a=="function"?a(_):a;return b.createElement(Bt,bc({},h,{"aria-current":k,className:N,ref:n,style:A,to:l,viewTransition:u}),typeof d=="function"?d(_):d)});var mf;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(mf||(mf={}));var Fv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Fv||(Fv={}));function KR(t){let e=b.useContext(gu);return e||Le(!1),e}function QR(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=wR(),u=Ri(),d=vu(t,{relative:o});return b.useCallback(h=>{if(FR(h,n)){h.preventDefault();let p=r!==void 0?r:Sc(u)===Sc(d);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,d,r,i,n,t,s,o,a])}function YR(t,e){e===void 0&&(e={});let n=b.useContext($R);n==null&&Le(!1);let{basename:r}=KR(mf.useViewTransitionState),i=vu(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Ss(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ss(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Cc(i.pathname,o)!=null||Cc(i.pathname,s)!=null}const H_=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),wu=b.createContext({}),xu=b.createContext(null),_u=typeof document<"u",rm=_u?b.useLayoutEffect:b.useEffect,q_=b.createContext({strict:!1}),im=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),XR="framerAppearId",G_="data-"+im(XR);function JR(t,e,n,r){const{visualElement:i}=b.useContext(wu),s=b.useContext(q_),o=b.useContext(xu),a=b.useContext(H_).reducedMotion,l=b.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;b.useInsertionEffect(()=>{u&&u.update(n,o)});const d=b.useRef(!!(n[G_]&&!window.HandoffComplete));return rm(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),b.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function os(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ZR(t,e,n){return b.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):os(n)&&(n.current=r))},[e])}function fa(t){return typeof t=="string"||Array.isArray(t)}function Eu(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const sm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],om=["initial",...sm];function Tu(t){return Eu(t.animate)||om.some(e=>fa(t[e]))}function K_(t){return!!(Tu(t)||t.variants)}function ek(t,e){if(Tu(t)){const{initial:n,animate:r}=t;return{initial:n===!1||fa(n)?n:void 0,animate:fa(r)?r:void 0}}return t.inherit!==!1?e:{}}function tk(t){const{initial:e,animate:n}=ek(t,b.useContext(wu));return b.useMemo(()=>({initial:e,animate:n}),[Bv(e),Bv(n)])}function Bv(t){return Array.isArray(t)?t.join(" "):t}const zv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pa={};for(const t in zv)pa[t]={isEnabled:e=>zv[t].some(n=>!!e[n])};function nk(t){for(const e in t)pa[e]={...pa[e],...t[e]}}const am=b.createContext({}),Q_=b.createContext({}),rk=Symbol.for("motionComponentSymbol");function ik({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&nk(t);function s(a,l){let u;const d={...b.useContext(H_),...a,layoutId:sk(a)},{isStatic:h}=d,p=tk(a),y=r(a,h);if(!h&&_u){p.visualElement=JR(i,y,d,e);const T=b.useContext(Q_),S=b.useContext(q_).strict;p.visualElement&&(u=p.visualElement.loadFeatures(d,S,t,T))}return b.createElement(wu.Provider,{value:p},u&&p.visualElement?b.createElement(u,{visualElement:p.visualElement,...d}):null,n(i,a,ZR(y,p.visualElement,l),y,h,p.visualElement))}const o=b.forwardRef(s);return o[rk]=i,o}function sk({layoutId:t}){const e=b.useContext(am).id;return e&&t!==void 0?e+"-"+t:t}function ok(t){function e(r,i={}){return ik(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const ak=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function lm(t){return typeof t!="string"||t.includes("-")?!1:!!(ak.indexOf(t)>-1||/[A-Z]/.test(t))}const Ac={};function lk(t){Object.assign(Ac,t)}const ka=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ki=new Set(ka);function Y_(t,{layout:e,layoutId:n}){return ki.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ac[t]||t==="opacity")}const Lt=t=>!!(t&&t.getVelocity),ck={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uk=ka.length;function dk(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<uk;o++){const a=ka[o];if(t[a]!==void 0){const l=ck[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const X_=t=>e=>typeof e=="string"&&e.startsWith(t),J_=X_("--"),gf=X_("var(--"),hk=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,fk=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Dr=(t,e,n)=>Math.min(Math.max(n,t),e),Ni={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Oo={...Ni,transform:t=>Dr(0,1,t)},_l={...Ni,default:1},Fo=t=>Math.round(t*1e5)/1e5,Su=/(-)?([\d]*\.?[\d])+/g,Z_=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,pk=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Na(t){return typeof t=="string"}const Va=t=>({test:e=>Na(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),sr=Va("deg"),Cn=Va("%"),te=Va("px"),mk=Va("vh"),gk=Va("vw"),Uv={...Cn,parse:t=>Cn.parse(t)/100,transform:t=>Cn.transform(t*100)},$v={...Ni,transform:Math.round},eE={borderWidth:te,borderTopWidth:te,borderRightWidth:te,borderBottomWidth:te,borderLeftWidth:te,borderRadius:te,radius:te,borderTopLeftRadius:te,borderTopRightRadius:te,borderBottomRightRadius:te,borderBottomLeftRadius:te,width:te,maxWidth:te,height:te,maxHeight:te,size:te,top:te,right:te,bottom:te,left:te,padding:te,paddingTop:te,paddingRight:te,paddingBottom:te,paddingLeft:te,margin:te,marginTop:te,marginRight:te,marginBottom:te,marginLeft:te,rotate:sr,rotateX:sr,rotateY:sr,rotateZ:sr,scale:_l,scaleX:_l,scaleY:_l,scaleZ:_l,skew:sr,skewX:sr,skewY:sr,distance:te,translateX:te,translateY:te,translateZ:te,x:te,y:te,z:te,perspective:te,transformPerspective:te,opacity:Oo,originX:Uv,originY:Uv,originZ:te,zIndex:$v,fillOpacity:Oo,strokeOpacity:Oo,numOctaves:$v};function cm(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,u=!1,d=!0;for(const h in e){const p=e[h];if(J_(h)){s[h]=p;continue}const y=eE[h],T=fk(p,y);if(ki.has(h)){if(l=!0,o[h]=T,!d)continue;p!==(y.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,a[h]=T):i[h]=T}if(e.transform||(l||r?i.transform=dk(t.transform,n,d,r):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:p="50%",originZ:y=0}=a;i.transformOrigin=`${h} ${p} ${y}`}}const um=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function tE(t,e,n){for(const r in e)!Lt(e[r])&&!Y_(r,n)&&(t[r]=e[r])}function yk({transformTemplate:t},e,n){return b.useMemo(()=>{const r=um();return cm(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function vk(t,e,n){const r=t.style||{},i={};return tE(i,r,t),Object.assign(i,yk(t,e,n)),t.transformValues?t.transformValues(i):i}function wk(t,e,n){const r={},i=vk(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const xk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ic(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||xk.has(t)}let nE=t=>!Ic(t);function _k(t){t&&(nE=e=>e.startsWith("on")?!Ic(e):t(e))}try{_k(require("@emotion/is-prop-valid").default)}catch{}function Ek(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(nE(i)||n===!0&&Ic(i)||!e&&!Ic(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Wv(t,e,n){return typeof t=="string"?t:te.transform(e+n*t)}function Tk(t,e,n){const r=Wv(e,t.x,t.width),i=Wv(n,t.y,t.height);return`${r} ${i}`}const Sk={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ck={offset:"strokeDashoffset",array:"strokeDasharray"};function Pk(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?Sk:Ck;t[s.offset]=te.transform(-r);const o=te.transform(e),a=te.transform(n);t[s.array]=`${o} ${a}`}function dm(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},d,h,p){if(cm(t,u,d,p),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:T,dimensions:S}=t;y.transform&&(S&&(T.transform=y.transform),delete y.transform),S&&(i!==void 0||s!==void 0||T.transform)&&(T.transformOrigin=Tk(S,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),o!==void 0&&Pk(y,o,a,l,!1)}const rE=()=>({...um(),attrs:{}}),hm=t=>typeof t=="string"&&t.toLowerCase()==="svg";function bk(t,e,n,r){const i=b.useMemo(()=>{const s=rE();return dm(s,e,{enableHardwareAcceleration:!1},hm(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};tE(s,t.style,t),i.style={...s,...i.style}}return i}function Ak(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(lm(n)?bk:wk)(r,s,o,n),d={...Ek(r,typeof n=="string",t),...l,ref:i},{children:h}=r,p=b.useMemo(()=>Lt(h)?h.get():h,[h]);return b.createElement(n,{...d,children:p})}}function iE(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const sE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function oE(t,e,n,r){iE(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(sE.has(i)?i:im(i),e.attrs[i])}function fm(t,e){const{style:n}=t,r={};for(const i in n)(Lt(n[i])||e.style&&Lt(e.style[i])||Y_(i,t))&&(r[i]=n[i]);return r}function aE(t,e){const n=fm(t,e);for(const r in t)if(Lt(t[r])||Lt(e[r])){const i=ka.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function pm(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function lE(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const Rc=t=>Array.isArray(t),Ik=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Rk=t=>Rc(t)?t[t.length-1]||0:t;function Hl(t){const e=Lt(t)?t.get():t;return Ik(e)?e.toValue():e}function kk({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:Nk(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const cE=t=>(e,n)=>{const r=b.useContext(wu),i=b.useContext(xu),s=()=>kk(t,e,r,i);return n?s():lE(s)};function Nk(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=Hl(s[p]);let{initial:o,animate:a}=t;const l=Tu(t),u=K_(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;return h&&typeof h!="boolean"&&!Eu(h)&&(Array.isArray(h)?h:[h]).forEach(y=>{const T=pm(t,y);if(!T)return;const{transitionEnd:S,transition:R,...x}=T;for(const v in x){let w=x[v];if(Array.isArray(w)){const V=d?w.length-1:0;w=w[V]}w!==null&&(i[v]=w)}for(const v in S)i[v]=S[v]}),i}const Me=t=>t;class Hv{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function Vk(t){let e=new Hv,n=new Hv,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,d=!1)=>{const h=d&&i,p=h?e:n;return u&&o.add(l),p.add(l)&&h&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const d=e.order[u];d(l),o.has(d)&&(a.schedule(d),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const El=["prepare","read","update","preRender","render","postRender"],Dk=40;function Mk(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=El.reduce((h,p)=>(h[p]=Vk(()=>n=!0),h),{}),o=h=>s[h].process(i),a=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,Dk),1),i.timestamp=h,i.isProcessing=!0,El.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:El.reduce((h,p)=>{const y=s[p];return h[p]=(T,S=!1,R=!1)=>(n||l(),y.schedule(T,S,R)),h},{}),cancel:h=>El.forEach(p=>s[p].cancel(h)),state:i,steps:s}}const{schedule:xe,cancel:Kn,state:ft,steps:qd}=Mk(typeof requestAnimationFrame<"u"?requestAnimationFrame:Me,!0),Lk={useVisualState:cE({scrapeMotionValuesFromProps:aE,createRenderState:rE,onMount:(t,e,{renderState:n,latestValues:r})=>{xe.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),xe.render(()=>{dm(n,r,{enableHardwareAcceleration:!1},hm(e.tagName),t.transformTemplate),oE(e,n)})}})},jk={useVisualState:cE({scrapeMotionValuesFromProps:fm,createRenderState:um})};function Ok(t,{forwardMotionProps:e=!1},n,r){return{...lm(t)?Lk:jk,preloadedFeatures:n,useRender:Ak(e),createVisualElement:r,Component:t}}function On(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const uE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Cu(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const Fk=t=>e=>uE(e)&&t(e,Cu(e));function Bn(t,e,n,r){return On(t,e,Fk(n),r)}const Bk=(t,e)=>n=>e(t(n)),Cr=(...t)=>t.reduce(Bk);function dE(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const qv=dE("dragHorizontal"),Gv=dE("dragVertical");function hE(t){let e=!1;if(t==="y")e=Gv();else if(t==="x")e=qv();else{const n=qv(),r=Gv();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function fE(){const t=hE(!0);return t?(t(),!1):!0}class Kr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Kv(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||fE())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&xe.update(()=>a[r](s,o))};return Bn(t.current,n,i,{passive:!t.getProps()[r]})}class zk extends Kr{mount(){this.unmount=Cr(Kv(this.node,!0),Kv(this.node,!1))}unmount(){}}class Uk extends Kr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cr(On(this.node.current,"focus",()=>this.onFocus()),On(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const pE=(t,e)=>e?t===e?!0:pE(t,e.parentElement):!1;function Gd(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Cu(n))}class $k extends Kr{constructor(){super(...arguments),this.removeStartListeners=Me,this.removeEndListeners=Me,this.removeAccessibleListeners=Me,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Bn(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps();xe.update(()=>{!h&&!pE(this.node.current,a.target)?d&&d(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Bn(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Cr(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Gd("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&xe.update(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=On(this.node.current,"keyup",o),Gd("down",(a,l)=>{this.startPress(a,l)})},n=On(this.node.current,"keydown",e),r=()=>{this.isPressing&&Gd("cancel",(s,o)=>this.cancelPress(s,o))},i=On(this.node.current,"blur",r);this.removeAccessibleListeners=Cr(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&xe.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!fE()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&xe.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Bn(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=On(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Cr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const yf=new WeakMap,Kd=new WeakMap,Wk=t=>{const e=yf.get(t.target);e&&e(t)},Hk=t=>{t.forEach(Wk)};function qk({root:t,...e}){const n=t||document;Kd.has(n)||Kd.set(n,{});const r=Kd.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Hk,{root:t,...e})),r[i]}function Gk(t,e,n){const r=qk(e);return yf.set(t,n),r.observe(t),()=>{yf.delete(t),r.unobserve(t)}}const Kk={some:0,all:1};class Qk extends Kr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Kk[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),p=u?d:h;p&&p(l)};return Gk(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Yk(e,n))&&this.startObserver()}unmount(){}}function Yk({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Xk={inView:{Feature:Qk},tap:{Feature:$k},focus:{Feature:Uk},hover:{Feature:zk}};function mE(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Jk(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function Zk(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Pu(t,e,n){const r=t.getProps();return pm(r,e,n!==void 0?n:r.custom,Jk(t),Zk(t))}let e2=Me,mm=Me;const Pr=t=>t*1e3,zn=t=>t/1e3,t2={current:!1},gE=t=>Array.isArray(t)&&typeof t[0]=="number";function yE(t){return!!(!t||typeof t=="string"&&vE[t]||gE(t)||Array.isArray(t)&&t.every(yE))}const So=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,vE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:So([0,.65,.55,1]),circOut:So([.55,0,1,.45]),backIn:So([.31,.01,.66,-.59]),backOut:So([.33,1.53,.69,.99])};function wE(t){if(t)return gE(t)?So(t):Array.isArray(t)?t.map(wE):vE[t]}function n2(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const d=wE(a);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function r2(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const xE=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,i2=1e-7,s2=12;function o2(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=xE(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>i2&&++a<s2);return o}function Da(t,e,n,r){if(t===e&&n===r)return Me;const i=s=>o2(s,0,1,t,n);return s=>s===0||s===1?s:xE(i(s),e,r)}const a2=Da(.42,0,1,1),l2=Da(0,0,.58,1),_E=Da(.42,0,.58,1),c2=t=>Array.isArray(t)&&typeof t[0]!="number",EE=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,TE=t=>e=>1-t(1-e),gm=t=>1-Math.sin(Math.acos(t)),SE=TE(gm),u2=EE(gm),CE=Da(.33,1.53,.69,.99),ym=TE(CE),d2=EE(ym),h2=t=>(t*=2)<1?.5*ym(t):.5*(2-Math.pow(2,-10*(t-1))),f2={linear:Me,easeIn:a2,easeInOut:_E,easeOut:l2,circIn:gm,circInOut:u2,circOut:SE,backIn:ym,backInOut:d2,backOut:CE,anticipate:h2},Qv=t=>{if(Array.isArray(t)){mm(t.length===4);const[e,n,r,i]=t;return Da(e,n,r,i)}else if(typeof t=="string")return f2[t];return t},vm=(t,e)=>n=>!!(Na(n)&&pk.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),PE=(t,e,n)=>r=>{if(!Na(r))return r;const[i,s,o,a]=r.match(Su);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},p2=t=>Dr(0,255,t),Qd={...Ni,transform:t=>Math.round(p2(t))},ui={test:vm("rgb","red"),parse:PE("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Qd.transform(t)+", "+Qd.transform(e)+", "+Qd.transform(n)+", "+Fo(Oo.transform(r))+")"};function m2(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const vf={test:vm("#"),parse:m2,transform:ui.transform},as={test:vm("hsl","hue"),parse:PE("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Cn.transform(Fo(e))+", "+Cn.transform(Fo(n))+", "+Fo(Oo.transform(r))+")"},Et={test:t=>ui.test(t)||vf.test(t)||as.test(t),parse:t=>ui.test(t)?ui.parse(t):as.test(t)?as.parse(t):vf.parse(t),transform:t=>Na(t)?t:t.hasOwnProperty("red")?ui.transform(t):as.transform(t)},Ie=(t,e,n)=>-n*t+n*e+t;function Yd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function g2({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Yd(l,a,t+1/3),s=Yd(l,a,t),o=Yd(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const Xd=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},y2=[vf,ui,as],v2=t=>y2.find(e=>e.test(t));function Yv(t){const e=v2(t);let n=e.parse(t);return e===as&&(n=g2(n)),n}const bE=(t,e)=>{const n=Yv(t),r=Yv(e),i={...n};return s=>(i.red=Xd(n.red,r.red,s),i.green=Xd(n.green,r.green,s),i.blue=Xd(n.blue,r.blue,s),i.alpha=Ie(n.alpha,r.alpha,s),ui.transform(i))};function w2(t){var e,n;return isNaN(t)&&Na(t)&&(((e=t.match(Su))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Z_))===null||n===void 0?void 0:n.length)||0)>0}const AE={regex:hk,countKey:"Vars",token:"${v}",parse:Me},IE={regex:Z_,countKey:"Colors",token:"${c}",parse:Et.parse},RE={regex:Su,countKey:"Numbers",token:"${n}",parse:Ni.parse};function Jd(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function kc(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Jd(n,AE),Jd(n,IE),Jd(n,RE),n}function kE(t){return kc(t).values}function NE(t){const{values:e,numColors:n,numVars:r,tokenised:i}=kc(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(AE.token,o[l]):l<r+n?a=a.replace(IE.token,Et.transform(o[l])):a=a.replace(RE.token,Fo(o[l]));return a}}const x2=t=>typeof t=="number"?0:t;function _2(t){const e=kE(t);return NE(t)(e.map(x2))}const Mr={test:w2,parse:kE,createTransformer:NE,getAnimatableNone:_2},VE=(t,e)=>n=>`${n>0?e:t}`;function DE(t,e){return typeof t=="number"?n=>Ie(t,e,n):Et.test(t)?bE(t,e):t.startsWith("var(")?VE(t,e):LE(t,e)}const ME=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>DE(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},E2=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=DE(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},LE=(t,e)=>{const n=Mr.createTransformer(e),r=kc(t),i=kc(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Cr(ME(r.values,i.values),n):VE(t,e)},ma=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Xv=(t,e)=>n=>Ie(t,e,n);function T2(t){return typeof t=="number"?Xv:typeof t=="string"?Et.test(t)?bE:LE:Array.isArray(t)?ME:typeof t=="object"?E2:Xv}function S2(t,e,n){const r=[],i=n||T2(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Me:e;a=Cr(l,a)}r.push(a)}return r}function jE(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(mm(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=S2(e,r,i),a=o.length,l=u=>{let d=0;if(a>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=ma(t[d],t[d+1],u);return o[d](h)};return n?u=>l(Dr(t[0],t[s-1],u)):l}function C2(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=ma(0,e,r);t.push(Ie(n,1,i))}}function P2(t){const e=[0];return C2(e,t.length-1),e}function b2(t,e){return t.map(n=>n*e)}function A2(t,e){return t.map(()=>e||_E).splice(0,t.length-1)}function Nc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=c2(r)?r.map(Qv):Qv(r),s={done:!1,value:e[0]},o=b2(n&&n.length===e.length?n:P2(e),t),a=jE(o,e,{ease:Array.isArray(i)?i:A2(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function OE(t,e){return e?t*(1e3/e):0}const I2=5;function FE(t,e,n){const r=Math.max(e-I2,0);return OE(n-t(r),e-r)}const Zd=.001,R2=.01,Jv=10,k2=.05,N2=1;function V2({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;e2(t<=Pr(Jv));let o=1-e;o=Dr(k2,N2,o),t=Dr(R2,Jv,zn(t)),o<1?(i=u=>{const d=u*o,h=d*t,p=d-n,y=wf(u,o),T=Math.exp(-h);return Zd-p/y*T},s=u=>{const h=u*o*t,p=h*n+n,y=Math.pow(o,2)*Math.pow(u,2)*t,T=Math.exp(-h),S=wf(Math.pow(u,2),o);return(-i(u)+Zd>0?-1:1)*((p-y)*T)/S}):(i=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-Zd+d*h},s=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const a=5/t,l=M2(i,s,a);if(t=Pr(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const D2=12;function M2(t,e,n){let r=n;for(let i=1;i<D2;i++)r=r-t(r)/e(r);return r}function wf(t,e){return t*Math.sqrt(1-e*e)}const L2=["duration","bounce"],j2=["stiffness","damping","mass"];function Zv(t,e){return e.some(n=>t[n]!==void 0)}function O2(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Zv(t,j2)&&Zv(t,L2)){const n=V2(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function BE({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,duration:d,velocity:h,isResolvedFromDuration:p}=O2({...r,velocity:-zn(r.velocity||0)}),y=h||0,T=l/(2*Math.sqrt(a*u)),S=s-i,R=zn(Math.sqrt(a/u)),x=Math.abs(S)<5;n||(n=x?.01:2),e||(e=x?.005:.5);let v;if(T<1){const w=wf(R,T);v=V=>{const M=Math.exp(-T*R*V);return s-M*((y+T*R*S)/w*Math.sin(w*V)+S*Math.cos(w*V))}}else if(T===1)v=w=>s-Math.exp(-R*w)*(S+(y+R*S)*w);else{const w=R*Math.sqrt(T*T-1);v=V=>{const M=Math.exp(-T*R*V),L=Math.min(w*V,300);return s-M*((y+T*R*S)*Math.sinh(L)+w*S*Math.cosh(L))/w}}return{calculatedDuration:p&&d||null,next:w=>{const V=v(w);if(p)o.done=w>=d;else{let M=y;w!==0&&(T<1?M=FE(v,w,V):M=0);const L=Math.abs(M)<=n,I=Math.abs(s-V)<=e;o.done=L&&I}return o.value=o.done?s:V,o}}}function e0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=t[0],p={done:!1,value:h},y=_=>a!==void 0&&_<a||l!==void 0&&_>l,T=_=>a===void 0?l:l===void 0||Math.abs(a-_)<Math.abs(l-_)?a:l;let S=n*e;const R=h+S,x=o===void 0?R:o(R);x!==R&&(S=x-h);const v=_=>-S*Math.exp(-_/r),w=_=>x+v(_),V=_=>{const k=v(_),N=w(_);p.done=Math.abs(k)<=u,p.value=p.done?x:N};let M,L;const I=_=>{y(p.value)&&(M=_,L=BE({keyframes:[p.value,T(p.value)],velocity:FE(w,_,p.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return I(0),{calculatedDuration:null,next:_=>{let k=!1;return!L&&M===void 0&&(k=!0,V(_),I(_)),M!==void 0&&_>M?L.next(_-M):(!k&&V(_),p)}}}const F2=t=>{const e=({timestamp:n})=>t(n);return{start:()=>xe.update(e,!0),stop:()=>Kn(e),now:()=>ft.isProcessing?ft.timestamp:performance.now()}},t0=2e4;function n0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<t0;)e+=n,r=t.next(e);return e>=t0?1/0:e}const B2={decay:e0,inertia:e0,tween:Nc,keyframes:Nc,spring:BE};function Vc({autoplay:t=!0,delay:e=0,driver:n=F2,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:d,onUpdate:h,...p}){let y=1,T=!1,S,R;const x=()=>{R=new Promise(K=>{S=K})};x();let v;const w=B2[i]||Nc;let V;w!==Nc&&typeof r[0]!="number"&&(V=jE([0,100],r,{clamp:!1}),r=[0,100]);const M=w({...p,keyframes:r});let L;a==="mirror"&&(L=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let I="idle",_=null,k=null,N=null;M.calculatedDuration===null&&s&&(M.calculatedDuration=n0(M));const{calculatedDuration:A}=M;let P=1/0,E=1/0;A!==null&&(P=A+o,E=P*(s+1)-o);let O=0;const G=K=>{if(k===null)return;y>0&&(k=Math.min(k,K)),y<0&&(k=Math.min(K-E/y,k)),_!==null?O=_:O=Math.round(K-k)*y;const ie=O-e*(y>=0?1:-1),Z=y>=0?ie<0:ie>E;O=Math.max(ie,0),I==="finished"&&_===null&&(O=E);let Ye=O,Qt=M;if(s){const Gs=Math.min(O,E)/P;let kn=Math.floor(Gs),Yt=Gs%1;!Yt&&Gs>=1&&(Yt=1),Yt===1&&kn--,kn=Math.min(kn,s+1),!!(kn%2)&&(a==="reverse"?(Yt=1-Yt,o&&(Yt-=o/P)):a==="mirror"&&(Qt=L)),Ye=Dr(0,1,Yt)*P}const wt=Z?{done:!1,value:r[0]}:Qt.next(Ye);V&&(wt.value=V(wt.value));let{done:jt}=wt;!Z&&A!==null&&(jt=y>=0?O>=E:O<=0);const Qu=_===null&&(I==="finished"||I==="running"&&jt);return h&&h(wt.value),Qu&&z(),wt},Y=()=>{v&&v.stop(),v=void 0},re=()=>{I="idle",Y(),S(),x(),k=N=null},z=()=>{I="finished",d&&d(),Y(),S()},W=()=>{if(T)return;v||(v=n(G));const K=v.now();l&&l(),_!==null?k=K-_:(!k||I==="finished")&&(k=K),I==="finished"&&x(),N=k,_=null,I="running",v.start()};t&&W();const X={then(K,ie){return R.then(K,ie)},get time(){return zn(O)},set time(K){K=Pr(K),O=K,_!==null||!v||y===0?_=K:k=v.now()-K/y},get duration(){const K=M.calculatedDuration===null?n0(M):M.calculatedDuration;return zn(K)},get speed(){return y},set speed(K){K===y||!v||(y=K,X.time=zn(O))},get state(){return I},play:W,pause:()=>{I="paused",_=O},stop:()=>{T=!0,I!=="idle"&&(I="idle",u&&u(),re())},cancel:()=>{N!==null&&G(N),re()},complete:()=>{I="finished"},sample:K=>(k=0,G(K))};return X}function z2(t){let e;return()=>(e===void 0&&(e=t()),e)}const U2=z2(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),$2=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Tl=10,W2=2e4,H2=(t,e)=>e.type==="spring"||t==="backgroundColor"||!yE(e.ease);function q2(t,e,{onUpdate:n,onComplete:r,...i}){if(!(U2()&&$2.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l,u=!1;const d=()=>{l=new Promise(w=>{a=w})};d();let{keyframes:h,duration:p=300,ease:y,times:T}=i;if(H2(e,i)){const w=Vc({...i,repeat:0,delay:0});let V={done:!1,value:h[0]};const M=[];let L=0;for(;!V.done&&L<W2;)V=w.sample(L),M.push(V.value),L+=Tl;T=void 0,h=M,p=L-Tl,y="linear"}const S=n2(t.owner.current,e,h,{...i,duration:p,ease:y,times:T}),R=()=>{u=!1,S.cancel()},x=()=>{u=!0,xe.update(R),a(),d()};return S.onfinish=()=>{u||(t.set(r2(h,i)),r&&r(),x())},{then(w,V){return l.then(w,V)},attachTimeline(w){return S.timeline=w,S.onfinish=null,Me},get time(){return zn(S.currentTime||0)},set time(w){S.currentTime=Pr(w)},get speed(){return S.playbackRate},set speed(w){S.playbackRate=w},get duration(){return zn(p)},play:()=>{o||(S.play(),Kn(R))},pause:()=>S.pause(),stop:()=>{if(o=!0,S.playState==="idle")return;const{currentTime:w}=S;if(w){const V=Vc({...i,autoplay:!1});t.setWithVelocity(V.sample(w-Tl).value,V.sample(w).value,Tl)}x()},complete:()=>{u||S.finish()},cancel:x}}function G2({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Me,pause:Me,stop:Me,then:s=>(s(),Promise.resolve()),cancel:Me,complete:Me});return e?Vc({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const K2={type:"spring",stiffness:500,damping:25,restSpeed:10},Q2=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Y2={type:"keyframes",duration:.8},X2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},J2=(t,{keyframes:e})=>e.length>2?Y2:ki.has(t)?t.startsWith("scale")?Q2(e[1]):K2:X2,xf=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Mr.test(e)||e==="0")&&!e.startsWith("url(")),Z2=new Set(["brightness","contrast","saturate","opacity"]);function eN(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Su)||[];if(!r)return t;const i=n.replace(r,"");let s=Z2.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const tN=/([a-z-]*)\(.*?\)/g,_f={...Mr,getAnimatableNone:t=>{const e=t.match(tN);return e?e.map(eN).join(" "):t}},nN={...eE,color:Et,backgroundColor:Et,outlineColor:Et,fill:Et,stroke:Et,borderColor:Et,borderTopColor:Et,borderRightColor:Et,borderBottomColor:Et,borderLeftColor:Et,filter:_f,WebkitFilter:_f},wm=t=>nN[t];function zE(t,e){let n=wm(t);return n!==_f&&(n=Mr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const UE=t=>/^0[^.\s]+$/.test(t);function rN(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||UE(t)}function iN(t,e,n,r){const i=xf(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),rN(s[u])&&l.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(a=s[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const d=l[u];s[d]=zE(e,a)}return s}function sN({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function xm(t,e){return t[e]||t.default||t}const oN={skipAnimations:!1},_m=(t,e,n,r={})=>i=>{const s=xm(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Pr(o);const l=iN(e,t,n,s),u=l[0],d=l[l.length-1],h=xf(t,u),p=xf(t,d);let y={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:T=>{e.set(T),s.onUpdate&&s.onUpdate(T)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(sN(s)||(y={...y,...J2(t,y)}),y.duration&&(y.duration=Pr(y.duration)),y.repeatDelay&&(y.repeatDelay=Pr(y.repeatDelay)),!h||!p||t2.current||s.type===!1||oN.skipAnimations)return G2(y);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const T=q2(e,t,y);if(T)return T}return Vc(y)};function Dc(t){return!!(Lt(t)&&t.add)}const $E=t=>/^\-?\d*\.?\d+$/.test(t);function Em(t,e){t.indexOf(e)===-1&&t.push(e)}function Tm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Sm{constructor(){this.subscriptions=[]}add(e){return Em(this.subscriptions,e),()=>Tm(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const aN=t=>!isNaN(parseFloat(t));class lN{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=ft;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,xe.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>xe.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=aN(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Sm);const r=this.events[e].add(n);return e==="change"?()=>{r(),xe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?OE(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Cs(t,e){return new lN(t,e)}const WE=t=>e=>e.test(t),cN={test:t=>t==="auto",parse:t=>t},HE=[Ni,te,Cn,sr,gk,mk,cN],go=t=>HE.find(WE(t)),uN=[...HE,Et,Mr],dN=t=>uN.find(WE(t));function hN(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Cs(n))}function fN(t,e){const n=Pu(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=Rk(s[o]);hN(t,o,a)}}function pN(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),d!=null&&(typeof d=="string"&&($E(d)||UE(d))?d=parseFloat(d):!dN(d)&&Mr.test(u)&&(d=zE(l,u)),t.addValue(l,Cs(d,{owner:t})),n[l]===void 0&&(n[l]=d),d!==null&&t.setBaseTarget(l,d))}}function mN(t,e){return e?(e[t]||e.default||e).from:void 0}function gN(t,e,n){const r={};for(const i in t){const s=mN(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function yN({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function vN(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function qE(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const p=t.getValue(h),y=a[h];if(!p||y===void 0||d&&yN(d,h))continue;const T={delay:n,elapsed:0,...xm(s||{},h)};if(window.HandoffAppearAnimations){const x=t.getProps()[G_];if(x){const v=window.HandoffAppearAnimations(x,h,p,xe);v!==null&&(T.elapsed=v,T.isHandoff=!0)}}let S=!T.isHandoff&&!vN(p,y);if(T.type==="spring"&&(p.getVelocity()||T.velocity)&&(S=!1),p.animation&&(S=!1),S)continue;p.start(_m(h,p,y,t.shouldReduceMotion&&ki.has(h)?{type:!1}:T));const R=p.animation;Dc(l)&&(l.add(h),R.then(()=>l.remove(h))),u.push(R)}return o&&Promise.all(u).then(()=>{o&&fN(t,o)}),u}function Ef(t,e,n={}){const r=Pu(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(qE(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=i;return wN(t,e,u+l,d,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function wN(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(xN).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(Ef(u,e,{...s,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function xN(t,e){return t.sortNodePosition(e)}function _N(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Ef(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Ef(t,e,n);else{const i=typeof e=="function"?Pu(t,e,n.custom):e;r=Promise.all(qE(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const EN=[...sm].reverse(),TN=sm.length;function SN(t){return e=>Promise.all(e.map(({animation:n,options:r})=>_N(t,n,r)))}function CN(t){let e=SN(t);const n=bN();let r=!0;const i=(l,u)=>{const d=Pu(t,u);if(d){const{transition:h,transitionEnd:p,...y}=d;l={...l,...y,...p}}return l};function s(l){e=l(t)}function o(l,u){const d=t.getProps(),h=t.getVariantContext(!0)||{},p=[],y=new Set;let T={},S=1/0;for(let x=0;x<TN;x++){const v=EN[x],w=n[v],V=d[v]!==void 0?d[v]:h[v],M=fa(V),L=v===u?w.isActive:null;L===!1&&(S=x);let I=V===h[v]&&V!==d[v]&&M;if(I&&r&&t.manuallyAnimateOnMount&&(I=!1),w.protectedKeys={...T},!w.isActive&&L===null||!V&&!w.prevProp||Eu(V)||typeof V=="boolean")continue;let k=PN(w.prevProp,V)||v===u&&w.isActive&&!I&&M||x>S&&M,N=!1;const A=Array.isArray(V)?V:[V];let P=A.reduce(i,{});L===!1&&(P={});const{prevResolvedValues:E={}}=w,O={...E,...P},G=Y=>{k=!0,y.has(Y)&&(N=!0,y.delete(Y)),w.needsAnimating[Y]=!0};for(const Y in O){const re=P[Y],z=E[Y];if(T.hasOwnProperty(Y))continue;let W=!1;Rc(re)&&Rc(z)?W=!mE(re,z):W=re!==z,W?re!==void 0?G(Y):y.add(Y):re!==void 0&&y.has(Y)?G(Y):w.protectedKeys[Y]=!0}w.prevProp=V,w.prevResolvedValues=P,w.isActive&&(T={...T,...P}),r&&t.blockInitialAnimation&&(k=!1),k&&(!I||N)&&p.push(...A.map(Y=>({animation:Y,options:{type:v,...l}})))}if(y.size){const x={};y.forEach(v=>{const w=t.getBaseTarget(v);w!==void 0&&(x[v]=w)}),p.push({animation:x})}let R=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(R=!1),r=!1,R?e(p):Promise.resolve()}function a(l,u,d){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(y=>{var T;return(T=y.animationState)===null||T===void 0?void 0:T.setActive(l,u)}),n[l].isActive=u;const p=o(d,l);for(const y in n)n[y].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function PN(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!mE(e,t):!1}function ei(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bN(){return{animate:ei(!0),whileInView:ei(),whileHover:ei(),whileTap:ei(),whileDrag:ei(),whileFocus:ei(),exit:ei()}}class AN extends Kr{constructor(e){super(e),e.animationState||(e.animationState=CN(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Eu(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let IN=0;class RN extends Kr{constructor(){super(...arguments),this.id=IN++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const kN={animation:{Feature:AN},exit:{Feature:RN}},r0=(t,e)=>Math.abs(t-e);function NN(t,e){const n=r0(t.x,e.x),r=r0(t.y,e.y);return Math.sqrt(n**2+r**2)}class GE{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=th(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,y=NN(h.offset,{x:0,y:0})>=3;if(!p&&!y)return;const{point:T}=h,{timestamp:S}=ft;this.history.push({...T,timestamp:S});const{onStart:R,onMove:x}=this.handlers;p||(R&&R(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=eh(p,this.transformPagePoint),xe.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:y,onSessionEnd:T,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=th(h.type==="pointercancel"?this.lastMoveEventInfo:eh(p,this.transformPagePoint),this.history);this.startEvent&&y&&y(h,R),T&&T(h,R)},!uE(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Cu(e),a=eh(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=ft;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,th(a,this.history)),this.removeListeners=Cr(Bn(this.contextWindow,"pointermove",this.handlePointerMove),Bn(this.contextWindow,"pointerup",this.handlePointerUp),Bn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Kn(this.updatePoint)}}function eh(t,e){return e?{point:e(t.point)}:t}function i0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function th({point:t},e){return{point:t,delta:i0(t,KE(e)),offset:i0(t,VN(e)),velocity:DN(e,.1)}}function VN(t){return t[0]}function KE(t){return t[t.length-1]}function DN(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=KE(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Pr(e)));)n--;if(!r)return{x:0,y:0};const s=zn(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ht(t){return t.max-t.min}function Tf(t,e=0,n=.01){return Math.abs(t-e)<=n}function s0(t,e,n,r=.5){t.origin=r,t.originPoint=Ie(e.min,e.max,t.origin),t.scale=Ht(n)/Ht(e),(Tf(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ie(n.min,n.max,t.origin)-t.originPoint,(Tf(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Bo(t,e,n,r){s0(t.x,e.x,n.x,r?r.originX:void 0),s0(t.y,e.y,n.y,r?r.originY:void 0)}function o0(t,e,n){t.min=n.min+e.min,t.max=t.min+Ht(e)}function MN(t,e,n){o0(t.x,e.x,n.x),o0(t.y,e.y,n.y)}function a0(t,e,n){t.min=e.min-n.min,t.max=t.min+Ht(e)}function zo(t,e,n){a0(t.x,e.x,n.x),a0(t.y,e.y,n.y)}function LN(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ie(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ie(n,t,r.max):Math.min(t,n)),t}function l0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function jN(t,{top:e,left:n,bottom:r,right:i}){return{x:l0(t.x,n,i),y:l0(t.y,e,r)}}function c0(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function ON(t,e){return{x:c0(t.x,e.x),y:c0(t.y,e.y)}}function FN(t,e){let n=.5;const r=Ht(t),i=Ht(e);return i>r?n=ma(e.min,e.max-r,t.min):r>i&&(n=ma(t.min,t.max-i,e.min)),Dr(0,1,n)}function BN(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Sf=.35;function zN(t=Sf){return t===!1?t=0:t===!0&&(t=Sf),{x:u0(t,"left","right"),y:u0(t,"top","bottom")}}function u0(t,e,n){return{min:d0(t,e),max:d0(t,n)}}function d0(t,e){return typeof t=="number"?t:t[e]||0}const h0=()=>({translate:0,scale:1,origin:0,originPoint:0}),ls=()=>({x:h0(),y:h0()}),f0=()=>({min:0,max:0}),Ue=()=>({x:f0(),y:f0()});function Jt(t){return[t("x"),t("y")]}function QE({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function UN({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function $N(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function nh(t){return t===void 0||t===1}function Cf({scale:t,scaleX:e,scaleY:n}){return!nh(t)||!nh(e)||!nh(n)}function ri(t){return Cf(t)||YE(t)||t.z||t.rotate||t.rotateX||t.rotateY}function YE(t){return p0(t.x)||p0(t.y)}function p0(t){return t&&t!=="0%"}function Mc(t,e,n){const r=t-n,i=e*r;return n+i}function m0(t,e,n,r,i){return i!==void 0&&(t=Mc(t,i,r)),Mc(t,n,r)+e}function Pf(t,e=0,n=1,r,i){t.min=m0(t.min,e,n,r,i),t.max=m0(t.max,e,n,r,i)}function XE(t,{x:e,y:n}){Pf(t.x,e.translate,e.scale,e.originPoint),Pf(t.y,n.translate,n.scale,n.originPoint)}function WN(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&cs(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,XE(t,o)),r&&ri(s.latestValues)&&cs(t,s.latestValues))}e.x=g0(e.x),e.y=g0(e.y)}function g0(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function cr(t,e){t.min=t.min+e,t.max=t.max+e}function y0(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Ie(t.min,t.max,s);Pf(t,e[n],e[r],o,e.scale)}const HN=["x","scaleX","originX"],qN=["y","scaleY","originY"];function cs(t,e){y0(t.x,e,HN),y0(t.y,e,qN)}function JE(t,e){return QE($N(t.getBoundingClientRect(),e))}function GN(t,e,n){const r=JE(t,n),{scroll:i}=e;return i&&(cr(r.x,i.offset.x),cr(r.y,i.offset.y)),r}const ZE=({current:t})=>t?t.ownerDocument.defaultView:null,KN=new WeakMap;class QN{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ue(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Cu(d,"page").point)},s=(d,h)=>{const{drag:p,dragPropagation:y,onDragStart:T}=this.getProps();if(p&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=hE(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Jt(R=>{let x=this.getAxisMotionValue(R).get()||0;if(Cn.test(x)){const{projection:v}=this.visualElement;if(v&&v.layout){const w=v.layout.layoutBox[R];w&&(x=Ht(w)*(parseFloat(x)/100))}}this.originPoint[R]=x}),T&&xe.update(()=>T(d,h),!1,!0);const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:p,dragDirectionLock:y,onDirectionLock:T,onDrag:S}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:R}=h;if(y&&this.currentDirection===null){this.currentDirection=YN(R),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",h.point,R),this.updateAxis("y",h.point,R),this.visualElement.render(),S&&S(d,h)},a=(d,h)=>this.stop(d,h),l=()=>Jt(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new GE(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:ZE(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&xe.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Sl(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=LN(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&os(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=jN(i.layoutBox,n):this.constraints=!1,this.elastic=zN(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Jt(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=BN(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!os(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=GN(r,i.root,this.visualElement.getTransformPagePoint());let o=ON(i.layout.layoutBox,s);if(n){const a=n(UN(o));this.hasMutatedConstraints=!!a,a&&(o=QE(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Jt(d=>{if(!Sl(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const p=i?200:1e6,y=i?40:1e7,T={type:"inertia",velocity:r?e[d]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,T)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(_m(e,r,0,n))}stopAnimation(){Jt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Jt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Jt(n=>{const{drag:r}=this.getProps();if(!Sl(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Ie(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!os(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Jt(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=FN({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Jt(o=>{if(!Sl(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Ie(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;KN.set(this.visualElement,this);const e=this.visualElement.current,n=Bn(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();os(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=On(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Jt(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Sf,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Sl(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function YN(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class XN extends Kr{constructor(e){super(e),this.removeGroupControls=Me,this.removeListeners=Me,this.controls=new QN(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Me}unmount(){this.removeGroupControls(),this.removeListeners()}}const v0=t=>(e,n)=>{t&&xe.update(()=>t(e,n))};class JN extends Kr{constructor(){super(...arguments),this.removePointerDownListener=Me}onPointerDown(e){this.session=new GE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ZE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:v0(e),onStart:v0(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&xe.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Bn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function ZN(){const t=b.useContext(xu);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=b.useId();return b.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const ql={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function w0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const yo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(te.test(t))t=parseFloat(t);else return t;const n=w0(t,e.target.x),r=w0(t,e.target.y);return`${n}% ${r}%`}},eV={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Mr.parse(t);if(i.length>5)return r;const s=Mr.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=Ie(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class tV extends Ae.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;lk(nV),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),ql.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||xe.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function eT(t){const[e,n]=ZN(),r=b.useContext(am);return Ae.createElement(tV,{...t,layoutGroup:r,switchLayoutGroup:b.useContext(Q_),isPresent:e,safeToRemove:n})}const nV={borderRadius:{...yo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:yo,borderTopRightRadius:yo,borderBottomLeftRadius:yo,borderBottomRightRadius:yo,boxShadow:eV},tT=["TopLeft","TopRight","BottomLeft","BottomRight"],rV=tT.length,x0=t=>typeof t=="string"?parseFloat(t):t,_0=t=>typeof t=="number"||te.test(t);function iV(t,e,n,r,i,s){i?(t.opacity=Ie(0,n.opacity!==void 0?n.opacity:1,sV(r)),t.opacityExit=Ie(e.opacity!==void 0?e.opacity:1,0,oV(r))):s&&(t.opacity=Ie(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<rV;o++){const a=`border${tT[o]}Radius`;let l=E0(e,a),u=E0(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||_0(l)===_0(u)?(t[a]=Math.max(Ie(x0(l),x0(u),r),0),(Cn.test(u)||Cn.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Ie(e.rotate||0,n.rotate||0,r))}function E0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const sV=nT(0,.5,SE),oV=nT(.5,.95,Me);function nT(t,e,n){return r=>r<t?0:r>e?1:n(ma(t,e,r))}function T0(t,e){t.min=e.min,t.max=e.max}function Xt(t,e){T0(t.x,e.x),T0(t.y,e.y)}function S0(t,e,n,r,i){return t-=e,t=Mc(t,1/n,r),i!==void 0&&(t=Mc(t,1/i,r)),t}function aV(t,e=0,n=1,r=.5,i,s=t,o=t){if(Cn.test(e)&&(e=parseFloat(e),e=Ie(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ie(s.min,s.max,r);t===s&&(a-=e),t.min=S0(t.min,e,n,a,i),t.max=S0(t.max,e,n,a,i)}function C0(t,e,[n,r,i],s,o){aV(t,e[n],e[r],e[i],e.scale,s,o)}const lV=["x","scaleX","originX"],cV=["y","scaleY","originY"];function P0(t,e,n,r){C0(t.x,e,lV,n?n.x:void 0,r?r.x:void 0),C0(t.y,e,cV,n?n.y:void 0,r?r.y:void 0)}function b0(t){return t.translate===0&&t.scale===1}function rT(t){return b0(t.x)&&b0(t.y)}function uV(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function iT(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function A0(t){return Ht(t.x)/Ht(t.y)}class dV{constructor(){this.members=[]}add(e){Em(this.members,e),e.scheduleRender()}remove(e){if(Tm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function I0(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const hV=(t,e)=>t.depth-e.depth;class fV{constructor(){this.children=[],this.isDirty=!1}add(e){Em(this.children,e),this.isDirty=!0}remove(e){Tm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(hV),this.isDirty=!1,this.children.forEach(e)}}function pV(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Kn(r),t(s-e))};return xe.read(r,!0),()=>Kn(r)}function mV(t){window.MotionDebug&&window.MotionDebug.record(t)}function gV(t){return t instanceof SVGElement&&t.tagName!=="svg"}function yV(t,e,n){const r=Lt(t)?t:Cs(t);return r.start(_m("",r,e,n)),r.animation}const R0=["","X","Y","Z"],vV={visibility:"hidden"},k0=1e3;let wV=0;const ii={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function sT({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=wV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ii.totalNodes=ii.resolvedTargetDeltas=ii.recalculatedProjection=0,this.nodes.forEach(EV),this.nodes.forEach(bV),this.nodes.forEach(AV),this.nodes.forEach(TV),mV(ii)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new fV)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Sm),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=gV(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=pV(p,250),ql.hasAnimatedSinceResize&&(ql.hasAnimatedSinceResize=!1,this.nodes.forEach(V0))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeTargetChanged:y,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||d.getDefaultTransition()||VV,{onLayoutAnimationStart:R,onLayoutAnimationComplete:x}=d.getProps(),v=!this.targetLayout||!iT(this.targetLayout,T)||y,w=!p&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,w);const V={...xm(S,"layout"),onPlay:R,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(V.delay=0,V.type=!1),this.startAnimation(V)}else p||V0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Kn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(IV),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(N0);return}this.isUpdating||this.nodes.forEach(CV),this.isUpdating=!1,this.nodes.forEach(PV),this.nodes.forEach(xV),this.nodes.forEach(_V),this.clearAllSnapshots();const a=performance.now();ft.delta=Dr(0,1e3/60,a-ft.timestamp),ft.timestamp=a,ft.isProcessing=!0,qd.update.process(ft),qd.preRender.process(ft),qd.render.process(ft),ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(SV),this.sharedNodes.forEach(RV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ue(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!rT(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||ri(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),DV(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ue();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(cr(a.x,l.offset.x),cr(a.y,l.offset.y)),a}removeElementScroll(o){const a=Ue();Xt(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){Xt(a,o);const{scroll:p}=this.root;p&&(cr(a.x,-p.offset.x),cr(a.y,-p.offset.y))}cr(a.x,d.offset.x),cr(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const l=Ue();Xt(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&cs(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ri(d.latestValues)&&cs(l,d.latestValues)}return ri(this.latestValues)&&cs(l,this.latestValues),l}removeTransform(o){const a=Ue();Xt(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!ri(u.latestValues))continue;Cf(u.latestValues)&&u.updateSnapshot();const d=Ue(),h=u.measurePageBox();Xt(d,h),P0(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ri(this.latestValues)&&P0(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=ft.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ue(),this.relativeTargetOrigin=Ue(),zo(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Xt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ue(),this.targetWithTransforms=Ue()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),MN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xt(this.target,this.layout.layoutBox),XE(this.target,this.targetDelta)):Xt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ue(),this.relativeTargetOrigin=Ue(),zo(this.relativeTargetOrigin,this.target,y.target),Xt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ii.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Cf(this.parent.latestValues)||YE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ft.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Xt(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,y=this.treeScale.y;WN(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:T}=a;if(!T){this.projectionTransform&&(this.projectionDelta=ls(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ls(),this.projectionDeltaWithTransform=ls());const S=this.projectionTransform;Bo(this.projectionDelta,this.layoutCorrected,T,this.latestValues),this.projectionTransform=I0(this.projectionDelta,this.treeScale),(this.projectionTransform!==S||this.treeScale.x!==p||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T)),ii.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=ls();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Ue(),y=l?l.source:void 0,T=this.layout?this.layout.source:void 0,S=y!==T,R=this.getStack(),x=!R||R.members.length<=1,v=!!(S&&!x&&this.options.crossfade===!0&&!this.path.some(NV));this.animationProgress=0;let w;this.mixTargetDelta=V=>{const M=V/1e3;D0(h.x,o.x,M),D0(h.y,o.y,M),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zo(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kV(this.relativeTarget,this.relativeTargetOrigin,p,M),w&&uV(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Ue()),Xt(w,this.relativeTarget)),S&&(this.animationValues=d,iV(d,u,this.latestValues,M,v,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Kn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xe.update(()=>{ql.hasAnimatedSinceResize=!0,this.currentAnimation=yV(0,k0,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(k0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&oT(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Ue();const h=Ht(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=Ht(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Xt(a,l),cs(a,d),Bo(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new dV),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<R0.length;d++){const h="rotate"+R0[d];l[h]&&(u[h]=l[h],o.setStaticValue(h,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return vV;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Hl(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=Hl(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ri(this.latestValues)&&(S.transform=d?d({},""):"none",this.hasProjected=!1),S}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=I0(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:y,y:T}=this.projectionDelta;u.transformOrigin=`${y.origin*100}% ${T.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const S in Ac){if(p[S]===void 0)continue;const{correct:R,applyTo:x}=Ac[S],v=u.transform==="none"?p[S]:R(p[S],h);if(x){const w=x.length;for(let V=0;V<w;V++)u[x[V]]=v}else u[S]=v}return this.options.layoutId&&(u.pointerEvents=h===this?Hl(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(N0),this.root.sharedNodes.clear()}}}function xV(t){t.updateLayout()}function _V(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Jt(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],y=Ht(p);p.min=r[h].min,p.max=p.min+y}):oT(s,n.layoutBox,r)&&Jt(h=>{const p=o?n.measuredBox[h]:n.layoutBox[h],y=Ht(r[h]);p.max=p.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+y)});const a=ls();Bo(a,r,n.layoutBox);const l=ls();o?Bo(l,t.applyTransform(i,!0),n.measuredBox):Bo(l,r,n.layoutBox);const u=!rT(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:y}=h;if(p&&y){const T=Ue();zo(T,n.layoutBox,p.layoutBox);const S=Ue();zo(S,r,y.layoutBox),iT(T,S)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=T,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function EV(t){ii.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function TV(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function SV(t){t.clearSnapshot()}function N0(t){t.clearMeasurements()}function CV(t){t.isLayoutDirty=!1}function PV(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function V0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function bV(t){t.resolveTargetDelta()}function AV(t){t.calcProjection()}function IV(t){t.resetRotation()}function RV(t){t.removeLeadSnapshot()}function D0(t,e,n){t.translate=Ie(e.translate,0,n),t.scale=Ie(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function M0(t,e,n,r){t.min=Ie(e.min,n.min,r),t.max=Ie(e.max,n.max,r)}function kV(t,e,n,r){M0(t.x,e.x,n.x,r),M0(t.y,e.y,n.y,r)}function NV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const VV={duration:.45,ease:[.4,0,.1,1]},L0=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),j0=L0("applewebkit/")&&!L0("chrome/")?Math.round:Me;function O0(t){t.min=j0(t.min),t.max=j0(t.max)}function DV(t){O0(t.x),O0(t.y)}function oT(t,e,n){return t==="position"||t==="preserve-aspect"&&!Tf(A0(e),A0(n),.2)}const MV=sT({attachResizeListener:(t,e)=>On(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rh={current:void 0},aT=sT({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!rh.current){const t=new MV({});t.mount(window),t.setOptions({layoutScroll:!0}),rh.current=t}return rh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),LV={pan:{Feature:JN},drag:{Feature:XN,ProjectionNode:aT,MeasureLayout:eT}},jV=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function OV(t){const e=jV.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function bf(t,e,n=1){const[r,i]=OV(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return $E(o)?parseFloat(o):o}else return gf(i)?bf(i,e,n+1):i}function FV(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!gf(s))return;const o=bf(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!gf(s))continue;const o=bf(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const BV=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),lT=t=>BV.has(t),zV=t=>Object.keys(t).some(lT),F0=t=>t===Ni||t===te,B0=(t,e)=>parseFloat(t.split(", ")[e]),z0=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return B0(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?B0(s[1],t):0}},UV=new Set(["x","y","z"]),$V=ka.filter(t=>!UV.has(t));function WV(t){const e=[];return $V.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Ps={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:z0(4,13),y:z0(5,14)};Ps.translateX=Ps.x;Ps.translateY=Ps.y;const HV=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{a[u]=Ps[u](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const d=e.getValue(u);d&&d.jump(a[u]),t[u]=Ps[u](l,s)}),t},qV=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(lT);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let d=n[l],h=go(d);const p=e[l];let y;if(Rc(p)){const T=p.length,S=p[0]===null?1:0;d=p[S],h=go(d);for(let R=S;R<T&&p[R]!==null;R++)y?mm(go(p[R])===y):y=go(p[R])}else y=go(p);if(h!==y)if(F0(h)&&F0(y)){const T=u.get();typeof T=="string"&&u.set(parseFloat(T)),typeof p=="string"?e[l]=parseFloat(p):Array.isArray(p)&&y===te&&(e[l]=p.map(parseFloat))}else h!=null&&h.transform&&(y!=null&&y.transform)&&(d===0||p===0)?d===0?u.set(y.transform(d)):e[l]=h.transform(p):(o||(s=WV(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(p))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=HV(e,t,a);return s.length&&s.forEach(([d,h])=>{t.getValue(d).set(h)}),t.render(),_u&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function GV(t,e,n,r){return zV(e)?qV(t,e,n,r):{target:e,transitionEnd:r}}const KV=(t,e,n,r)=>{const i=FV(t,e,r);return e=i.target,r=i.transitionEnd,GV(t,e,n,r)},Af={current:null},cT={current:!1};function QV(){if(cT.current=!0,!!_u)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Af.current=t.matches;t.addListener(e),e()}else Af.current=!1}function YV(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(Lt(s))t.addValue(i,s),Dc(r)&&r.add(i);else if(Lt(o))t.addValue(i,Cs(s,{owner:t})),Dc(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Cs(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const U0=new WeakMap,uT=Object.keys(pa),XV=uT.length,$0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],JV=om.length;class ZV{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>xe.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Tu(n),this.isVariantNode=K_(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const h in d){const p=d[h];a[h]!==void 0&&Lt(p)&&(p.set(a[h],!1),Dc(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,U0.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),cT.current||QV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Af.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){U0.delete(this.current),this.projection&&this.projection.unmount(),Kn(this.notifyUpdate),Kn(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=ki.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&xe.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<XV;l++){const u=uT[l],{isEnabled:d,Feature:h,ProjectionNode:p,MeasureLayout:y}=pa[u];p&&(o=p),d(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),y&&(a=y))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:d,dragConstraints:h,layoutScroll:p,layoutRoot:y}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||h&&os(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:y})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ue()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<$0.length;r++){const i=$0[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=YV(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<JV;r++){const i=om[r],s=this.props[i];(fa(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Cs(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=pm(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Lt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Sm),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class dT extends ZV{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=gN(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){pN(this,r,o);const a=KV(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function eD(t){return window.getComputedStyle(t)}class tD extends dT{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(ki.has(n)){const r=wm(n);return r&&r.default||0}else{const r=eD(e),i=(J_(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return JE(e,n)}build(e,n,r,i){cm(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return fm(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Lt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){iE(e,n,r,i)}}class nD extends dT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ki.has(n)){const r=wm(n);return r&&r.default||0}return n=sE.has(n)?n:im(n),e.getAttribute(n)}measureInstanceViewportBox(){return Ue()}scrapeMotionValuesFromProps(e,n){return aE(e,n)}build(e,n,r,i){dm(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){oE(e,n,r,i)}mount(e){this.isSVGTag=hm(e.tagName),super.mount(e)}}const rD=(t,e)=>lm(t)?new nD(e,{enableHardwareAcceleration:!1}):new tD(e,{enableHardwareAcceleration:!0}),iD={layout:{ProjectionNode:aT,MeasureLayout:eT}},sD={...kN,...Xk,...LV,...iD},Q=ok((t,e)=>Ok(t,e,sD,rD));function hT(){const t=b.useRef(!1);return rm(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function oD(){const t=hT(),[e,n]=b.useState(0),r=b.useCallback(()=>{t.current&&n(e+1)},[e]);return[b.useCallback(()=>xe.postRender(r),[r]),e]}class aD extends b.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function lD({children:t,isPresent:e}){const n=b.useId(),r=b.useRef(null),i=b.useRef({width:0,height:0,top:0,left:0});return b.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),b.createElement(aD,{isPresent:e,childRef:r,sizeRef:i},b.cloneElement(t,{ref:r}))}const ih=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=lE(cD),l=b.useId(),u=b.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:d=>{a.set(d,!0);for(const h of a.values())if(!h)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),s?void 0:[n]);return b.useMemo(()=>{a.forEach((d,h)=>a.set(h,!1))},[n]),b.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=b.createElement(lD,{isPresent:n},t)),b.createElement(xu.Provider,{value:u},t)};function cD(){return new Map}function uD(t){return b.useEffect(()=>()=>t(),[])}const si=t=>t.key||"";function dD(t,e){t.forEach(n=>{const r=si(n);e.set(r,n)})}function hD(t){const e=[];return b.Children.forEach(t,n=>{b.isValidElement(n)&&e.push(n)}),e}const fD=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=b.useContext(am).forceRender||oD()[0],l=hT(),u=hD(t);let d=u;const h=b.useRef(new Map).current,p=b.useRef(d),y=b.useRef(new Map).current,T=b.useRef(!0);if(rm(()=>{T.current=!1,dD(u,y),p.current=d}),uD(()=>{T.current=!0,y.clear(),h.clear()}),T.current)return b.createElement(b.Fragment,null,d.map(v=>b.createElement(ih,{key:si(v),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},v)));d=[...d];const S=p.current.map(si),R=u.map(si),x=S.length;for(let v=0;v<x;v++){const w=S[v];R.indexOf(w)===-1&&!h.has(w)&&h.set(w,void 0)}return o==="wait"&&h.size&&(d=[]),h.forEach((v,w)=>{if(R.indexOf(w)!==-1)return;const V=y.get(w);if(!V)return;const M=S.indexOf(w);let L=v;if(!L){const I=()=>{h.delete(w);const _=Array.from(y.keys()).filter(k=>!R.includes(k));if(_.forEach(k=>y.delete(k)),p.current=u.filter(k=>{const N=si(k);return N===w||_.includes(N)}),!h.size){if(l.current===!1)return;a(),r&&r()}};L=b.createElement(ih,{key:si(V),isPresent:!1,onExitComplete:I,custom:e,presenceAffectsLayout:s,mode:o},V),h.set(w,L)}d.splice(M,0,L)}),d=d.map(v=>{const w=v.key;return h.has(w)?v:b.createElement(ih,{key:si(v),isPresent:!0,presenceAffectsLayout:s,mode:o},v)}),b.createElement(b.Fragment,null,h.size?d:d.map(v=>b.cloneElement(v)))};var pD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const mD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Be=(t,e)=>{const n=b.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:a,...l},u)=>b.createElement("svg",{ref:u,...pD,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${mD(t)}`,...l},[...e.map(([d,h])=>b.createElement(d,h)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n},gD=Be("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),yD=Be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),vD=Be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),wD=Be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),xD=Be("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),_D=Be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),ED=Be("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),ga=Be("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),TD=Be("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),fT=Be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),SD=Be("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),CD=Be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),PD=Be("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),bD=Be("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),AD=Be("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),If=Be("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),pT=Be("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),sh=Be("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),ID=Be("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),RD=Be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Cm=Be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function mT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=mT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function gT(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=mT(t))&&(r&&(r+=" "),r+=e);return r}function kD(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=yT(e))&&(r&&(r+=" "),r+=n);return r}function yT(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=yT(t[r]))&&(n&&(n+=" "),n+=e);return n}var Pm="-";function ND(t){var e=DD(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,i=r===void 0?{}:r;function s(a){var l=a.split(Pm);return l[0]===""&&l.length!==1&&l.shift(),vT(l,e)||VD(a)}function o(a,l){var u=n[a]||[];return l&&i[a]?[].concat(u,i[a]):u}return{getClassGroupId:s,getConflictingClassGroupIds:o}}function vT(t,e){var o;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),i=r?vT(t.slice(1),r):void 0;if(i)return i;if(e.validators.length!==0){var s=t.join(Pm);return(o=e.validators.find(function(a){var l=a.validator;return l(s)}))==null?void 0:o.classGroupId}}var W0=/^\[(.+)\]$/;function VD(t){if(W0.test(t)){var e=W0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function DD(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},i=LD(Object.entries(t.classGroups),n);return i.forEach(function(s){var o=s[0],a=s[1];Rf(a,r,o,e)}),r}function Rf(t,e,n,r){t.forEach(function(i){if(typeof i=="string"){var s=i===""?e:H0(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(MD(i)){Rf(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(o){var a=o[0],l=o[1];Rf(l,H0(e,a),n,r)})})}function H0(t,e){var n=t;return e.split(Pm).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function MD(t){return t.isThemeGetter}function LD(t,e){return e?t.map(function(n){var r=n[0],i=n[1],s=i.map(function(o){return typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(a){var l=a[0],u=a[1];return[e+l,u]})):o});return[r,s]}):t}function jD(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function i(s,o){n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(o){var a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set:function(o,a){n.has(o)?n.set(o,a):i(o,a)}}}var wT="!";function OD(t){var e=t.separator||":",n=e.length===1,r=e[0],i=e.length;return function(o){for(var a=[],l=0,u=0,d,h=0;h<o.length;h++){var p=o[h];if(l===0){if(p===r&&(n||o.slice(h,h+i)===e)){a.push(o.slice(u,h)),u=h+i;continue}if(p==="/"){d=h;continue}}p==="["?l++:p==="]"&&l--}var y=a.length===0?o:o.substring(u),T=y.startsWith(wT),S=T?y.substring(1):y,R=d&&d>u?d-u:void 0;return{modifiers:a,hasImportantModifier:T,baseClassName:S,maybePostfixModifierPosition:R}}}function FD(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var i=r[0]==="[";i?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function BD(t){return{cache:jD(t.cacheSize),splitModifiers:OD(t),...ND(t)}}var zD=/\s+/;function UD(t,e){var n=e.splitModifiers,r=e.getClassGroupId,i=e.getConflictingClassGroupIds,s=new Set;return t.trim().split(zD).map(function(o){var a=n(o),l=a.modifiers,u=a.hasImportantModifier,d=a.baseClassName,h=a.maybePostfixModifierPosition,p=r(h?d.substring(0,h):d),y=!!h;if(!p){if(!h)return{isTailwindClass:!1,originalClassName:o};if(p=r(d),!p)return{isTailwindClass:!1,originalClassName:o};y=!1}var T=FD(l).join(":"),S=u?T+wT:T;return{isTailwindClass:!0,modifierId:S,classGroupId:p,originalClassName:o,hasPostfixModifier:y}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var a=o.modifierId,l=o.classGroupId,u=o.hasPostfixModifier,d=a+l;return s.has(d)?!1:(s.add(d),i(l,u).forEach(function(h){return s.add(a+h)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function $D(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i,s,o=a;function a(u){var d=e[0],h=e.slice(1),p=h.reduce(function(y,T){return T(y)},d());return r=BD(p),i=r.cache.get,s=r.cache.set,o=l,l(u)}function l(u){var d=i(u);if(d)return d;var h=UD(u,r);return s(u,h),h}return function(){return o(kD.apply(null,arguments))}}function Ee(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var xT=/^\[(?:([a-z-]+):)?(.+)\]$/i,WD=/^\d+\/\d+$/,HD=new Set(["px","full","screen"]),qD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,GD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,KD=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function un(t){return di(t)||HD.has(t)||WD.test(t)||kf(t)}function kf(t){return Vi(t,"length",eM)}function QD(t){return Vi(t,"size",_T)}function YD(t){return Vi(t,"position",_T)}function XD(t){return Vi(t,"url",tM)}function Cl(t){return Vi(t,"number",di)}function di(t){return!Number.isNaN(Number(t))}function JD(t){return t.endsWith("%")&&di(t.slice(0,-1))}function vo(t){return q0(t)||Vi(t,"number",q0)}function ce(t){return xT.test(t)}function wo(){return!0}function ir(t){return qD.test(t)}function ZD(t){return Vi(t,"",nM)}function Vi(t,e,n){var r=xT.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function eM(t){return GD.test(t)}function _T(){return!1}function tM(t){return t.startsWith("url(")}function q0(t){return Number.isInteger(Number(t))}function nM(t){return KD.test(t)}function rM(){var t=Ee("colors"),e=Ee("spacing"),n=Ee("blur"),r=Ee("brightness"),i=Ee("borderColor"),s=Ee("borderRadius"),o=Ee("borderSpacing"),a=Ee("borderWidth"),l=Ee("contrast"),u=Ee("grayscale"),d=Ee("hueRotate"),h=Ee("invert"),p=Ee("gap"),y=Ee("gradientColorStops"),T=Ee("gradientColorStopPositions"),S=Ee("inset"),R=Ee("margin"),x=Ee("opacity"),v=Ee("padding"),w=Ee("saturate"),V=Ee("scale"),M=Ee("sepia"),L=Ee("skew"),I=Ee("space"),_=Ee("translate"),k=function(){return["auto","contain","none"]},N=function(){return["auto","hidden","clip","visible","scroll"]},A=function(){return["auto",ce,e]},P=function(){return[ce,e]},E=function(){return["",un]},O=function(){return["auto",di,ce]},G=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},Y=function(){return["solid","dashed","dotted","double","none"]},re=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},z=function(){return["start","end","center","between","around","evenly","stretch"]},W=function(){return["","0",ce]},X=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},K=function(){return[di,Cl]},ie=function(){return[di,ce]};return{cacheSize:500,theme:{colors:[wo],spacing:[un],blur:["none","",ir,ce],brightness:K(),borderColor:[t],borderRadius:["none","","full",ir,ce],borderSpacing:P(),borderWidth:E(),contrast:K(),grayscale:W(),hueRotate:ie(),invert:W(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[JD,kf],inset:A(),margin:A(),opacity:K(),padding:P(),saturate:K(),scale:K(),sepia:W(),skew:ie(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[ir]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(G(),[ce])}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vo]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",vo]}],"grid-cols":[{"grid-cols":[wo]}],"col-start-end":[{col:["auto",{span:["full",vo]},ce]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[wo]}],"row-start-end":[{row:["auto",{span:[vo]},ce]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal"].concat(z())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(z(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(z(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[R]}],mx:[{mx:[R]}],my:[{my:[R]}],ms:[{ms:[R]}],me:[{me:[R]}],mt:[{mt:[R]}],mr:[{mr:[R]}],mb:[{mb:[R]}],ml:[{ml:[R]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",ce,e]}],"min-w":[{"min-w":["min","max","fit",ce,un]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[ir]},ir,ce]}],h:[{h:[ce,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",ce,un]}],"max-h":[{"max-h":[ce,e,"min","max","fit"]}],"font-size":[{text:["base",ir,kf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Cl]}],"font-family":[{font:[wo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",di,Cl]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ce,un]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(Y(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",un]}],"underline-offset":[{"underline-offset":["auto",ce,un]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(G(),[YD])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",QD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},XD]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[].concat(Y(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:Y()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(Y())}],"outline-offset":[{"outline-offset":[ce,un]}],"outline-w":[{outline:[un]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:E()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[un]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ir,ZD]}],"shadow-color":[{shadow:[wo]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":re()}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ir,ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[V]}],"scale-x":[{"scale-x":[V]}],"scale-y":[{"scale-y":[V]}],rotate:[{rotate:[vo,ce]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[un,Cl]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var iM=$D(rM);function qt(...t){return iM(gT(t))}function G0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function sM(...t){return e=>{let n=!1;const r=t.map(i=>{const s=G0(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():G0(t[i],null)}}}}function vt(...t){return b.useCallback(sM(...t),t)}function Lc(t){const e=aM(t),n=b.forwardRef((r,i)=>{const{children:s,...o}=r,a=b.Children.toArray(s),l=a.find(cM);if(l){const u=l.props.children,d=a.map(h=>h===l?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:h);return g.jsx(e,{...o,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return g.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var oM=Lc("Slot");function aM(t){const e=b.forwardRef((n,r)=>{const{children:i,...s}=n,o=b.isValidElement(i)?dM(i):void 0,a=vt(o,r);if(b.isValidElement(i)){const l=uM(s,i.props);return i.type!==b.Fragment&&(l.ref=a),b.cloneElement(i,l)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var lM=Symbol("radix.slottable");function cM(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===lM}function uM(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function dM(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const K0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Q0=gT,bm=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Q0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],h=s==null?void 0:s[u];if(d===null)return null;const p=K0(d)||K0(h);return i[u][p]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:p,...y}=d;return Object.entries(y).every(T=>{let[S,R]=T;return Array.isArray(R)?R.includes({...s,...a}[S]):{...s,...a}[S]===R})?[...u,h,p]:u},[]);return Q0(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},hM=bm("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),fe=Ae.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?oM:"button";return g.jsx(o,{className:qt(hM({variant:e,size:n,className:t})),ref:s,...i})});fe.displayName="Button";const ET="/assets/C-Cube-Logo-f839ec34.png",fM=()=>{const[t,e]=b.useState(!1),n=[{name:"Home",path:"/"},{name:"Shop",path:"/shop"},{name:"About",path:"/about"},{name:"Contact",path:"/contact"}],r={hover:{scale:1.1,color:"#F2BED1",transition:{duration:.2}},tap:{scale:.95}},i={open:{opacity:1,y:0,transition:{type:"spring",stiffness:300,damping:24}},closed:{opacity:0,y:20,transition:{duration:.2}}};return g.jsxs(Q.nav,{initial:{y:-100},animate:{y:0},transition:{duration:.5,ease:"easeOut"},className:"bg-pastel-light/80 backdrop-blur-md shadow-md sticky top-0 z-50",children:[g.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"flex items-center justify-between h-20",children:[g.jsxs(Bt,{to:"/",className:"flex items-center space-x-2",children:[g.jsx("img",{src:ET,alt:"C Cube Logo",className:"h-20 w-20 text-pastel-accent"}),g.jsx("span",{className:"font-heading text-2xl font-bold text-pastel-accent",children:"C Cube"})]}),g.jsx("div",{className:"hidden md:flex items-center space-x-6",children:n.map(s=>g.jsx(Q.div,{variants:r,whileHover:"hover",whileTap:"tap",children:g.jsx(Ov,{to:s.path,className:({isActive:o})=>`text-pastel-accent hover:text-pastel-dark transition-colors duration-300 pb-1 ${o?"font-semibold border-b-2 border-pastel-dark":""}`,children:s.name})},s.name))}),g.jsx("div",{className:"hidden md:flex items-center",children:g.jsx(fe,{variant:"ghost",size:"icon",className:"text-pastel-accent hover:text-pastel-dark hover:bg-pastel-medium/50",children:g.jsx(If,{size:24})})}),g.jsxs("div",{className:"md:hidden flex items-center",children:[g.jsx(fe,{variant:"ghost",size:"icon",className:"text-pastel-accent hover:text-pastel-dark hover:bg-pastel-medium/50 mr-2",children:g.jsx(If,{size:24})}),g.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>e(!t),className:"text-pastel-accent hover:text-pastel-dark hover:bg-pastel-medium/50","aria-label":"Toggle menu",children:t?g.jsx(Cm,{size:28}):g.jsx(CD,{size:28})})]})]})}),g.jsx(Q.div,{initial:!1,animate:t?"open":"closed",variants:{open:{opacity:1,height:"auto",transition:{staggerChildren:.05,delayChildren:.2}},closed:{opacity:0,height:0,transition:{staggerChildren:.05,staggerDirection:-1}}},className:"md:hidden bg-pastel-light/95 backdrop-blur-sm",children:g.jsx("div",{className:"px-4 pt-2 pb-4 space-y-1 sm:px-6",children:n.map(s=>g.jsx(Q.div,{variants:i,children:g.jsx(Ov,{to:s.path,onClick:()=>e(!1),className:({isActive:o})=>`block px-3 py-2 rounded-md text-base font-medium transition-colors duration-300 ${o?"bg-pastel-medium text-pastel-accent font-semibold":"text-pastel-accent hover:bg-pastel-dark/30 hover:text-pastel-accent"}`,children:s.name})},s.name))})})]})},pM=()=>{const t=[{icon:g.jsx(TD,{size:24}),href:"https://instagram.com",label:"Instagram"},{icon:g.jsx(xD,{size:24}),href:"https://facebook.com",label:"Facebook"},{icon:g.jsx(ID,{size:24}),href:"https://twitter.com",label:"Twitter"}],e={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return g.jsx(Q.footer,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},transition:{staggerChildren:.2},className:"bg-pastel-medium text-pastel-accent py-12",children:g.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 items-center",children:[g.jsxs(Q.div,{variants:e,className:"flex flex-col items-center md:items-start",children:[g.jsxs(Bt,{to:"/",className:"flex items-center space-x-2 mb-4",children:[g.jsx("img",{src:ET,alt:"C Cube Logo",className:"h-20 w-20 text-pastel-accent"}),g.jsx("span",{className:"font-heading text-2xl font-bold",children:"C  C Cube"})]}),g.jsx("p",{className:"text-sm text-center md:text-left",children:"Handmade with heart  across six sides."})]}),g.jsxs(Q.div,{variants:e,className:"flex flex-col items-center",children:[g.jsx("span",{className:"font-semibold mb-4 text-lg",children:"Quick Links"}),g.jsxs("ul",{className:"space-y-2 text-center",children:[g.jsx("li",{children:g.jsx(Bt,{to:"/shop",className:"hover:text-pastel-bg transition-colors",children:"Shop All"})}),g.jsx("li",{children:g.jsx(Bt,{to:"/about",className:"hover:text-pastel-bg transition-colors",children:"Our Story"})}),g.jsx("li",{children:g.jsx(Bt,{to:"/contact",className:"hover:text-pastel-bg transition-colors",children:"Contact Us"})}),g.jsx("li",{children:g.jsx(Bt,{to:"/contact#custom-orders",className:"hover:text-pastel-bg transition-colors",children:"Custom Orders"})})]})]}),g.jsxs(Q.div,{variants:e,className:"flex flex-col items-center md:items-end",children:[g.jsx("span",{className:"font-semibold mb-4 text-lg",children:"Connect With Us"}),g.jsx("div",{className:"flex space-x-4 mb-4",children:t.map((n,r)=>g.jsx(Q.a,{href:n.href,target:"_blank",rel:"noopener noreferrer","aria-label":n.label,whileHover:{scale:1.2,color:"#F9F5F6"},whileTap:{scale:.9},className:"text-pastel-accent hover:text-pastel-bg transition-colors",children:n.icon},r))}),g.jsxs("a",{href:"mailto:hello@ccube.com",className:"flex items-center space-x-2 hover:text-pastel-bg transition-colors",children:[g.jsx(fT,{size:20}),g.jsx("span",{children:"hello@ccube.com"})]})]})]}),g.jsx(Q.div,{variants:e,className:"mt-10 pt-8 border-t border-pastel-dark/50 text-center text-sm",children:g.jsxs("p",{children:[" ",new Date().getFullYear()," C  C Cube. All rights reserved. Crafted with care in Hostinger Horizons."]})})]})})},mM=1;let oh=0;function gM(){return oh=(oh+1)%Number.MAX_VALUE,oh.toString()}const Tt={state:{toasts:[]},listeners:[],getState:()=>Tt.state,setState:t=>{typeof t=="function"?Tt.state=t(Tt.state):Tt.state={...Tt.state,...t},Tt.listeners.forEach(e=>e(Tt.state))},subscribe:t=>(Tt.listeners.push(t),()=>{Tt.listeners=Tt.listeners.filter(e=>e!==t)})},yM=({...t})=>{const e=gM(),n=i=>Tt.setState(s=>({...s,toasts:s.toasts.map(o=>o.id===e?{...o,...i}:o)})),r=()=>Tt.setState(i=>({...i,toasts:i.toasts.filter(s=>s.id!==e)}));return Tt.setState(i=>({...i,toasts:[{...t,id:e,dismiss:r},...i.toasts].slice(0,mM)})),{id:e,dismiss:r,update:n}};function zs(){const[t,e]=b.useState(Tt.getState());return b.useEffect(()=>Tt.subscribe(r=>{e(r)}),[]),b.useEffect(()=>{const n=[];return t.toasts.forEach(r=>{if(r.duration===1/0)return;const i=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(i)}),()=>{n.forEach(r=>clearTimeout(r))}},[t.toasts]),{toast:yM,toasts:t.toasts}}const Am=({product:t})=>{const{toast:e}=zs();if(console.log(" ProductCard rendering with product:",t),!t)return console.error(" ProductCard: No product provided"),g.jsx("div",{className:"p-4 bg-red-100 text-red-600",children:"Error: No product data"});t.name||console.warn(" ProductCard: Product missing name field:",t);const n=o=>{if(!o)return"0.00";if(typeof o.price=="string"){const a=parseFloat(o.price);return isNaN(a)?"0.00":a.toFixed(2)}if(typeof o.price=="number")return o.price.toFixed(2);if(typeof o.price=="object"&&o.price!==null){const a=Object.values(o.price).map(l=>parseFloat(l)).filter(l=>!isNaN(l));if(a.length>0){const l=Math.min(...a),u=Math.max(...a);return l===u?l.toFixed(2):`${l.toFixed(2)} - ${u.toFixed(2)}`}}if(o.pricing&&typeof o.pricing=="object"&&o.pricing!==null){const a=Object.values(o.pricing).map(l=>parseFloat(l)).filter(l=>!isNaN(l));if(a.length>0){const l=Math.min(...a),u=Math.max(...a);return l===u?l.toFixed(2):`${l.toFixed(2)} - ${u.toFixed(2)}`}}return"0.00"},r=o=>{o.preventDefault(),o.stopPropagation(),e({title:" Added to Cart!",description:`${t.name} is now in your cart.`,duration:3e3}),console.log(`Added ${t.name} to cart.`)},i={rest:{scale:1,boxShadow:"0px 5px 10px rgba(0,0,0,0.1)"},hover:{scale:1.03,boxShadow:"0px 10px 20px rgba(46, 71, 74, 0.15)",transition:{duration:.3,ease:"easeOut"}}},s={rest:{scale:1},hover:{scale:1.1,transition:{duration:.3,ease:"easeOut"}}};return g.jsx(Q.div,{variants:i,initial:"rest",whileHover:"hover",animate:"rest",className:"bg-white rounded-xl overflow-hidden shadow-lg group cursor-pointer flex flex-col h-full",children:g.jsxs(Bt,{to:`/shop/${t.id}`,className:"flex flex-col h-full",children:[g.jsxs("div",{className:"relative overflow-hidden aspect-[4/3]",children:[g.jsx(Q.div,{variants:s,className:"w-full h-full",children:g.jsx("img",{className:"w-full h-full object-cover",alt:t.name,src:t.images&&t.images.length>0?t.images[0]:t.imageUrl||"https://images.unsplash.com/photo-1671376354106-d8d21e55dddd",onError:o=>{o.target.src="https://images.unsplash.com/photo-1671376354106-d8d21e55dddd"}})}),t.colors&&t.colors.length>0&&g.jsx("div",{className:"absolute bottom-2 left-2",children:g.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-full px-2 py-1",children:g.jsxs("span",{className:"text-xs text-pastel-accent font-medium",children:[t.colors.length," color",t.colors.length>1?"s":""]})})}),g.jsx("div",{className:"absolute top-2 right-2",children:g.jsx(fe,{variant:"ghost",size:"icon",className:"bg-white/70 hover:bg-pastel-medium text-pastel-accent rounded-full backdrop-blur-sm",onClick:o=>{o.preventDefault(),o.stopPropagation(),e({title:" Added to Wishlist!",description:`${t.name} has been added to your wishlist.`,duration:2e3})},"aria-label":"Add to wishlist",children:g.jsx(ga,{size:20})})})]}),g.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[g.jsx("span",{className:"text-xs text-pastel-dark font-medium uppercase tracking-wider mb-1",children:t.category}),g.jsx("h3",{className:"text-lg font-semibold text-pastel-accent mb-2 group-hover:text-pastel-dark transition-colors duration-300 truncate",children:t.name}),g.jsx("p",{className:"text-sm text-pastel-accent/70 mb-3 flex-grow line-clamp-2",children:t.description}),g.jsxs("div",{className:"mt-auto",children:[g.jsxs("p",{className:"text-xl font-bold text-pastel-accent mb-4",children:["$",n(t)]}),g.jsxs(fe,{onClick:r,className:"w-full bg-pastel-dark text-white hover:bg-pastel-accent transition-colors duration-300 group-hover:scale-105 transform","aria-label":`Add ${t.name} to cart`,children:["Add to Cart ",g.jsx(pT,{size:18,className:"ml-2"})]})]})]})]})})},vM=[{id:1,name:"Pastel Crochet Bag",category:"Crochet",price:"25.00",imageSrc:"crochet_bag_pastel",description:"A charming handmade crochet bag in soft pastel hues."},{id:2,name:"Scented Soy Candle",category:"Candles",price:"15.00",imageSrc:"scented_candle_pastel",description:"Relaxing scented soy candle, perfect for cozy evenings."},{id:3,name:"Clay Trinket Dish",category:"Clay",price:"12.00",imageSrc:"clay_trinket_dish",description:"Cute clay dish for your tiny treasures."},{id:4,name:"Mini Canvas Art",category:"Canvas",price:"30.00",imageSrc:"mini_canvas_art_abstract",description:"Unique abstract mini canvas art to brighten your space."}],wM=()=>{const{toast:t}=zs(),e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.3}}},n={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100}}},r={initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1,transition:{duration:.8,ease:"easeOut"}}},i=()=>{t({title:" Off to Shopping!",description:"Get ready to find your new favorite handmade treasures!",duration:3e3})};return g.jsxs(Q.div,{initial:"hidden",animate:"visible",variants:e,className:"animate-fade-in",children:[g.jsxs(Q.section,{variants:r,initial:"initial",animate:"animate",className:"bg-gradient-to-br from-pastel-light via-pastel-medium to-pastel-dark py-20 md:py-32 text-center relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 opacity-30",children:g.jsx("img",{class:"w-full h-full object-cover",alt:"Abstract pastel background texture",src:"https://images.unsplash.com/photo-1627052046046-c506756f1ab2"})}),g.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[g.jsxs(Q.h1,{variants:n,className:"text-4xl sm:text-5xl md:text-6xl font-bold text-pastel-accent mb-6",children:["C  ",g.jsx("span",{className:"text-white",children:"C Cube"})]}),g.jsx(Q.p,{variants:n,className:"text-xl md:text-2xl text-pastel-accent/80 mb-10",children:"Handmade with heart  across six sides."}),g.jsx(Q.div,{variants:n,children:g.jsx(fe,{asChild:!0,size:"lg",className:"bg-pastel-accent text-pastel-bg hover:bg-pastel-accent/90 shadow-lg transform hover:scale-105 transition-transform duration-300 group",children:g.jsxs(Bt,{to:"/shop",onClick:i,children:["Shop Our Collections ",g.jsx(If,{size:20,className:"ml-2 group-hover:animate-bounce"})]})})})]})]}),g.jsx("section",{className:"py-16 md:py-24 bg-pastel-bg",children:g.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[g.jsx(Q.h2,{variants:n,className:"text-3xl md:text-4xl font-bold text-pastel-accent text-center mb-12",children:"Featured Treasures"}),g.jsx(Q.div,{variants:e,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:vM.map((s,o)=>g.jsx(Q.div,{variants:n,custom:o,className:"animate-slide-in-up",style:{animationDelay:`${o*.1}s`},children:g.jsx(Am,{product:s})},s.id))}),g.jsx(Q.div,{variants:n,className:"text-center mt-12",children:g.jsx(fe,{asChild:!0,variant:"outline",size:"lg",className:"border-pastel-dark text-pastel-accent hover:bg-pastel-dark hover:text-pastel-bg shadow-md",children:g.jsxs(Bt,{to:"/shop",children:["Explore All Products ",g.jsx(ga,{size:18,className:"ml-2 fill-current text-pastel-dark group-hover:text-pastel-bg"})]})})})]})}),g.jsx("section",{className:"py-16 md:py-24 bg-pastel-light",children:g.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[g.jsx(Q.h2,{variants:n,className:"text-3xl md:text-4xl font-bold text-pastel-accent text-center mb-12",children:"Discover Our Crafts"}),g.jsx(Q.div,{variants:e,className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6 text-center",children:["Crochet","Candles","Crafts","Clay","Concrete","Canvas"].map((s,o)=>g.jsx(Q.div,{variants:n,custom:o,className:"animate-slide-in-up bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1 cursor-pointer group",style:{animationDelay:`${o*.08}s`},children:g.jsxs(Bt,{to:`/shop?category=${s.toLowerCase()}`,className:"block",children:[g.jsx("div",{className:"w-20 h-20 mx-auto bg-pastel-medium rounded-full flex items-center justify-center mb-4 group-hover:bg-pastel-dark transition-colors duration-300",children:g.jsx(ED,{size:36,className:"text-pastel-accent group-hover:text-white transition-colors duration-300"})}),g.jsx("h3",{className:"text-xl font-semibold text-pastel-accent group-hover:text-pastel-dark transition-colors duration-300",children:s})]})},s))})]})}),g.jsx("section",{className:"py-16 md:py-24 bg-pastel-bg",children:g.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[g.jsx(Q.h2,{variants:n,className:"text-3xl md:text-4xl font-bold text-pastel-accent text-center mb-12",children:"Follow Our Journey @c_cube_eg"}),g.jsx(Q.div,{variants:e,className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:[1,2,3,4].map(s=>g.jsxs(Q.div,{variants:n,custom:s,className:"animate-slide-in-up aspect-square bg-pastel-medium rounded-lg shadow-md overflow-hidden group relative",style:{animationDelay:`${s*.1}s`},children:[g.jsx("img",{class:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-300",alt:`Instagram post placeholder ${s}`,src:"https://images.unsplash.com/photo-1680504195875-2fe0b4ec2fd0"}),g.jsx("div",{className:"absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:g.jsx(ga,{size:32,className:"text-white"})})]},s))}),g.jsx(Q.div,{variants:n,className:"text-center mt-12",children:g.jsx(fe,{variant:"outline",size:"lg",className:"border-pastel-dark text-pastel-accent hover:bg-pastel-dark hover:text-pastel-bg shadow-md",onClick:()=>window.open("https://instagram.com/c_cube_eg","_blank"),children:"View on Instagram"})})]})}),g.jsx("section",{className:"py-16 md:py-24 bg-gradient-to-tl from-pastel-light via-pastel-medium to-pastel-dark",children:g.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[g.jsx(Q.h2,{variants:n,className:"text-3xl md:text-4xl font-bold text-pastel-accent mb-6",children:"Have a Special Request?"}),g.jsx(Q.p,{variants:n,className:"text-lg text-pastel-accent/80 mb-8 max-w-2xl mx-auto",children:"We love creating unique pieces! If you have a custom order in mind, reach out to us, and let's bring your vision to life."}),g.jsx(Q.div,{variants:n,children:g.jsx(fe,{asChild:!0,size:"lg",className:"bg-pastel-accent text-pastel-bg hover:bg-pastel-accent/90 shadow-lg transform hover:scale-105 transition-transform duration-300",children:g.jsx(Bt,{to:"/contact#custom-orders",children:"Request a Custom Order"})})})]})})]})};function bu(t,e=[]){let n=[];function r(s,o){const a=b.createContext(o),l=n.length;n=[...n,o];const u=h=>{var x;const{scope:p,children:y,...T}=h,S=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,R=b.useMemo(()=>T,Object.values(T));return g.jsx(S.Provider,{value:R,children:y})};u.displayName=s+"Provider";function d(h,p){var S;const y=((S=p==null?void 0:p[t])==null?void 0:S[l])||a,T=b.useContext(y);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return b.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,xM(i,...e)]}function xM(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(s)[`__scope${u}`];return{...a,...h}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Fe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}var bs=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},_M=Rw[" useInsertionEffect ".trim().toString()]||bs;function Im({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=EM({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const d=b.useRef(t!==void 0);b.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=b.useCallback(d=>{var h;if(a){const p=TM(d)?d(t):d;p!==t&&((h=o.current)==null||h.call(o,p))}else s(d)},[a,t,s,o]);return[l,u]}function EM({defaultProp:t,onChange:e}){const[n,r]=b.useState(t),i=b.useRef(n),s=b.useRef(e);return _M(()=>{s.current=e},[e]),b.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function TM(t){return typeof t=="function"}function TT(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function ST(t){const[e,n]=b.useState(void 0);return bs(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}function SM(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var Rm=t=>{const{present:e,children:n}=t,r=CM(e),i=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),s=vt(r.ref,PM(i));return typeof n=="function"||r.isPresent?b.cloneElement(i,{ref:s}):null};Rm.displayName="Presence";function CM(t){const[e,n]=b.useState(),r=b.useRef(null),i=b.useRef(t),s=b.useRef("none"),o=t?"mounted":"unmounted",[a,l]=SM(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=Pl(r.current);s.current=a==="mounted"?u:"none"},[a]),bs(()=>{const u=r.current,d=i.current;if(d!==t){const p=s.current,y=Pl(u);t?l("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&p!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),bs(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=y=>{const S=Pl(r.current).includes(y.animationName);if(y.target===e&&S&&(l("ANIMATION_END"),!i.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},p=y=>{y.target===e&&(s.current=Pl(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:b.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Pl(t){return(t==null?void 0:t.animationName)||"none"}function PM(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var bM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qe=bM.reduce((t,e)=>{const n=Lc(`Primitive.${e}`),r=b.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function CT(t,e){t&&mu.flushSync(()=>t.dispatchEvent(e))}var Au="Checkbox",[AM,c5]=bu(Au),[IM,km]=AM(Au);function RM(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:s,form:o,name:a,onCheckedChange:l,required:u,value:d="on",internal_do_not_use_render:h}=t,[p,y]=Im({prop:n,defaultProp:i??!1,onChange:l,caller:Au}),[T,S]=b.useState(null),[R,x]=b.useState(null),v=b.useRef(!1),w=T?!!o||!!T.closest("form"):!0,V={checked:p,disabled:s,setChecked:y,control:T,setControl:S,name:a,form:o,value:d,hasConsumerStoppedPropagationRef:v,required:u,defaultChecked:br(i)?!1:i,isFormControl:w,bubbleInput:R,setBubbleInput:x};return g.jsx(IM,{scope:e,...V,children:kM(h)?h(V):r})}var PT="CheckboxTrigger",bT=b.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:s,value:o,disabled:a,checked:l,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:p,isFormControl:y,bubbleInput:T}=km(PT,t),S=vt(i,d),R=b.useRef(l);return b.useEffect(()=>{const x=s==null?void 0:s.form;if(x){const v=()=>h(R.current);return x.addEventListener("reset",v),()=>x.removeEventListener("reset",v)}},[s,h]),g.jsx(Qe.button,{type:"button",role:"checkbox","aria-checked":br(l)?"mixed":l,"aria-required":u,"data-state":NT(l),"data-disabled":a?"":void 0,disabled:a,value:o,...r,ref:S,onKeyDown:Fe(e,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:Fe(n,x=>{h(v=>br(v)?!0:!v),T&&y&&(p.current=x.isPropagationStopped(),p.current||x.stopPropagation())})})});bT.displayName=PT;var Nm=b.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l,onCheckedChange:u,form:d,...h}=t;return g.jsx(RM,{__scopeCheckbox:n,checked:i,defaultChecked:s,disabled:a,required:o,onCheckedChange:u,name:r,form:d,value:l,internal_do_not_use_render:({isFormControl:p})=>g.jsxs(g.Fragment,{children:[g.jsx(bT,{...h,ref:e,__scopeCheckbox:n}),p&&g.jsx(kT,{__scopeCheckbox:n})]})})});Nm.displayName=Au;var AT="CheckboxIndicator",IT=b.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=km(AT,n);return g.jsx(Rm,{present:r||br(s.checked)||s.checked===!0,children:g.jsx(Qe.span,{"data-state":NT(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});IT.displayName=AT;var RT="CheckboxBubbleInput",kT=b.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:o,required:a,disabled:l,name:u,value:d,form:h,bubbleInput:p,setBubbleInput:y}=km(RT,t),T=vt(n,y),S=TT(s),R=ST(r);b.useEffect(()=>{const v=p;if(!v)return;const w=window.HTMLInputElement.prototype,M=Object.getOwnPropertyDescriptor(w,"checked").set,L=!i.current;if(S!==s&&M){const I=new Event("click",{bubbles:L});v.indeterminate=br(s),M.call(v,br(s)?!1:s),v.dispatchEvent(I)}},[p,S,s,i]);const x=b.useRef(br(s)?!1:s);return g.jsx(Qe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:a,disabled:l,name:u,value:d,form:h,...e,tabIndex:-1,ref:T,style:{...e.style,...R,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});kT.displayName=RT;function kM(t){return typeof t=="function"}function br(t){return t==="indeterminate"}function NT(t){return br(t)?"indeterminate":t?"checked":"unchecked"}const VT=Ae.forwardRef(({className:t,...e},n)=>g.jsx(Nm,{ref:n,className:qt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:g.jsx(IT,{className:qt("flex items-center justify-center text-current"),children:g.jsx(yD,{className:"h-4 w-4"})})}));VT.displayName=Nm.displayName;var NM="Label",DT=b.forwardRef((t,e)=>g.jsx(Qe.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));DT.displayName=NM;var MT=DT;const VM=bm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),dn=Ae.forwardRef(({className:t,...e},n)=>g.jsx(MT,{ref:n,className:qt(VM(),t),...e}));dn.displayName=MT.displayName;function LT(t,[e,n]){return Math.min(n,Math.max(e,t))}var DM=b.createContext(void 0);function MM(t){const e=b.useContext(DM);return t||e||"ltr"}function jT(t){const e=t+"CollectionProvider",[n,r]=bu(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=S=>{const{scope:R,children:x}=S,v=Ae.useRef(null),w=Ae.useRef(new Map).current;return g.jsx(i,{scope:R,itemMap:w,collectionRef:v,children:x})};o.displayName=e;const a=t+"CollectionSlot",l=Lc(a),u=Ae.forwardRef((S,R)=>{const{scope:x,children:v}=S,w=s(a,x),V=vt(R,w.collectionRef);return g.jsx(l,{ref:V,children:v})});u.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",p=Lc(d),y=Ae.forwardRef((S,R)=>{const{scope:x,children:v,...w}=S,V=Ae.useRef(null),M=vt(R,V),L=s(d,x);return Ae.useEffect(()=>(L.itemMap.set(V,{ref:V,...w}),()=>void L.itemMap.delete(V))),g.jsx(p,{[h]:"",ref:M,children:v})});y.displayName=d;function T(S){const R=s(t+"CollectionConsumer",S);return Ae.useCallback(()=>{const v=R.collectionRef.current;if(!v)return[];const w=Array.from(v.querySelectorAll(`[${h}]`));return Array.from(R.itemMap.values()).sort((L,I)=>w.indexOf(L.ref.current)-w.indexOf(I.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:o,Slot:u,ItemSlot:y},T,r]}var OT=["PageUp","PageDown"],FT=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],BT={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Us="Slider",[Nf,LM,jM]=jT(Us),[zT,u5]=bu(Us,[jM]),[OM,Iu]=zT(Us),UT=b.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:u=[r],value:d,onValueChange:h=()=>{},onValueCommit:p=()=>{},inverted:y=!1,form:T,...S}=t,R=b.useRef(new Set),x=b.useRef(0),w=o==="horizontal"?FM:BM,[V=[],M]=Im({prop:d,defaultProp:u,onChange:A=>{var E;(E=[...R.current][x.current])==null||E.focus(),h(A)}}),L=b.useRef(V);function I(A){const P=HM(V,A);N(A,P)}function _(A){N(A,x.current)}function k(){const A=L.current[x.current];V[x.current]!==A&&p(V)}function N(A,P,{commit:E}={commit:!1}){const O=QM(s),G=YM(Math.round((A-r)/s)*s+r,O),Y=LT(G,[r,i]);M((re=[])=>{const z=$M(re,Y,P);if(KM(z,l*s)){x.current=z.indexOf(Y);const W=String(z)!==String(re);return W&&E&&p(z),W?z:re}else return re})}return g.jsx(OM,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:i,valueIndexToChangeRef:x,thumbs:R.current,values:V,orientation:o,form:T,children:g.jsx(Nf.Provider,{scope:t.__scopeSlider,children:g.jsx(Nf.Slot,{scope:t.__scopeSlider,children:g.jsx(w,{"aria-disabled":a,"data-disabled":a?"":void 0,...S,ref:e,onPointerDown:Fe(S.onPointerDown,()=>{a||(L.current=V)}),min:r,max:i,inverted:y,onSlideStart:a?void 0:I,onSlideMove:a?void 0:_,onSlideEnd:a?void 0:k,onHomeKeyDown:()=>!a&&N(r,0,{commit:!0}),onEndKeyDown:()=>!a&&N(i,V.length-1,{commit:!0}),onStepKeyDown:({event:A,direction:P})=>{if(!a){const G=OT.includes(A.key)||A.shiftKey&&FT.includes(A.key)?10:1,Y=x.current,re=V[Y],z=s*G*P;N(re+z,Y,{commit:!0})}}})})})})});UT.displayName=Us;var[$T,WT]=zT(Us,{startEdge:"left",endEdge:"right",size:"width",direction:1}),FM=b.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:u,...d}=t,[h,p]=b.useState(null),y=vt(e,w=>p(w)),T=b.useRef(void 0),S=MM(i),R=S==="ltr",x=R&&!s||!R&&s;function v(w){const V=T.current||h.getBoundingClientRect(),M=[0,V.width],I=Vm(M,x?[n,r]:[r,n]);return T.current=V,I(w-V.left)}return g.jsx($T,{scope:t.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width",children:g.jsx(HT,{dir:S,"data-orientation":"horizontal",...d,ref:y,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const V=v(w.clientX);o==null||o(V)},onSlideMove:w=>{const V=v(w.clientX);a==null||a(V)},onSlideEnd:()=>{T.current=void 0,l==null||l()},onStepKeyDown:w=>{const M=BT[x?"from-left":"from-right"].includes(w.key);u==null||u({event:w,direction:M?-1:1})}})})}),BM=b.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...u}=t,d=b.useRef(null),h=vt(e,d),p=b.useRef(void 0),y=!i;function T(S){const R=p.current||d.current.getBoundingClientRect(),x=[0,R.height],w=Vm(x,y?[r,n]:[n,r]);return p.current=R,w(S-R.top)}return g.jsx($T,{scope:t.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:g.jsx(HT,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:S=>{const R=T(S.clientY);s==null||s(R)},onSlideMove:S=>{const R=T(S.clientY);o==null||o(R)},onSlideEnd:()=>{p.current=void 0,a==null||a()},onStepKeyDown:S=>{const x=BT[y?"from-bottom":"from-top"].includes(S.key);l==null||l({event:S,direction:x?-1:1})}})})}),HT=b.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...u}=t,d=Iu(Us,n);return g.jsx(Qe.span,{...u,ref:e,onKeyDown:Fe(t.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(a(h),h.preventDefault()):OT.concat(FT).includes(h.key)&&(l(h),h.preventDefault())}),onPointerDown:Fe(t.onPointerDown,h=>{const p=h.target;p.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(p)?p.focus():r(h)}),onPointerMove:Fe(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&i(h)}),onPointerUp:Fe(t.onPointerUp,h=>{const p=h.target;p.hasPointerCapture(h.pointerId)&&(p.releasePointerCapture(h.pointerId),s(h))})})}),qT="SliderTrack",GT=b.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=Iu(qT,n);return g.jsx(Qe.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});GT.displayName=qT;var Vf="SliderRange",KT=b.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=Iu(Vf,n),s=WT(Vf,n),o=b.useRef(null),a=vt(e,o),l=i.values.length,u=i.values.map(p=>XT(p,i.min,i.max)),d=l>1?Math.min(...u):0,h=100-Math.max(...u);return g.jsx(Qe.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{...t.style,[s.startEdge]:d+"%",[s.endEdge]:h+"%"}})});KT.displayName=Vf;var Df="SliderThumb",QT=b.forwardRef((t,e)=>{const n=LM(t.__scopeSlider),[r,i]=b.useState(null),s=vt(e,a=>i(a)),o=b.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return g.jsx(zM,{...t,ref:s,index:o})}),zM=b.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...s}=t,o=Iu(Df,n),a=WT(Df,n),[l,u]=b.useState(null),d=vt(e,v=>u(v)),h=l?o.form||!!l.closest("form"):!0,p=ST(l),y=o.values[r],T=y===void 0?0:XT(y,o.min,o.max),S=WM(r,o.values.length),R=p==null?void 0:p[a.size],x=R?qM(R,T,a.direction):0;return b.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),g.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${T}% + ${x}px)`},children:[g.jsx(Nf.ItemSlot,{scope:t.__scopeSlider,children:g.jsx(Qe.span,{role:"slider","aria-label":t["aria-label"]||S,"aria-valuemin":o.min,"aria-valuenow":y,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:d,style:y===void 0?{display:"none"}:t.style,onFocus:Fe(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),h&&g.jsx(YT,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:y},r)]})});QT.displayName=Df;var UM="RadioBubbleInput",YT=b.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const i=b.useRef(null),s=vt(i,r),o=TT(e);return b.useEffect(()=>{const a=i.current;if(!a)return;const l=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const h=new Event("input",{bubbles:!0});d.call(a,e),a.dispatchEvent(h)}},[o,e]),g.jsx(Qe.input,{style:{display:"none"},...n,ref:s,defaultValue:e})});YT.displayName=UM;function $M(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}function XT(t,e,n){const s=100/(n-e)*(t-e);return LT(s,[0,100])}function WM(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function HM(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function qM(t,e,n){const r=t/2,s=Vm([0,50],[0,r]);return(r-s(e)*n)*n}function GM(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function KM(t,e){if(e>0){const n=GM(t);return Math.min(...n)>=e}return!0}function Vm(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function QM(t){return(String(t).split(".")[1]||"").length}function YM(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var JT=UT,XM=GT,JM=KT,Y0=QT;const ZT=Ae.forwardRef(({className:t,...e},n)=>g.jsxs(JT,{ref:n,className:qt("relative flex w-full touch-none select-none items-center",t),...e,children:[g.jsx(XM,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:g.jsx(JM,{className:"absolute h-full bg-primary"})}),g.jsx(Y0,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"}),e.defaultValue&&e.defaultValue.length>1&&g.jsx(Y0,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));ZT.displayName=JT.displayName;const ZM=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},e4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},tS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let p=(a&15)<<2|u>>6,y=u&63;l||(y=64,o||(p=64)),r.push(n[d],n[h],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):e4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new t4;const p=s<<2|a>>4;if(r.push(p),u!==64){const y=a<<4&240|u>>2;if(r.push(y),h!==64){const T=u<<6&192|h;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class t4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n4=function(t){const e=eS(t);return tS.encodeByteArray(e,!0)},jc=function(t){return n4(t).replace(/\./g,"")},r4=function(t){try{return tS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=()=>i4().__FIREBASE_DEFAULTS__,o4=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},a4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&r4(t[1]);return e&&JSON.parse(e)},Dm=()=>{try{return ZM()||s4()||o4()||a4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},l4=t=>{var e,n;return(n=(e=Dm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},c4=t=>{const e=l4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},nS=()=>{var t;return(t=Dm())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t){return t.endsWith(".cloudworkstations.dev")}async function d4(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[jc(JSON.stringify(n)),jc(JSON.stringify(o)),a].join(".")}const Uo={};function f4(){const t={prod:[],emulator:[]};for(const e of Object.keys(Uo))Uo[e]?t.emulator.push(e):t.prod.push(e);return t}function p4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let X0=!1;function m4(t,e){if(typeof window>"u"||typeof document>"u"||!Mm(window.location.host)||Uo[t]===e||Uo[t]||X0)return;Uo[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=f4().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{X0=!0,o()},p}function d(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=p4(r),y=n("text"),T=document.getElementById(y)||document.createElement("span"),S=n("learnmore"),R=document.getElementById(S)||document.createElement("a"),x=n("preprendIcon"),v=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const w=p.element;a(w),d(R,S);const V=u();l(v,x),w.append(v,T,R,V),document.body.appendChild(w)}s?(T.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function y4(){var t;const e=(t=Dm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function v4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function w4(){return!y4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rS(){try{return typeof indexedDB=="object"}catch{return!1}}function iS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function x4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4="FirebaseError";class Qr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_4,Object.setPrototypeOf(this,Qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ru.prototype.create)}}class Ru{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?E4(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Qr(i,a,r)}}function E4(t,e){return t.replace(T4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const T4=/\{\$([^}]+)}/g;function ya(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(J0(s)&&J0(o)){if(!ya(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function J0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=1e3,C4=2,P4=4*60*60*1e3,b4=.5;function Z0(t,e=S4,n=C4){const r=e*Math.pow(n,t),i=Math.round(b4*r*(Math.random()-.5)*2);return Math.min(P4,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(t){return t&&t._delegate?t._delegate:t}class Qn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let A4=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new u4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(R4(e))try{this.getOrInitializeService({instanceIdentifier:oi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=oi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oi){return this.instances.has(e)}getOptions(e=oi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:I4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=oi){return this.component?this.component.multipleInstances?e:oi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function I4(t){return t===oi?void 0:t}function R4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new A4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(he||(he={}));const N4={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},V4=he.INFO,D4={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},M4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=D4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lm{constructor(e){this.name=e,this._logLevel=V4,this._logHandler=M4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?N4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}const L4=(t,e)=>e.some(n=>t instanceof n);let e1,t1;function j4(){return e1||(e1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function O4(){return t1||(t1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sS=new WeakMap,Mf=new WeakMap,oS=new WeakMap,ah=new WeakMap,jm=new WeakMap;function F4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ar(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&sS.set(n,t)}).catch(()=>{}),jm.set(e,t),e}function B4(t){if(Mf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Mf.set(t,e)}let Lf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ar(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function z4(t){Lf=t(Lf)}function U4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(lh(this),e,...n);return oS.set(r,e.sort?e.sort():[e]),Ar(r)}:O4().includes(t)?function(...e){return t.apply(lh(this),e),Ar(sS.get(this))}:function(...e){return Ar(t.apply(lh(this),e))}}function $4(t){return typeof t=="function"?U4(t):(t instanceof IDBTransaction&&B4(t),L4(t,j4())?new Proxy(t,Lf):t)}function Ar(t){if(t instanceof IDBRequest)return F4(t);if(ah.has(t))return ah.get(t);const e=$4(t);return e!==t&&(ah.set(t,e),jm.set(e,t)),e}const lh=t=>jm.get(t);function aS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ar(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ar(o.result),l.oldVersion,l.newVersion,Ar(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const W4=["get","getKey","getAll","getAllKeys","count"],H4=["put","add","delete","clear"],ch=new Map;function n1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ch.get(e))return ch.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=H4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||W4.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return ch.set(e,s),s}z4(t=>({...t,get:(e,n,r)=>n1(e,n)||t.get(e,n,r),has:(e,n)=>!!n1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(G4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function G4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jf="@firebase/app",r1="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn=new Lm("@firebase/app"),K4="@firebase/app-compat",Q4="@firebase/analytics-compat",Y4="@firebase/analytics",X4="@firebase/app-check-compat",J4="@firebase/app-check",Z4="@firebase/auth",eL="@firebase/auth-compat",tL="@firebase/database",nL="@firebase/data-connect",rL="@firebase/database-compat",iL="@firebase/functions",sL="@firebase/functions-compat",oL="@firebase/installations",aL="@firebase/installations-compat",lL="@firebase/messaging",cL="@firebase/messaging-compat",uL="@firebase/performance",dL="@firebase/performance-compat",hL="@firebase/remote-config",fL="@firebase/remote-config-compat",pL="@firebase/storage",mL="@firebase/storage-compat",gL="@firebase/firestore",yL="@firebase/ai",vL="@firebase/firestore-compat",wL="firebase",xL="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of="[DEFAULT]",_L={[jf]:"fire-core",[K4]:"fire-core-compat",[Y4]:"fire-analytics",[Q4]:"fire-analytics-compat",[J4]:"fire-app-check",[X4]:"fire-app-check-compat",[Z4]:"fire-auth",[eL]:"fire-auth-compat",[tL]:"fire-rtdb",[nL]:"fire-data-connect",[rL]:"fire-rtdb-compat",[iL]:"fire-fn",[sL]:"fire-fn-compat",[oL]:"fire-iid",[aL]:"fire-iid-compat",[lL]:"fire-fcm",[cL]:"fire-fcm-compat",[uL]:"fire-perf",[dL]:"fire-perf-compat",[hL]:"fire-rc",[fL]:"fire-rc-compat",[pL]:"fire-gcs",[mL]:"fire-gcs-compat",[gL]:"fire-fst",[vL]:"fire-fst-compat",[yL]:"fire-vertex","fire-js":"fire-js",[wL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=new Map,EL=new Map,Ff=new Map;function i1(t,e){try{t.container.addComponent(e)}catch(n){Yn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Lr(t){const e=t.name;if(Ff.has(e))return Yn.debug(`There were multiple attempts to register component ${e}.`),!1;Ff.set(e,t);for(const n of Oc.values())i1(n,t);for(const n of EL.values())i1(n,t);return!0}function Ma(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function TL(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ir=new Ru("app","Firebase",SL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=xL;function lS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Of,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ir.create("bad-app-name",{appName:String(i)});if(n||(n=nS()),!n)throw Ir.create("no-options");const s=Oc.get(i);if(s){if(ya(n,s.options)&&ya(r,s.config))return s;throw Ir.create("duplicate-app",{appName:i})}const o=new k4(i);for(const l of Ff.values())o.addComponent(l);const a=new CL(n,r,o);return Oc.set(i,a),a}function cS(t=Of){const e=Oc.get(t);if(!e&&t===Of&&nS())return lS();if(!e)throw Ir.create("no-app",{appName:t});return e}function Pn(t,e,n){var r;let i=(r=_L[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yn.warn(a.join(" "));return}Lr(new Qn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL="firebase-heartbeat-database",AL=1,va="firebase-heartbeat-store";let uh=null;function uS(){return uh||(uh=aS(bL,AL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(va)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ir.create("idb-open",{originalErrorMessage:t.message})})),uh}async function IL(t){try{const n=(await uS()).transaction(va),r=await n.objectStore(va).get(dS(t));return await n.done,r}catch(e){if(e instanceof Qr)Yn.warn(e.message);else{const n=Ir.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yn.warn(n.message)}}}async function s1(t,e){try{const r=(await uS()).transaction(va,"readwrite");await r.objectStore(va).put(e,dS(t)),await r.done}catch(n){if(n instanceof Qr)Yn.warn(n.message);else{const r=Ir.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yn.warn(r.message)}}}function dS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=1024,kL=30;class NL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=o1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>kL){const o=ML(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Yn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=o1(),{heartbeatsToSend:r,unsentEntries:i}=VL(this._heartbeatsCache.heartbeats),s=jc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Yn.warn(n),""}}}function o1(){return new Date().toISOString().substring(0,10)}function VL(t,e=RL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),a1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),a1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class DL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rS()?iS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await IL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return s1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return s1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function a1(t){return jc(JSON.stringify({version:2,heartbeats:t})).length}function ML(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(t){Lr(new Qn("platform-logger",e=>new q4(e),"PRIVATE")),Lr(new Qn("heartbeat",e=>new NL(e),"PRIVATE")),Pn(jf,r1,t),Pn(jf,r1,"esm2017"),Pn("fire-js","")}LL("");var jL="firebase",OL="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn(jL,OL,"app");var l1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rr,hS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,_){function k(){}k.prototype=_.prototype,I.D=_.prototype,I.prototype=new k,I.prototype.constructor=I,I.C=function(N,A,P){for(var E=Array(arguments.length-2),O=2;O<arguments.length;O++)E[O-2]=arguments[O];return _.prototype[A].apply(N,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,_,k){k||(k=0);var N=Array(16);if(typeof _=="string")for(var A=0;16>A;++A)N[A]=_.charCodeAt(k++)|_.charCodeAt(k++)<<8|_.charCodeAt(k++)<<16|_.charCodeAt(k++)<<24;else for(A=0;16>A;++A)N[A]=_[k++]|_[k++]<<8|_[k++]<<16|_[k++]<<24;_=I.g[0],k=I.g[1],A=I.g[2];var P=I.g[3],E=_+(P^k&(A^P))+N[0]+3614090360&4294967295;_=k+(E<<7&4294967295|E>>>25),E=P+(A^_&(k^A))+N[1]+3905402710&4294967295,P=_+(E<<12&4294967295|E>>>20),E=A+(k^P&(_^k))+N[2]+606105819&4294967295,A=P+(E<<17&4294967295|E>>>15),E=k+(_^A&(P^_))+N[3]+3250441966&4294967295,k=A+(E<<22&4294967295|E>>>10),E=_+(P^k&(A^P))+N[4]+4118548399&4294967295,_=k+(E<<7&4294967295|E>>>25),E=P+(A^_&(k^A))+N[5]+1200080426&4294967295,P=_+(E<<12&4294967295|E>>>20),E=A+(k^P&(_^k))+N[6]+2821735955&4294967295,A=P+(E<<17&4294967295|E>>>15),E=k+(_^A&(P^_))+N[7]+4249261313&4294967295,k=A+(E<<22&4294967295|E>>>10),E=_+(P^k&(A^P))+N[8]+1770035416&4294967295,_=k+(E<<7&4294967295|E>>>25),E=P+(A^_&(k^A))+N[9]+2336552879&4294967295,P=_+(E<<12&4294967295|E>>>20),E=A+(k^P&(_^k))+N[10]+4294925233&4294967295,A=P+(E<<17&4294967295|E>>>15),E=k+(_^A&(P^_))+N[11]+2304563134&4294967295,k=A+(E<<22&4294967295|E>>>10),E=_+(P^k&(A^P))+N[12]+1804603682&4294967295,_=k+(E<<7&4294967295|E>>>25),E=P+(A^_&(k^A))+N[13]+4254626195&4294967295,P=_+(E<<12&4294967295|E>>>20),E=A+(k^P&(_^k))+N[14]+2792965006&4294967295,A=P+(E<<17&4294967295|E>>>15),E=k+(_^A&(P^_))+N[15]+1236535329&4294967295,k=A+(E<<22&4294967295|E>>>10),E=_+(A^P&(k^A))+N[1]+4129170786&4294967295,_=k+(E<<5&4294967295|E>>>27),E=P+(k^A&(_^k))+N[6]+3225465664&4294967295,P=_+(E<<9&4294967295|E>>>23),E=A+(_^k&(P^_))+N[11]+643717713&4294967295,A=P+(E<<14&4294967295|E>>>18),E=k+(P^_&(A^P))+N[0]+3921069994&4294967295,k=A+(E<<20&4294967295|E>>>12),E=_+(A^P&(k^A))+N[5]+3593408605&4294967295,_=k+(E<<5&4294967295|E>>>27),E=P+(k^A&(_^k))+N[10]+38016083&4294967295,P=_+(E<<9&4294967295|E>>>23),E=A+(_^k&(P^_))+N[15]+3634488961&4294967295,A=P+(E<<14&4294967295|E>>>18),E=k+(P^_&(A^P))+N[4]+3889429448&4294967295,k=A+(E<<20&4294967295|E>>>12),E=_+(A^P&(k^A))+N[9]+568446438&4294967295,_=k+(E<<5&4294967295|E>>>27),E=P+(k^A&(_^k))+N[14]+3275163606&4294967295,P=_+(E<<9&4294967295|E>>>23),E=A+(_^k&(P^_))+N[3]+4107603335&4294967295,A=P+(E<<14&4294967295|E>>>18),E=k+(P^_&(A^P))+N[8]+1163531501&4294967295,k=A+(E<<20&4294967295|E>>>12),E=_+(A^P&(k^A))+N[13]+2850285829&4294967295,_=k+(E<<5&4294967295|E>>>27),E=P+(k^A&(_^k))+N[2]+4243563512&4294967295,P=_+(E<<9&4294967295|E>>>23),E=A+(_^k&(P^_))+N[7]+1735328473&4294967295,A=P+(E<<14&4294967295|E>>>18),E=k+(P^_&(A^P))+N[12]+2368359562&4294967295,k=A+(E<<20&4294967295|E>>>12),E=_+(k^A^P)+N[5]+4294588738&4294967295,_=k+(E<<4&4294967295|E>>>28),E=P+(_^k^A)+N[8]+2272392833&4294967295,P=_+(E<<11&4294967295|E>>>21),E=A+(P^_^k)+N[11]+1839030562&4294967295,A=P+(E<<16&4294967295|E>>>16),E=k+(A^P^_)+N[14]+4259657740&4294967295,k=A+(E<<23&4294967295|E>>>9),E=_+(k^A^P)+N[1]+2763975236&4294967295,_=k+(E<<4&4294967295|E>>>28),E=P+(_^k^A)+N[4]+1272893353&4294967295,P=_+(E<<11&4294967295|E>>>21),E=A+(P^_^k)+N[7]+4139469664&4294967295,A=P+(E<<16&4294967295|E>>>16),E=k+(A^P^_)+N[10]+3200236656&4294967295,k=A+(E<<23&4294967295|E>>>9),E=_+(k^A^P)+N[13]+681279174&4294967295,_=k+(E<<4&4294967295|E>>>28),E=P+(_^k^A)+N[0]+3936430074&4294967295,P=_+(E<<11&4294967295|E>>>21),E=A+(P^_^k)+N[3]+3572445317&4294967295,A=P+(E<<16&4294967295|E>>>16),E=k+(A^P^_)+N[6]+76029189&4294967295,k=A+(E<<23&4294967295|E>>>9),E=_+(k^A^P)+N[9]+3654602809&4294967295,_=k+(E<<4&4294967295|E>>>28),E=P+(_^k^A)+N[12]+3873151461&4294967295,P=_+(E<<11&4294967295|E>>>21),E=A+(P^_^k)+N[15]+530742520&4294967295,A=P+(E<<16&4294967295|E>>>16),E=k+(A^P^_)+N[2]+3299628645&4294967295,k=A+(E<<23&4294967295|E>>>9),E=_+(A^(k|~P))+N[0]+4096336452&4294967295,_=k+(E<<6&4294967295|E>>>26),E=P+(k^(_|~A))+N[7]+1126891415&4294967295,P=_+(E<<10&4294967295|E>>>22),E=A+(_^(P|~k))+N[14]+2878612391&4294967295,A=P+(E<<15&4294967295|E>>>17),E=k+(P^(A|~_))+N[5]+4237533241&4294967295,k=A+(E<<21&4294967295|E>>>11),E=_+(A^(k|~P))+N[12]+1700485571&4294967295,_=k+(E<<6&4294967295|E>>>26),E=P+(k^(_|~A))+N[3]+2399980690&4294967295,P=_+(E<<10&4294967295|E>>>22),E=A+(_^(P|~k))+N[10]+4293915773&4294967295,A=P+(E<<15&4294967295|E>>>17),E=k+(P^(A|~_))+N[1]+2240044497&4294967295,k=A+(E<<21&4294967295|E>>>11),E=_+(A^(k|~P))+N[8]+1873313359&4294967295,_=k+(E<<6&4294967295|E>>>26),E=P+(k^(_|~A))+N[15]+4264355552&4294967295,P=_+(E<<10&4294967295|E>>>22),E=A+(_^(P|~k))+N[6]+2734768916&4294967295,A=P+(E<<15&4294967295|E>>>17),E=k+(P^(A|~_))+N[13]+1309151649&4294967295,k=A+(E<<21&4294967295|E>>>11),E=_+(A^(k|~P))+N[4]+4149444226&4294967295,_=k+(E<<6&4294967295|E>>>26),E=P+(k^(_|~A))+N[11]+3174756917&4294967295,P=_+(E<<10&4294967295|E>>>22),E=A+(_^(P|~k))+N[2]+718787259&4294967295,A=P+(E<<15&4294967295|E>>>17),E=k+(P^(A|~_))+N[9]+3951481745&4294967295,I.g[0]=I.g[0]+_&4294967295,I.g[1]=I.g[1]+(A+(E<<21&4294967295|E>>>11))&4294967295,I.g[2]=I.g[2]+A&4294967295,I.g[3]=I.g[3]+P&4294967295}r.prototype.u=function(I,_){_===void 0&&(_=I.length);for(var k=_-this.blockSize,N=this.B,A=this.h,P=0;P<_;){if(A==0)for(;P<=k;)i(this,I,P),P+=this.blockSize;if(typeof I=="string"){for(;P<_;)if(N[A++]=I.charCodeAt(P++),A==this.blockSize){i(this,N),A=0;break}}else for(;P<_;)if(N[A++]=I[P++],A==this.blockSize){i(this,N),A=0;break}}this.h=A,this.o+=_},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var _=1;_<I.length-8;++_)I[_]=0;var k=8*this.o;for(_=I.length-8;_<I.length;++_)I[_]=k&255,k/=256;for(this.u(I),I=Array(16),_=k=0;4>_;++_)for(var N=0;32>N;N+=8)I[k++]=this.g[_]>>>N&255;return I};function s(I,_){var k=a;return Object.prototype.hasOwnProperty.call(k,I)?k[I]:k[I]=_(I)}function o(I,_){this.h=_;for(var k=[],N=!0,A=I.length-1;0<=A;A--){var P=I[A]|0;N&&P==_||(k[A]=P,N=!1)}this.g=k}var a={};function l(I){return-128<=I&&128>I?s(I,function(_){return new o([_|0],0>_?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return R(u(-I));for(var _=[],k=1,N=0;I>=k;N++)_[N]=I/k|0,k*=4294967296;return new o(_,0)}function d(I,_){if(I.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(I.charAt(0)=="-")return R(d(I.substring(1),_));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=u(Math.pow(_,8)),N=h,A=0;A<I.length;A+=8){var P=Math.min(8,I.length-A),E=parseInt(I.substring(A,A+P),_);8>P?(P=u(Math.pow(_,P)),N=N.j(P).add(u(E))):(N=N.j(k),N=N.add(u(E)))}return N}var h=l(0),p=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(S(this))return-R(this).m();for(var I=0,_=1,k=0;k<this.g.length;k++){var N=this.i(k);I+=(0<=N?N:4294967296+N)*_,_*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T(this))return"0";if(S(this))return"-"+R(this).toString(I);for(var _=u(Math.pow(I,6)),k=this,N="";;){var A=V(k,_).g;k=x(k,A.j(_));var P=((0<k.g.length?k.g[0]:k.h)>>>0).toString(I);if(k=A,T(k))return P+N;for(;6>P.length;)P="0"+P;N=P+N}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function T(I){if(I.h!=0)return!1;for(var _=0;_<I.g.length;_++)if(I.g[_]!=0)return!1;return!0}function S(I){return I.h==-1}t.l=function(I){return I=x(this,I),S(I)?-1:T(I)?0:1};function R(I){for(var _=I.g.length,k=[],N=0;N<_;N++)k[N]=~I.g[N];return new o(k,~I.h).add(p)}t.abs=function(){return S(this)?R(this):this},t.add=function(I){for(var _=Math.max(this.g.length,I.g.length),k=[],N=0,A=0;A<=_;A++){var P=N+(this.i(A)&65535)+(I.i(A)&65535),E=(P>>>16)+(this.i(A)>>>16)+(I.i(A)>>>16);N=E>>>16,P&=65535,E&=65535,k[A]=E<<16|P}return new o(k,k[k.length-1]&-2147483648?-1:0)};function x(I,_){return I.add(R(_))}t.j=function(I){if(T(this)||T(I))return h;if(S(this))return S(I)?R(this).j(R(I)):R(R(this).j(I));if(S(I))return R(this.j(R(I)));if(0>this.l(y)&&0>I.l(y))return u(this.m()*I.m());for(var _=this.g.length+I.g.length,k=[],N=0;N<2*_;N++)k[N]=0;for(N=0;N<this.g.length;N++)for(var A=0;A<I.g.length;A++){var P=this.i(N)>>>16,E=this.i(N)&65535,O=I.i(A)>>>16,G=I.i(A)&65535;k[2*N+2*A]+=E*G,v(k,2*N+2*A),k[2*N+2*A+1]+=P*G,v(k,2*N+2*A+1),k[2*N+2*A+1]+=E*O,v(k,2*N+2*A+1),k[2*N+2*A+2]+=P*O,v(k,2*N+2*A+2)}for(N=0;N<_;N++)k[N]=k[2*N+1]<<16|k[2*N];for(N=_;N<2*_;N++)k[N]=0;return new o(k,0)};function v(I,_){for(;(I[_]&65535)!=I[_];)I[_+1]+=I[_]>>>16,I[_]&=65535,_++}function w(I,_){this.g=I,this.h=_}function V(I,_){if(T(_))throw Error("division by zero");if(T(I))return new w(h,h);if(S(I))return _=V(R(I),_),new w(R(_.g),R(_.h));if(S(_))return _=V(I,R(_)),new w(R(_.g),_.h);if(30<I.g.length){if(S(I)||S(_))throw Error("slowDivide_ only works with positive integers.");for(var k=p,N=_;0>=N.l(I);)k=M(k),N=M(N);var A=L(k,1),P=L(N,1);for(N=L(N,2),k=L(k,2);!T(N);){var E=P.add(N);0>=E.l(I)&&(A=A.add(k),P=E),N=L(N,1),k=L(k,1)}return _=x(I,A.j(_)),new w(A,_)}for(A=h;0<=I.l(_);){for(k=Math.max(1,Math.floor(I.m()/_.m())),N=Math.ceil(Math.log(k)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),P=u(k),E=P.j(_);S(E)||0<E.l(I);)k-=N,P=u(k),E=P.j(_);T(P)&&(P=p),A=A.add(P),I=x(I,E)}return new w(A,I)}t.A=function(I){return V(this,I).h},t.and=function(I){for(var _=Math.max(this.g.length,I.g.length),k=[],N=0;N<_;N++)k[N]=this.i(N)&I.i(N);return new o(k,this.h&I.h)},t.or=function(I){for(var _=Math.max(this.g.length,I.g.length),k=[],N=0;N<_;N++)k[N]=this.i(N)|I.i(N);return new o(k,this.h|I.h)},t.xor=function(I){for(var _=Math.max(this.g.length,I.g.length),k=[],N=0;N<_;N++)k[N]=this.i(N)^I.i(N);return new o(k,this.h^I.h)};function M(I){for(var _=I.g.length+1,k=[],N=0;N<_;N++)k[N]=I.i(N)<<1|I.i(N-1)>>>31;return new o(k,I.h)}function L(I,_){var k=_>>5;_%=32;for(var N=I.g.length-k,A=[],P=0;P<N;P++)A[P]=0<_?I.i(P+k)>>>_|I.i(P+k+1)<<32-_:I.i(P+k);return new o(A,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,hS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Rr=o}).apply(typeof l1<"u"?l1:typeof self<"u"?self:typeof window<"u"?window:{});var bl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fS,Co,pS,Gl,Bf,mS,gS,yS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,f,m){return c==Array.prototype||c==Object.prototype||(c[f]=m.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof bl=="object"&&bl];for(var f=0;f<c.length;++f){var m=c[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(c,f){if(f)e:{var m=r;c=c.split(".");for(var C=0;C<c.length-1;C++){var D=c[C];if(!(D in m))break e;m=m[D]}c=c[c.length-1],C=m[c],f=f(C),f!=C&&f!=null&&e(m,c,{configurable:!0,writable:!0,value:f})}}function s(c,f){c instanceof String&&(c+="");var m=0,C=!1,D={next:function(){if(!C&&m<c.length){var j=m++;return{value:f(j,c[j]),done:!1}}return C=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(c){return c||function(){return s(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var f=typeof c;return f=f!="object"?f:c?Array.isArray(c)?"array":f:"null",f=="array"||f=="object"&&typeof c.length=="number"}function u(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function d(c,f,m){return c.call.apply(c.bind,arguments)}function h(c,f,m){if(!c)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,C),c.apply(f,D)}}return function(){return c.apply(f,arguments)}}function p(c,f,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function y(c,f){var m=Array.prototype.slice.call(arguments,1);return function(){var C=m.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function T(c,f){function m(){}m.prototype=f.prototype,c.aa=f.prototype,c.prototype=new m,c.prototype.constructor=c,c.Qb=function(C,D,j){for(var $=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)$[ve-2]=arguments[ve];return f.prototype[D].apply(C,$)}}function S(c){const f=c.length;if(0<f){const m=Array(f);for(let C=0;C<f;C++)m[C]=c[C];return m}return[]}function R(c,f){for(let m=1;m<arguments.length;m++){const C=arguments[m];if(l(C)){const D=c.length||0,j=C.length||0;c.length=D+j;for(let $=0;$<j;$++)c[D+$]=C[$]}else c.push(C)}}class x{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function v(c){return/^[\s\xa0]*$/.test(c)}function w(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function V(c){return V[" "](c),c}V[" "]=function(){};var M=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function L(c,f,m){for(const C in c)f.call(m,c[C],C,c)}function I(c,f){for(const m in c)f.call(void 0,c[m],m,c)}function _(c){const f={};for(const m in c)f[m]=c[m];return f}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,f){let m,C;for(let D=1;D<arguments.length;D++){C=arguments[D];for(m in C)c[m]=C[m];for(let j=0;j<k.length;j++)m=k[j],Object.prototype.hasOwnProperty.call(C,m)&&(c[m]=C[m])}}function A(c){var f=1;c=c.split(":");const m=[];for(;0<f&&c.length;)m.push(c.shift()),f--;return c.length&&m.push(c.join(":")),m}function P(c){a.setTimeout(()=>{throw c},0)}function E(){var c=W;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class O{constructor(){this.h=this.g=null}add(f,m){const C=G.get();C.set(f,m),this.h?this.h.next=C:this.g=C,this.h=C}}var G=new x(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let re,z=!1,W=new O,X=()=>{const c=a.Promise.resolve(void 0);re=()=>{c.then(K)}};var K=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(m){P(m)}var f=G;f.j(c),100>f.h&&(f.h++,c.next=f.g,f.g=c)}z=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var Ye=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return c}();function Qt(c,f){if(Z.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var m=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget){if(M){e:{try{V(f.nodeName);var D=!0;break e}catch{}D=!1}D||(f=null)}}else m=="mouseover"?f=c.fromElement:m=="mouseout"&&(f=c.toElement);this.relatedTarget=f,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:wt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Qt.aa.h.call(this)}}T(Qt,Z);var wt={2:"touch",3:"pen",4:"mouse"};Qt.prototype.h=function(){Qt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var jt="closure_listenable_"+(1e6*Math.random()|0),Qu=0;function Gs(c,f,m,C,D){this.listener=c,this.proxy=null,this.src=f,this.type=m,this.capture=!!C,this.ha=D,this.key=++Qu,this.da=this.fa=!1}function kn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Yt(c){this.src=c,this.g={},this.h=0}Yt.prototype.add=function(c,f,m,C,D){var j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);var $=Yu(c,f,C,D);return-1<$?(f=c[$],m||(f.fa=!1)):(f=new Gs(f,this.src,j,!!C,D),f.fa=m,c.push(f)),f};function za(c,f){var m=f.type;if(m in c.g){var C=c.g[m],D=Array.prototype.indexOf.call(C,f,void 0),j;(j=0<=D)&&Array.prototype.splice.call(C,D,1),j&&(kn(f),c.g[m].length==0&&(delete c.g[m],c.h--))}}function Yu(c,f,m,C){for(var D=0;D<c.length;++D){var j=c[D];if(!j.da&&j.listener==f&&j.capture==!!m&&j.ha==C)return D}return-1}var Xu="closure_lm_"+(1e6*Math.random()|0),Ju={};function Tg(c,f,m,C,D){if(C&&C.once)return Cg(c,f,m,C,D);if(Array.isArray(f)){for(var j=0;j<f.length;j++)Tg(c,f[j],m,C,D);return null}return m=nd(m),c&&c[jt]?c.K(f,m,u(C)?!!C.capture:!!C,D):Sg(c,f,m,!1,C,D)}function Sg(c,f,m,C,D,j){if(!f)throw Error("Invalid event type");var $=u(D)?!!D.capture:!!D,ve=ed(c);if(ve||(c[Xu]=ve=new Yt(c)),m=ve.add(f,m,C,$,j),m.proxy)return m;if(C=qP(),m.proxy=C,C.src=c,C.listener=m,c.addEventListener)Ye||(D=$),D===void 0&&(D=!1),c.addEventListener(f.toString(),C,D);else if(c.attachEvent)c.attachEvent(bg(f.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return m}function qP(){function c(m){return f.call(c.src,c.listener,m)}const f=GP;return c}function Cg(c,f,m,C,D){if(Array.isArray(f)){for(var j=0;j<f.length;j++)Cg(c,f[j],m,C,D);return null}return m=nd(m),c&&c[jt]?c.L(f,m,u(C)?!!C.capture:!!C,D):Sg(c,f,m,!0,C,D)}function Pg(c,f,m,C,D){if(Array.isArray(f))for(var j=0;j<f.length;j++)Pg(c,f[j],m,C,D);else C=u(C)?!!C.capture:!!C,m=nd(m),c&&c[jt]?(c=c.i,f=String(f).toString(),f in c.g&&(j=c.g[f],m=Yu(j,m,C,D),-1<m&&(kn(j[m]),Array.prototype.splice.call(j,m,1),j.length==0&&(delete c.g[f],c.h--)))):c&&(c=ed(c))&&(f=c.g[f.toString()],c=-1,f&&(c=Yu(f,m,C,D)),(m=-1<c?f[c]:null)&&Zu(m))}function Zu(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[jt])za(f.i,c);else{var m=c.type,C=c.proxy;f.removeEventListener?f.removeEventListener(m,C,c.capture):f.detachEvent?f.detachEvent(bg(m),C):f.addListener&&f.removeListener&&f.removeListener(C),(m=ed(f))?(za(m,c),m.h==0&&(m.src=null,f[Xu]=null)):kn(c)}}}function bg(c){return c in Ju?Ju[c]:Ju[c]="on"+c}function GP(c,f){if(c.da)c=!0;else{f=new Qt(f,this);var m=c.listener,C=c.ha||c.src;c.fa&&Zu(c),c=m.call(C,f)}return c}function ed(c){return c=c[Xu],c instanceof Yt?c:null}var td="__closure_events_fn_"+(1e9*Math.random()>>>0);function nd(c){return typeof c=="function"?c:(c[td]||(c[td]=function(f){return c.handleEvent(f)}),c[td])}function at(){ie.call(this),this.i=new Yt(this),this.M=this,this.F=null}T(at,ie),at.prototype[jt]=!0,at.prototype.removeEventListener=function(c,f,m,C){Pg(this,c,f,m,C)};function xt(c,f){var m,C=c.F;if(C)for(m=[];C;C=C.F)m.push(C);if(c=c.M,C=f.type||f,typeof f=="string")f=new Z(f,c);else if(f instanceof Z)f.target=f.target||c;else{var D=f;f=new Z(C,c),N(f,D)}if(D=!0,m)for(var j=m.length-1;0<=j;j--){var $=f.g=m[j];D=Ua($,C,!0,f)&&D}if($=f.g=c,D=Ua($,C,!0,f)&&D,D=Ua($,C,!1,f)&&D,m)for(j=0;j<m.length;j++)$=f.g=m[j],D=Ua($,C,!1,f)&&D}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var c=this.i,f;for(f in c.g){for(var m=c.g[f],C=0;C<m.length;C++)kn(m[C]);delete c.g[f],c.h--}}this.F=null},at.prototype.K=function(c,f,m,C){return this.i.add(String(c),f,!1,m,C)},at.prototype.L=function(c,f,m,C){return this.i.add(String(c),f,!0,m,C)};function Ua(c,f,m,C){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();for(var D=!0,j=0;j<f.length;++j){var $=f[j];if($&&!$.da&&$.capture==m){var ve=$.listener,et=$.ha||$.src;$.fa&&za(c.i,$),D=ve.call(et,C)!==!1&&D}}return D&&!C.defaultPrevented}function Ag(c,f,m){if(typeof c=="function")m&&(c=p(c,m));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(c,f||0)}function Ig(c){c.g=Ag(()=>{c.g=null,c.i&&(c.i=!1,Ig(c))},c.l);const f=c.h;c.h=null,c.m.apply(null,f)}class KP extends ie{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Ig(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ks(c){ie.call(this),this.h=c,this.g={}}T(Ks,ie);var Rg=[];function kg(c){L(c.g,function(f,m){this.g.hasOwnProperty(m)&&Zu(f)},c),c.g={}}Ks.prototype.N=function(){Ks.aa.N.call(this),kg(this)},Ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rd=a.JSON.stringify,QP=a.JSON.parse,YP=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function id(){}id.prototype.h=null;function Ng(c){return c.h||(c.h=c.i())}function Vg(){}var Qs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function sd(){Z.call(this,"d")}T(sd,Z);function od(){Z.call(this,"c")}T(od,Z);var Yr={},Dg=null;function $a(){return Dg=Dg||new at}Yr.La="serverreachability";function Mg(c){Z.call(this,Yr.La,c)}T(Mg,Z);function Ys(c){const f=$a();xt(f,new Mg(f))}Yr.STAT_EVENT="statevent";function Lg(c,f){Z.call(this,Yr.STAT_EVENT,c),this.stat=f}T(Lg,Z);function _t(c){const f=$a();xt(f,new Lg(f,c))}Yr.Ma="timingevent";function jg(c,f){Z.call(this,Yr.Ma,c),this.size=f}T(jg,Z);function Xs(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},f)}function Js(){this.g=!0}Js.prototype.xa=function(){this.g=!1};function XP(c,f,m,C,D,j){c.info(function(){if(c.g)if(j)for(var $="",ve=j.split("&"),et=0;et<ve.length;et++){var me=ve[et].split("=");if(1<me.length){var lt=me[0];me=me[1];var ct=lt.split("_");$=2<=ct.length&&ct[1]=="type"?$+(lt+"="+me+"&"):$+(lt+"=redacted&")}}else $=null;else $=j;return"XMLHTTP REQ ("+C+") [attempt "+D+"]: "+f+`
`+m+`
`+$})}function JP(c,f,m,C,D,j,$){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+D+"]: "+f+`
`+m+`
`+j+" "+$})}function Oi(c,f,m,C){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+eb(c,m)+(C?" "+C:"")})}function ZP(c,f){c.info(function(){return"TIMEOUT: "+f})}Js.prototype.info=function(){};function eb(c,f){if(!c.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(c=0;c<m.length;c++)if(Array.isArray(m[c])){var C=m[c];if(!(2>C.length)){var D=C[1];if(Array.isArray(D)&&!(1>D.length)){var j=D[0];if(j!="noop"&&j!="stop"&&j!="close")for(var $=1;$<D.length;$++)D[$]=""}}}}return rd(m)}catch{return f}}var Wa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Og={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ad;function Ha(){}T(Ha,id),Ha.prototype.g=function(){return new XMLHttpRequest},Ha.prototype.i=function(){return{}},ad=new Ha;function er(c,f,m,C){this.j=c,this.i=f,this.l=m,this.R=C||1,this.U=new Ks(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fg}function Fg(){this.i=null,this.g="",this.h=!1}var Bg={},ld={};function cd(c,f,m){c.L=1,c.v=Qa(Nn(f)),c.m=m,c.P=!0,zg(c,null)}function zg(c,f){c.F=Date.now(),qa(c),c.A=Nn(c.v);var m=c.A,C=c.R;Array.isArray(C)||(C=[String(C)]),ty(m.i,"t",C),c.C=0,m=c.j.J,c.h=new Fg,c.g=wy(c.j,m?f:null,!c.m),0<c.O&&(c.M=new KP(p(c.Y,c,c.g),c.O)),f=c.U,m=c.g,C=c.ca;var D="readystatechange";Array.isArray(D)||(D&&(Rg[0]=D.toString()),D=Rg);for(var j=0;j<D.length;j++){var $=Tg(m,D[j],C||f.handleEvent,!1,f.h||f);if(!$)break;f.g[$.key]=$}f=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,f)):(c.u="GET",c.g.ea(c.A,c.u,null,f)),Ys(),XP(c.i,c.u,c.A,c.l,c.R,c.m)}er.prototype.ca=function(c){c=c.target;const f=this.M;f&&Vn(c)==3?f.j():this.Y(c)},er.prototype.Y=function(c){try{if(c==this.g)e:{const ct=Vn(this.g);var f=this.g.Ba();const zi=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||ly(this.g)))){this.J||ct!=4||f==7||(f==8||0>=zi?Ys(3):Ys(2)),ud(this);var m=this.g.Z();this.X=m;t:if(Ug(this)){var C=ly(this.g);c="";var D=C.length,j=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xr(this),Zs(this);var $="";break t}this.h.i=new a.TextDecoder}for(f=0;f<D;f++)this.h.h=!0,c+=this.h.i.decode(C[f],{stream:!(j&&f==D-1)});C.length=0,this.h.g+=c,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=m==200,JP(this.i,this.u,this.A,this.l,this.R,ct,m),this.o){if(this.T&&!this.K){t:{if(this.g){var ve,et=this.g;if((ve=et.g?et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(ve)){var me=ve;break t}}me=null}if(m=me)Oi(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dd(this,m);else{this.o=!1,this.s=3,_t(12),Xr(this),Zs(this);break e}}if(this.P){m=!0;let ln;for(;!this.J&&this.C<$.length;)if(ln=tb(this,$),ln==ld){ct==4&&(this.s=4,_t(14),m=!1),Oi(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==Bg){this.s=4,_t(15),Oi(this.i,this.l,$,"[Invalid Chunk]"),m=!1;break}else Oi(this.i,this.l,ln,null),dd(this,ln);if(Ug(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||$.length!=0||this.h.h||(this.s=1,_t(16),m=!1),this.o=this.o&&m,!m)Oi(this.i,this.l,$,"[Invalid Chunked Response]"),Xr(this),Zs(this);else if(0<$.length&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.ba&&!lt.M&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),yd(lt),lt.M=!0,_t(11))}}else Oi(this.i,this.l,$,null),dd(this,$);ct==4&&Xr(this),this.o&&!this.J&&(ct==4?my(this.j,this):(this.o=!1,qa(this)))}else vb(this.g),m==400&&0<$.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),Xr(this),Zs(this)}}}catch{}finally{}};function Ug(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function tb(c,f){var m=c.C,C=f.indexOf(`
`,m);return C==-1?ld:(m=Number(f.substring(m,C)),isNaN(m)?Bg:(C+=1,C+m>f.length?ld:(f=f.slice(C,C+m),c.C=C+m,f)))}er.prototype.cancel=function(){this.J=!0,Xr(this)};function qa(c){c.S=Date.now()+c.I,$g(c,c.I)}function $g(c,f){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Xs(p(c.ba,c),f)}function ud(c){c.B&&(a.clearTimeout(c.B),c.B=null)}er.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ZP(this.i,this.A),this.L!=2&&(Ys(),_t(17)),Xr(this),this.s=2,Zs(this)):$g(this,this.S-c)};function Zs(c){c.j.G==0||c.J||my(c.j,c)}function Xr(c){ud(c);var f=c.M;f&&typeof f.ma=="function"&&f.ma(),c.M=null,kg(c.U),c.g&&(f=c.g,c.g=null,f.abort(),f.ma())}function dd(c,f){try{var m=c.j;if(m.G!=0&&(m.g==c||hd(m.h,c))){if(!c.K&&hd(m.h,c)&&m.G==3){try{var C=m.Da.g.parse(f)}catch{C=null}if(Array.isArray(C)&&C.length==3){var D=C;if(D[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<c.F)tl(m),Za(m);else break e;gd(m),_t(18)}}else m.za=D[1],0<m.za-m.T&&37500>D[2]&&m.F&&m.v==0&&!m.C&&(m.C=Xs(p(m.Za,m),6e3));if(1>=qg(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Zr(m,11)}else if((c.K||m.g==c)&&tl(m),!v(f))for(D=m.Da.g.parse(f),f=0;f<D.length;f++){let me=D[f];if(m.T=me[0],me=me[1],m.G==2)if(me[0]=="c"){m.K=me[1],m.ia=me[2];const lt=me[3];lt!=null&&(m.la=lt,m.j.info("VER="+m.la));const ct=me[4];ct!=null&&(m.Aa=ct,m.j.info("SVER="+m.Aa));const zi=me[5];zi!=null&&typeof zi=="number"&&0<zi&&(C=1.5*zi,m.L=C,m.j.info("backChannelRequestTimeoutMs_="+C)),C=m;const ln=c.g;if(ln){const rl=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rl){var j=C.h;j.g||rl.indexOf("spdy")==-1&&rl.indexOf("quic")==-1&&rl.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(fd(j,j.h),j.h=null))}if(C.D){const vd=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;vd&&(C.ya=vd,_e(C.I,C.D,vd))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-c.F,m.j.info("Handshake RTT: "+m.R+"ms")),C=m;var $=c;if(C.qa=vy(C,C.J?C.ia:null,C.W),$.K){Gg(C.h,$);var ve=$,et=C.L;et&&(ve.I=et),ve.B&&(ud(ve),qa(ve)),C.g=$}else fy(C);0<m.i.length&&el(m)}else me[0]!="stop"&&me[0]!="close"||Zr(m,7);else m.G==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?Zr(m,7):md(m):me[0]!="noop"&&m.l&&m.l.ta(me),m.v=0)}}Ys(4)}catch{}}var nb=class{constructor(c,f){this.g=c,this.map=f}};function Wg(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hg(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function qg(c){return c.h?1:c.g?c.g.size:0}function hd(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function fd(c,f){c.g?c.g.add(f):c.h=f}function Gg(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}Wg.prototype.cancel=function(){if(this.i=Kg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Kg(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let f=c.i;for(const m of c.g.values())f=f.concat(m.D);return f}return S(c.i)}function rb(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var f=[],m=c.length,C=0;C<m;C++)f.push(c[C]);return f}f=[],m=0;for(C in c)f[m++]=c[C];return f}function ib(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var f=[];c=c.length;for(var m=0;m<c;m++)f.push(m);return f}f=[],m=0;for(const C in c)f[m++]=C;return f}}}function Qg(c,f){if(c.forEach&&typeof c.forEach=="function")c.forEach(f,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,f,void 0);else for(var m=ib(c),C=rb(c),D=C.length,j=0;j<D;j++)f.call(void 0,C[j],m&&m[j],c)}var Yg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sb(c,f){if(c){c=c.split("&");for(var m=0;m<c.length;m++){var C=c[m].indexOf("="),D=null;if(0<=C){var j=c[m].substring(0,C);D=c[m].substring(C+1)}else j=c[m];f(j,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Jr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Jr){this.h=c.h,Ga(this,c.j),this.o=c.o,this.g=c.g,Ka(this,c.s),this.l=c.l;var f=c.i,m=new no;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),Xg(this,m),this.m=c.m}else c&&(f=String(c).match(Yg))?(this.h=!1,Ga(this,f[1]||"",!0),this.o=eo(f[2]||""),this.g=eo(f[3]||"",!0),Ka(this,f[4]),this.l=eo(f[5]||"",!0),Xg(this,f[6]||"",!0),this.m=eo(f[7]||"")):(this.h=!1,this.i=new no(null,this.h))}Jr.prototype.toString=function(){var c=[],f=this.j;f&&c.push(to(f,Jg,!0),":");var m=this.g;return(m||f=="file")&&(c.push("//"),(f=this.o)&&c.push(to(f,Jg,!0),"@"),c.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&c.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(to(m,m.charAt(0)=="/"?lb:ab,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",to(m,ub)),c.join("")};function Nn(c){return new Jr(c)}function Ga(c,f,m){c.j=m?eo(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function Ka(c,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);c.s=f}else c.s=null}function Xg(c,f,m){f instanceof no?(c.i=f,db(c.i,c.h)):(m||(f=to(f,cb)),c.i=new no(f,c.h))}function _e(c,f,m){c.i.set(f,m)}function Qa(c){return _e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function eo(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function to(c,f,m){return typeof c=="string"?(c=encodeURI(c).replace(f,ob),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ob(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Jg=/[#\/\?@]/g,ab=/[#\?:]/g,lb=/[#\?]/g,cb=/[#\?@]/g,ub=/#/g;function no(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function tr(c){c.g||(c.g=new Map,c.h=0,c.i&&sb(c.i,function(f,m){c.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=no.prototype,t.add=function(c,f){tr(this),this.i=null,c=Fi(this,c);var m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(f),this.h+=1,this};function Zg(c,f){tr(c),f=Fi(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function ey(c,f){return tr(c),f=Fi(c,f),c.g.has(f)}t.forEach=function(c,f){tr(this),this.g.forEach(function(m,C){m.forEach(function(D){c.call(f,D,C,this)},this)},this)},t.na=function(){tr(this);const c=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let C=0;C<f.length;C++){const D=c[C];for(let j=0;j<D.length;j++)m.push(f[C])}return m},t.V=function(c){tr(this);let f=[];if(typeof c=="string")ey(this,c)&&(f=f.concat(this.g.get(Fi(this,c))));else{c=Array.from(this.g.values());for(let m=0;m<c.length;m++)f=f.concat(c[m])}return f},t.set=function(c,f){return tr(this),this.i=null,c=Fi(this,c),ey(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},t.get=function(c,f){return c?(c=this.V(c),0<c.length?String(c[0]):f):f};function ty(c,f,m){Zg(c,f),0<m.length&&(c.i=null,c.g.set(Fi(c,f),S(m)),c.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var C=f[m];const j=encodeURIComponent(String(C)),$=this.V(C);for(C=0;C<$.length;C++){var D=j;$[C]!==""&&(D+="="+encodeURIComponent(String($[C]))),c.push(D)}}return this.i=c.join("&")};function Fi(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function db(c,f){f&&!c.j&&(tr(c),c.i=null,c.g.forEach(function(m,C){var D=C.toLowerCase();C!=D&&(Zg(this,C),ty(this,D,m))},c)),c.j=f}function hb(c,f){const m=new Js;if(a.Image){const C=new Image;C.onload=y(nr,m,"TestLoadImage: loaded",!0,f,C),C.onerror=y(nr,m,"TestLoadImage: error",!1,f,C),C.onabort=y(nr,m,"TestLoadImage: abort",!1,f,C),C.ontimeout=y(nr,m,"TestLoadImage: timeout",!1,f,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else f(!1)}function fb(c,f){const m=new Js,C=new AbortController,D=setTimeout(()=>{C.abort(),nr(m,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:C.signal}).then(j=>{clearTimeout(D),j.ok?nr(m,"TestPingServer: ok",!0,f):nr(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(D),nr(m,"TestPingServer: error",!1,f)})}function nr(c,f,m,C,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),C(m)}catch{}}function pb(){this.g=new YP}function mb(c,f,m){const C=m||"";try{Qg(c,function(D,j){let $=D;u(D)&&($=rd(D)),f.push(C+j+"="+encodeURIComponent($))})}catch(D){throw f.push(C+"type="+encodeURIComponent("_badmap")),D}}function Ya(c){this.l=c.Ub||null,this.j=c.eb||!1}T(Ya,id),Ya.prototype.g=function(){return new Xa(this.l,this.j)},Ya.prototype.i=function(c){return function(){return c}}({});function Xa(c,f){at.call(this),this.D=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Xa,at),t=Xa.prototype,t.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=f,this.readyState=1,io(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(f.body=c),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ro(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,io(this)),this.g&&(this.readyState=3,io(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ny(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ny(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?ro(this):io(this),this.readyState==3&&ny(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ro(this))},t.Qa=function(c){this.g&&(this.response=c,ro(this))},t.ga=function(){this.g&&ro(this)};function ro(c){c.readyState=4,c.l=null,c.j=null,c.v=null,io(c)}t.setRequestHeader=function(c,f){this.u.append(c,f)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=f.next();return c.join(`\r
`)};function io(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Xa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ry(c){let f="";return L(c,function(m,C){f+=C,f+=":",f+=m,f+=`\r
`}),f}function pd(c,f,m){e:{for(C in m){var C=!1;break e}C=!0}C||(m=ry(m),typeof c=="string"?m!=null&&encodeURIComponent(String(m)):_e(c,f,m))}function Ve(c){at.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Ve,at);var gb=/^https?$/i,yb=["POST","PUT"];t=Ve.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,f,m,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ad.g(),this.v=this.o?Ng(this.o):Ng(ad),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(j){iy(this,j);return}if(c=m||"",m=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var D in C)m.set(D,C[D]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const j of C.keys())m.set(j,C.get(j));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(m.keys()).find(j=>j.toLowerCase()=="content-type"),D=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(yb,f,void 0))||C||D||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,$]of m)this.g.setRequestHeader(j,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ay(this),this.u=!0,this.g.send(c),this.u=!1}catch(j){iy(this,j)}};function iy(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.m=5,sy(c),Ja(c)}function sy(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,xt(this,"complete"),xt(this,"abort"),Ja(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ja(this,!0)),Ve.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?oy(this):this.bb())},t.bb=function(){oy(this)};function oy(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Vn(c)!=4||c.Z()!=2)){if(c.u&&Vn(c)==4)Ag(c.Ea,0,c);else if(xt(c,"readystatechange"),Vn(c)==4){c.h=!1;try{const $=c.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var C;if(C=$===0){var D=String(c.D).match(Yg)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),C=!gb.test(D?D.toLowerCase():"")}m=C}if(m)xt(c,"complete"),xt(c,"success");else{c.m=6;try{var j=2<Vn(c)?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.Z()+"]",sy(c)}}finally{Ja(c)}}}}function Ja(c,f){if(c.g){ay(c);const m=c.g,C=c.v[0]?()=>{}:null;c.g=null,c.v=null,f||xt(c,"ready");try{m.onreadystatechange=C}catch{}}}function ay(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Vn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),QP(f)}};function ly(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function vb(c){const f={};c=(c.g&&2<=Vn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if(v(c[C]))continue;var m=A(c[C]);const D=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const j=f[D]||[];f[D]=j,j.push(m)}I(f,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function so(c,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||f}function cy(c){this.Aa=0,this.i=[],this.j=new Js,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=so("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=so("baseRetryDelayMs",5e3,c),this.cb=so("retryDelaySeedMs",1e4,c),this.Wa=so("forwardChannelMaxRetries",2,c),this.wa=so("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Wg(c&&c.concurrentRequestLimit),this.Da=new pb,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=cy.prototype,t.la=8,t.G=1,t.connect=function(c,f,m,C){_t(0),this.W=c,this.H=f||{},m&&C!==void 0&&(this.H.OSID=m,this.H.OAID=C),this.F=this.X,this.I=vy(this,null,this.W),el(this)};function md(c){if(uy(c),c.G==3){var f=c.U++,m=Nn(c.I);if(_e(m,"SID",c.K),_e(m,"RID",f),_e(m,"TYPE","terminate"),oo(c,m),f=new er(c,c.j,f),f.L=2,f.v=Qa(Nn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=wy(f.j,null),f.g.ea(f.v)),f.F=Date.now(),qa(f)}yy(c)}function Za(c){c.g&&(yd(c),c.g.cancel(),c.g=null)}function uy(c){Za(c),c.u&&(a.clearTimeout(c.u),c.u=null),tl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function el(c){if(!Hg(c.h)&&!c.s){c.s=!0;var f=c.Ga;re||X(),z||(re(),z=!0),W.add(f,c),c.B=0}}function wb(c,f){return qg(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=f.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Xs(p(c.Ga,c,f),gy(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const D=new er(this,this.j,c);let j=this.o;if(this.S&&(j?(j=_(j),N(j,this.S)):j=this.S),this.m!==null||this.O||(D.H=j,j=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var C=this.i[m];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(f+=C,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=hy(this,D,f),m=Nn(this.I),_e(m,"RID",c),_e(m,"CVER",22),this.D&&_e(m,"X-HTTP-Session-Id",this.D),oo(this,m),j&&(this.O?f="headers="+encodeURIComponent(String(ry(j)))+"&"+f:this.m&&pd(m,this.m,j)),fd(this.h,D),this.Ua&&_e(m,"TYPE","init"),this.P?(_e(m,"$req",f),_e(m,"SID","null"),D.T=!0,cd(D,m,null)):cd(D,m,f),this.G=2}}else this.G==3&&(c?dy(this,c):this.i.length==0||Hg(this.h)||dy(this))};function dy(c,f){var m;f?m=f.l:m=c.U++;const C=Nn(c.I);_e(C,"SID",c.K),_e(C,"RID",m),_e(C,"AID",c.T),oo(c,C),c.m&&c.o&&pd(C,c.m,c.o),m=new er(c,c.j,m,c.B+1),c.m===null&&(m.H=c.o),f&&(c.i=f.D.concat(c.i)),f=hy(c,m,1e3),m.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),fd(c.h,m),cd(m,C,f)}function oo(c,f){c.H&&L(c.H,function(m,C){_e(f,C,m)}),c.l&&Qg({},function(m,C){_e(f,C,m)})}function hy(c,f,m){m=Math.min(c.i.length,m);var C=c.l?p(c.l.Na,c.l,c):null;e:{var D=c.i;let j=-1;for(;;){const $=["count="+m];j==-1?0<m?(j=D[0].g,$.push("ofs="+j)):j=0:$.push("ofs="+j);let ve=!0;for(let et=0;et<m;et++){let me=D[et].g;const lt=D[et].map;if(me-=j,0>me)j=Math.max(0,D[et].g-100),ve=!1;else try{mb(lt,$,"req"+me+"_")}catch{C&&C(lt)}}if(ve){C=$.join("&");break e}}}return c=c.i.splice(0,m),f.D=c,C}function fy(c){if(!c.g&&!c.u){c.Y=1;var f=c.Fa;re||X(),z||(re(),z=!0),W.add(f,c),c.v=0}}function gd(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Xs(p(c.Fa,c),gy(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,py(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Xs(p(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),Za(this),py(this))};function yd(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function py(c){c.g=new er(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var f=Nn(c.qa);_e(f,"RID","rpc"),_e(f,"SID",c.K),_e(f,"AID",c.T),_e(f,"CI",c.F?"0":"1"),!c.F&&c.ja&&_e(f,"TO",c.ja),_e(f,"TYPE","xmlhttp"),oo(c,f),c.m&&c.o&&pd(f,c.m,c.o),c.L&&(c.g.I=c.L);var m=c.g;c=c.ia,m.L=1,m.v=Qa(Nn(f)),m.m=null,m.P=!0,zg(m,c)}t.Za=function(){this.C!=null&&(this.C=null,Za(this),gd(this),_t(19))};function tl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function my(c,f){var m=null;if(c.g==f){tl(c),yd(c),c.g=null;var C=2}else if(hd(c.h,f))m=f.D,Gg(c.h,f),C=1;else return;if(c.G!=0){if(f.o)if(C==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var D=c.B;C=$a(),xt(C,new jg(C,m)),el(c)}else fy(c);else if(D=f.s,D==3||D==0&&0<f.X||!(C==1&&wb(c,f)||C==2&&gd(c)))switch(m&&0<m.length&&(f=c.h,f.i=f.i.concat(m)),D){case 1:Zr(c,5);break;case 4:Zr(c,10);break;case 3:Zr(c,6);break;default:Zr(c,2)}}}function gy(c,f){let m=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(m*=2),m*f}function Zr(c,f){if(c.j.info("Error code "+f),f==2){var m=p(c.fb,c),C=c.Xa;const D=!C;C=new Jr(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ga(C,"https"),Qa(C),D?hb(C.toString(),m):fb(C.toString(),m)}else _t(2);c.G=0,c.l&&c.l.sa(f),yy(c),uy(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function yy(c){if(c.G=0,c.ka=[],c.l){const f=Kg(c.h);(f.length!=0||c.i.length!=0)&&(R(c.ka,f),R(c.ka,c.i),c.h.i.length=0,S(c.i),c.i.length=0),c.l.ra()}}function vy(c,f,m){var C=m instanceof Jr?Nn(m):new Jr(m);if(C.g!="")f&&(C.g=f+"."+C.g),Ka(C,C.s);else{var D=a.location;C=D.protocol,f=f?f+"."+D.hostname:D.hostname,D=+D.port;var j=new Jr(null);C&&Ga(j,C),f&&(j.g=f),D&&Ka(j,D),m&&(j.l=m),C=j}return m=c.D,f=c.ya,m&&f&&_e(C,m,f),_e(C,"VER",c.la),oo(c,C),C}function wy(c,f,m){if(f&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Ca&&!c.pa?new Ve(new Ya({eb:m})):new Ve(c.pa),f.Ha(c.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function xy(){}t=xy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function nl(){}nl.prototype.g=function(c,f){return new Ot(c,f)};function Ot(c,f){at.call(this),this.g=new cy(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(c?c["X-WebChannel-Client-Profile"]=f.va:c={"X-WebChannel-Client-Profile":f.va}),this.g.S=c,(c=f&&f.Sb)&&!v(c)&&(this.g.m=c),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!v(f)&&(this.g.D=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new Bi(this)}T(Ot,at),Ot.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ot.prototype.close=function(){md(this.g)},Ot.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.u&&(m={},m.__data__=rd(c),c=m);f.i.push(new nb(f.Ya++,c)),f.G==3&&el(f)},Ot.prototype.N=function(){this.g.l=null,delete this.j,md(this.g),delete this.g,Ot.aa.N.call(this)};function _y(c){sd.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(const m in f){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}T(_y,sd);function Ey(){od.call(this),this.status=1}T(Ey,od);function Bi(c){this.g=c}T(Bi,xy),Bi.prototype.ua=function(){xt(this.g,"a")},Bi.prototype.ta=function(c){xt(this.g,new _y(c))},Bi.prototype.sa=function(c){xt(this.g,new Ey)},Bi.prototype.ra=function(){xt(this.g,"b")},nl.prototype.createWebChannel=nl.prototype.g,Ot.prototype.send=Ot.prototype.o,Ot.prototype.open=Ot.prototype.m,Ot.prototype.close=Ot.prototype.close,yS=function(){return new nl},gS=function(){return $a()},mS=Yr,Bf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wa.NO_ERROR=0,Wa.TIMEOUT=8,Wa.HTTP_ERROR=6,Gl=Wa,Og.COMPLETE="complete",pS=Og,Vg.EventType=Qs,Qs.OPEN="a",Qs.CLOSE="b",Qs.ERROR="c",Qs.MESSAGE="d",at.prototype.listen=at.prototype.K,Co=Vg,Ve.prototype.listenOnce=Ve.prototype.L,Ve.prototype.getLastError=Ve.prototype.Ka,Ve.prototype.getLastErrorCode=Ve.prototype.Ba,Ve.prototype.getStatus=Ve.prototype.Z,Ve.prototype.getResponseJson=Ve.prototype.Oa,Ve.prototype.getResponseText=Ve.prototype.oa,Ve.prototype.send=Ve.prototype.ea,Ve.prototype.setWithCredentials=Ve.prototype.Ha,fS=Ve}).apply(typeof bl<"u"?bl:typeof self<"u"?self:typeof window<"u"?window:{});const c1="@firebase/firestore",u1="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pt.UNAUTHENTICATED=new pt(null),pt.GOOGLE_CREDENTIALS=new pt("google-credentials-uid"),pt.FIRST_PARTY=new pt("first-party-uid"),pt.MOCK_USER=new pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $s="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new Lm("@firebase/firestore");function Wi(){return Ei.logLevel}function H(t,...e){if(Ei.logLevel<=he.DEBUG){const n=e.map(Om);Ei.debug(`Firestore (${$s}): ${t}`,...n)}}function Xn(t,...e){if(Ei.logLevel<=he.ERROR){const n=e.map(Om);Ei.error(`Firestore (${$s}): ${t}`,...n)}}function As(t,...e){if(Ei.logLevel<=he.WARN){const n=e.map(Om);Ei.warn(`Firestore (${$s}): ${t}`,...n)}}function Om(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,vS(t,r,n)}function vS(t,e,n){let r=`FIRESTORE (${$s}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Xn(r),new Error(r)}function ge(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||vS(e,i,r)}function oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends Qr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pt.UNAUTHENTICATED))}shutdown(){}}class BL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class zL{constructor(e){this.t=e,this.currentUser=pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ge(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Un;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Un,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Un)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ge(typeof r.accessToken=="string",31837,{l:r}),new wS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ge(e===null||typeof e=="string",2055,{h:e}),new pt(e)}}class UL{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=pt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $L{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new UL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class d1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,TL(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ge(this.o===void 0,3512);const r=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new d1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new d1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=HL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ae(t,e){return t<e?-1:t>e?1:0}function zf(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ae(r,i);{const s=xS(),o=qL(s.encode(h1(t,n)),s.encode(h1(e,n)));return o!==0?o:ae(r,i)}}n+=r>65535?2:1}return ae(t.length,e.length)}function h1(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function qL(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ae(t[n],e[n]);return ae(t.length,e.length)}function Is(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=-62135596800,p1=1e6;class Ge{static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*p1);return new Ge(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<f1)throw new J(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/p1}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-f1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{static fromTimestamp(e){return new se(e)}static min(){return new se(new Ge(0,0))}static max(){return new se(new Ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="__name__";class _n{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ne(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _n.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _n?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=_n.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ae(e.length,n.length)}static compareSegments(e,n){const r=_n.isNumericId(e),i=_n.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?_n.extractNumericId(e).compare(_n.extractNumericId(n)):zf(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rr.fromString(e.substring(4,e.length-2))}}class Pe extends _n{construct(e,n,r){return new Pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Pe(n)}static emptyPath(){return new Pe([])}}const GL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rt extends _n{construct(e,n,r){return new rt(e,n,r)}static isValidIdentifier(e){return GL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===m1}static keyField(){return new rt([m1])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new J(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new J(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new J(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rt(n)}static emptyPath(){return new rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Pe.fromString(e))}static fromName(e){return new ee(Pe.fromString(e).popFirst(5))}static empty(){return new ee(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Pe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=-1;function KL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new Ge(n+1,0):new Ge(n,r));return new jr(i,ee.empty(),e)}function QL(t){return new jr(t.readTime,t.key,wa)}class jr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new jr(se.min(),ee.empty(),wa)}static max(){return new jr(se.max(),ee.empty(),wa)}}function YL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ws(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==XL)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new F((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new F((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function ZL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hs(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ku.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm=-1;function Nu(t){return t==null}function Fc(t){return t===0&&1/t==-1/0}function ej(t){return typeof t=="number"&&Number.isInteger(t)&&!Fc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="";function tj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=g1(e)),e=nj(t.get(n),e);return g1(e)}function nj(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case ES:n+="";break;default:n+=s}}return n}function g1(t){return t+ES+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Di(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e,n){this.comparator=e,this.root=n||nt.EMPTY}insert(e,n){return new Ne(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nt.BLACK,null,null))}remove(e){return new Ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Al(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Al(this.root,e,this.comparator,!1)}getReverseIterator(){return new Al(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Al(this.root,e,this.comparator,!0)}}class Al{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??nt.RED,this.left=i??nt.EMPTY,this.right=s??nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new nt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return nt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ne(27949);return e+(this.isRed()?0:1)}}nt.EMPTY=null,nt.RED=!0,nt.BLACK=!1;nt.EMPTY=new class{constructor(){this.size=0}get key(){throw ne(57766)}get value(){throw ne(16141)}get color(){throw ne(16727)}get left(){throw ne(29726)}get right(){throw ne(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new nt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new v1(this.data.getIterator())}getIteratorFrom(e){return new v1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ke)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ke(this.comparator);return n.data=e,n}}class v1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(rt.comparator)}static empty(){return new mn([])}unionWith(e){let n=new Ke(rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Is(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new SS("Invalid base64 string: "+s):s}}(e);return new ot(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ot.EMPTY_BYTE_STRING=new ot("");const rj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Or(t){if(ge(!!t,39018),typeof t=="string"){let e=0;const n=rj.exec(t);if(ge(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:je(t.seconds),nanos:je(t.nanos)}}function je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fr(t){return typeof t=="string"?ot.fromBase64String(t):ot.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="server_timestamp",PS="__type__",bS="__previous_value__",AS="__local_write_time__";function Bm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[PS])===null||n===void 0?void 0:n.stringValue)===CS}function Vu(t){const e=t.mapValue.fields[bS];return Bm(e)?Vu(e):e}function xa(t){const e=Or(t.mapValue.fields[AS].timestampValue);return new Ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,n,r,i,s,o,a,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const Bc="(default)";class _a{constructor(e,n){this.projectId=e,this.database=n||Bc}static empty(){return new _a("","")}get isDefaultDatabase(){return this.database===Bc}isEqual(e){return e instanceof _a&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="__type__",RS="__max__",Il={mapValue:{fields:{__type__:{stringValue:RS}}}},kS="__vector__",zc="value";function Br(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bm(t)?4:oj(t)?9007199254740991:sj(t)?10:11:ne(28295,{value:t})}function In(t,e){if(t===e)return!0;const n=Br(t);if(n!==Br(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xa(t).isEqual(xa(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Or(i.timestampValue),a=Or(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Fr(i.bytesValue).isEqual(Fr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return je(i.geoPointValue.latitude)===je(s.geoPointValue.latitude)&&je(i.geoPointValue.longitude)===je(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return je(i.integerValue)===je(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=je(i.doubleValue),a=je(s.doubleValue);return o===a?Fc(o)===Fc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Is(t.arrayValue.values||[],e.arrayValue.values||[],In);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(y1(o)!==y1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!In(o[l],a[l])))return!1;return!0}(t,e);default:return ne(52216,{left:t})}}function Ea(t,e){return(t.values||[]).find(n=>In(n,e))!==void 0}function Rs(t,e){if(t===e)return 0;const n=Br(t),r=Br(e);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=je(s.integerValue||s.doubleValue),l=je(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return w1(t.timestampValue,e.timestampValue);case 4:return w1(xa(t),xa(e));case 5:return zf(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Fr(s),l=Fr(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=ae(a[u],l[u]);if(d!==0)return d}return ae(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ae(je(s.latitude),je(o.latitude));return a!==0?a:ae(je(s.longitude),je(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return x1(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const h=s.fields||{},p=o.fields||{},y=(a=h[zc])===null||a===void 0?void 0:a.arrayValue,T=(l=p[zc])===null||l===void 0?void 0:l.arrayValue,S=ae(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((d=T==null?void 0:T.values)===null||d===void 0?void 0:d.length)||0);return S!==0?S:x1(y,T)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Il.mapValue&&o===Il.mapValue)return 0;if(s===Il.mapValue)return 1;if(o===Il.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=zf(l[h],d[h]);if(p!==0)return p;const y=Rs(a[l[h]],u[d[h]]);if(y!==0)return y}return ae(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ne(23264,{Pe:n})}}function w1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);const n=Or(t),r=Or(e),i=ae(n.seconds,r.seconds);return i!==0?i:ae(n.nanos,r.nanos)}function x1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Rs(n[i],r[i]);if(s)return s}return ae(n.length,r.length)}function ks(t){return Uf(t)}function Uf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Or(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Fr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Uf(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Uf(n.fields[o])}`;return i+"}"}(t.mapValue):ne(61005,{value:t})}function Kl(t){switch(Br(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vu(t);return e?16+Kl(e):16;case 5:return 2*t.stringValue.length;case 6:return Fr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Kl(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Di(r.fields,(s,o)=>{i+=s.length+Kl(o)}),i}(t.mapValue);default:throw ne(13486,{value:t})}}function $f(t){return!!t&&"integerValue"in t}function zm(t){return!!t&&"arrayValue"in t}function _1(t){return!!t&&"nullValue"in t}function E1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ql(t){return!!t&&"mapValue"in t}function sj(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[IS])===null||n===void 0?void 0:n.stringValue)===kS}function $o(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Di(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=$o(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$o(t.arrayValue.values[n]);return e}return Object.assign({},t)}function oj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===RS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.value=e}static empty(){return new tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ql(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$o(n)}setAll(e){let n=rt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=$o(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ql(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return In(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ql(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Di(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new tn($o(this.value))}}function NS(t){const e=[];return Di(t.fields,(n,r)=>{const i=new rt([n]);if(Ql(r)){const s=NS(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new gt(e,0,se.min(),se.min(),se.min(),tn.empty(),0)}static newFoundDocument(e,n,r,i){return new gt(e,1,n,se.min(),r,i,0)}static newNoDocument(e,n){return new gt(e,2,n,se.min(),se.min(),tn.empty(),0)}static newUnknownDocument(e,n){return new gt(e,3,n,se.min(),se.min(),tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n){this.position=e,this.inclusive=n}}function T1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ee.comparator(ee.fromName(o.referenceValue),n.key):r=Rs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function S1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!In(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n="asc"){this.field=e,this.dir=n}}function aj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{}class He extends VS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new cj(e,n,r):n==="array-contains"?new hj(e,r):n==="in"?new fj(e,r):n==="not-in"?new pj(e,r):n==="array-contains-any"?new mj(e,r):new He(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new uj(e,r):new dj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Rs(n,this.value)):n!==null&&Br(this.value)===Br(n)&&this.matchesComparison(Rs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rn extends VS{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Rn(e,n)}matches(e){return DS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function DS(t){return t.op==="and"}function MS(t){return lj(t)&&DS(t)}function lj(t){for(const e of t.filters)if(e instanceof Rn)return!1;return!0}function Wf(t){if(t instanceof He)return t.field.canonicalString()+t.op.toString()+ks(t.value);if(MS(t))return t.filters.map(e=>Wf(e)).join(",");{const e=t.filters.map(n=>Wf(n)).join(",");return`${t.op}(${e})`}}function LS(t,e){return t instanceof He?function(r,i){return i instanceof He&&r.op===i.op&&r.field.isEqual(i.field)&&In(r.value,i.value)}(t,e):t instanceof Rn?function(r,i){return i instanceof Rn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&LS(o,i.filters[a]),!0):!1}(t,e):void ne(19439)}function jS(t){return t instanceof He?function(n){return`${n.field.canonicalString()} ${n.op} ${ks(n.value)}`}(t):t instanceof Rn?function(n){return n.op.toString()+" {"+n.getFilters().map(jS).join(" ,")+"}"}(t):"Filter"}class cj extends He{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class uj extends He{constructor(e,n){super(e,"in",n),this.keys=OS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class dj extends He{constructor(e,n){super(e,"not-in",n),this.keys=OS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function OS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class hj extends He{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zm(n)&&Ea(n.arrayValue,this.value)}}class fj extends He{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ea(this.value.arrayValue,n)}}class pj extends He{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ea(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ea(this.value.arrayValue,n)}}class mj extends He{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ea(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}}function C1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new gj(t,e,n,r,i,s,o)}function Um(t){const e=oe(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Wf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Nu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ks(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ks(r)).join(",")),e.Ie=n}return e.Ie}function $m(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!aj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!LS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!S1(t.startAt,e.startAt)&&S1(t.endAt,e.endAt)}function Hf(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function yj(t,e,n,r,i,s,o,a){return new Du(t,e,n,r,i,s,o,a)}function Wm(t){return new Du(t)}function P1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vj(t){return t.collectionGroup!==null}function Wo(t){const e=oe(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ke(rt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new $c(s,r))}),n.has(rt.keyField().canonicalString())||e.Ee.push(new $c(rt.keyField(),r))}return e.Ee}function bn(t){const e=oe(t);return e.de||(e.de=wj(e,Wo(t))),e.de}function wj(t,e){if(t.limitType==="F")return C1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new $c(i.field,s)});const n=t.endAt?new Uc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Uc(t.startAt.position,t.startAt.inclusive):null;return C1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function qf(t,e,n){return new Du(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mu(t,e){return $m(bn(t),bn(e))&&t.limitType===e.limitType}function FS(t){return`${Um(bn(t))}|lt:${t.limitType}`}function Hi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>jS(i)).join(", ")}]`),Nu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ks(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ks(i)).join(",")),`Target(${r})`}(bn(t))}; limitType=${t.limitType})`}function Lu(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ee.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Wo(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=T1(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Wo(r),i)||r.endAt&&!function(o,a,l){const u=T1(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Wo(r),i))}(t,e)}function xj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function BS(t){return(e,n)=>{let r=!1;for(const i of Wo(t)){const s=_j(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function _j(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Rs(l,u):ne(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Di(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return TS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=new Ne(ee.comparator);function Jn(){return Ej}const zS=new Ne(ee.comparator);function Po(...t){let e=zS;for(const n of t)e=e.insert(n.key,n);return e}function US(t){let e=zS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function hi(){return Ho()}function $S(){return Ho()}function Ho(){return new Mi(t=>t.toString(),(t,e)=>t.isEqual(e))}const Tj=new Ne(ee.comparator),Sj=new Ke(ee.comparator);function ue(...t){let e=Sj;for(const n of t)e=e.add(n);return e}const Cj=new Ke(ae);function Pj(){return Cj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fc(e)?"-0":e}}function WS(t){return{integerValue:""+t}}function bj(t,e){return ej(e)?WS(e):Hm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(){this._=void 0}}function Aj(t,e,n){return t instanceof Wc?function(i,s){const o={fields:{[PS]:{stringValue:CS},[AS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Bm(s)&&(s=Vu(s)),s&&(o.fields[bS]=s),{mapValue:o}}(n,e):t instanceof Ta?qS(t,e):t instanceof Sa?GS(t,e):function(i,s){const o=HS(i,s),a=b1(o)+b1(i.Re);return $f(o)&&$f(i.Re)?WS(a):Hm(i.serializer,a)}(t,e)}function Ij(t,e,n){return t instanceof Ta?qS(t,e):t instanceof Sa?GS(t,e):n}function HS(t,e){return t instanceof Hc?function(r){return $f(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Wc extends ju{}class Ta extends ju{constructor(e){super(),this.elements=e}}function qS(t,e){const n=KS(e);for(const r of t.elements)n.some(i=>In(i,r))||n.push(r);return{arrayValue:{values:n}}}class Sa extends ju{constructor(e){super(),this.elements=e}}function GS(t,e){let n=KS(e);for(const r of t.elements)n=n.filter(i=>!In(i,r));return{arrayValue:{values:n}}}class Hc extends ju{constructor(e,n){super(),this.serializer=e,this.Re=n}}function b1(t){return je(t.integerValue||t.doubleValue)}function KS(t){return zm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Rj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ta&&i instanceof Ta||r instanceof Sa&&i instanceof Sa?Is(r.elements,i.elements,In):r instanceof Hc&&i instanceof Hc?In(r.Re,i.Re):r instanceof Wc&&i instanceof Wc}(t.transform,e.transform)}class kj{constructor(e,n){this.version=e,this.transformResults=n}}class $n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ou{}function QS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new XS(t.key,$n.none()):new La(t.key,t.data,$n.none());{const n=t.data,r=tn.empty();let i=new Ke(rt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Li(t.key,r,new mn(i.toArray()),$n.none())}}function Nj(t,e,n){t instanceof La?function(i,s,o){const a=i.value.clone(),l=I1(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Li?function(i,s,o){if(!Yl(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=I1(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(YS(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function qo(t,e,n,r){return t instanceof La?function(s,o,a,l){if(!Yl(s.precondition,o))return a;const u=s.value.clone(),d=R1(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Li?function(s,o,a,l){if(!Yl(s.precondition,o))return a;const u=R1(s.fieldTransforms,l,o),d=o.data;return d.setAll(YS(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Yl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Vj(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=HS(r.transform,i||null);s!=null&&(n===null&&(n=tn.empty()),n.set(r.field,s))}return n||null}function A1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Is(r,i,(s,o)=>Rj(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class La extends Ou{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Li extends Ou{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function YS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function I1(t,e,n){const r=new Map;ge(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Ij(o,a,n[i]))}return r}function R1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Aj(s,o,e))}return r}class XS extends Ou{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Dj extends Ou{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Nj(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=qo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=qo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$S();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=QS(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&Is(this.mutations,e.mutations,(n,r)=>A1(n,r))&&Is(this.baseMutations,e.baseMutations,(n,r)=>A1(n,r))}}class qm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ge(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return Tj}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new qm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze,de;function Oj(t){switch(t){case B.OK:return ne(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return ne(15467,{code:t})}}function JS(t){if(t===void 0)return Xn("GRPC error has no .code"),B.UNKNOWN;switch(t){case ze.OK:return B.OK;case ze.CANCELLED:return B.CANCELLED;case ze.UNKNOWN:return B.UNKNOWN;case ze.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case ze.INTERNAL:return B.INTERNAL;case ze.UNAVAILABLE:return B.UNAVAILABLE;case ze.UNAUTHENTICATED:return B.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case ze.NOT_FOUND:return B.NOT_FOUND;case ze.ALREADY_EXISTS:return B.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return B.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case ze.ABORTED:return B.ABORTED;case ze.OUT_OF_RANGE:return B.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return B.UNIMPLEMENTED;case ze.DATA_LOSS:return B.DATA_LOSS;default:return ne(39323,{code:t})}}(de=ze||(ze={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=new Rr([4294967295,4294967295],0);function k1(t){const e=xS().encode(t),n=new hS;return n.update(e),new Uint8Array(n.digest())}function N1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Rr([n,r],0),new Rr([i,s],0)]}class Gm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bo(`Invalid padding: ${n}`);if(r<0)throw new bo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new bo(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Rr.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Rr.fromNumber(r)));return i.compare(Fj)===1&&(i=new Rr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=k1(e),[r,i]=N1(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);if(!this.Se(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Gm(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=k1(e),[r,i]=N1(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class bo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ja.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Fu(se.min(),i,new Ne(ae),Jn(),ue())}}class ja{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ja(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class ZS{constructor(e,n){this.targetId=e,this.Ce=n}}class eC{constructor(e,n,r=ot.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class V1{constructor(){this.Fe=0,this.Me=D1(),this.xe=ot.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ue(),n=ue(),r=ue();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ne(38017,{changeType:s})}}),new ja(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=D1()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ge(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Bj{constructor(e){this.ze=e,this.je=new Map,this.He=Jn(),this.Je=Rl(),this.Ye=Rl(),this.Ze=new Ne(ae)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:ne(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const s=i.target;if(Hf(s))if(r===0){const o=new ee(s.path);this.tt(n,o,gt.newNoDocument(o,se.min()))}else ge(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Fr(r).toUint8Array()}catch(l){if(l instanceof SS)return As("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Gm(o,i,s)}catch(l){return As(l instanceof bo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,s,null),i++)}),i}It(e){const n=new Map;this.je.forEach((s,o)=>{const a=this._t(o);if(a){if(s.current&&Hf(a.target)){const l=new ee(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,gt.newNoDocument(l,e))}s.Le&&(n.set(o,s.qe()),s.Qe())}});let r=ue();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));const i=new Fu(e,n,this.Ze,this.He,r);return this.He=Jn(),this.Je=Rl(),this.Ye=Rl(),this.Ze=new Ne(ae),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new V1,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ke(ae),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ke(ae),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new V1),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Rl(){return new Ne(ee.comparator)}function D1(){return new Ne(ee.comparator)}const zj=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Uj=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),$j=(()=>({and:"AND",or:"OR"}))();class Wj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Gf(t,e){return t.useProto3Json||Nu(e)?e:{value:e}}function qc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Hj(t,e){return qc(t,e.toTimestamp())}function An(t){return ge(!!t,49232),se.fromTimestamp(function(n){const r=Or(n);return new Ge(r.seconds,r.nanos)}(t))}function Km(t,e){return Kf(t,e).canonicalString()}function Kf(t,e){const n=function(i){return new Pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function nC(t){const e=Pe.fromString(t);return ge(aC(e),10190,{key:e.toString()}),e}function Qf(t,e){return Km(t.databaseId,e.path)}function dh(t,e){const n=nC(e);if(n.get(1)!==t.databaseId.projectId)throw new J(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(iC(n))}function rC(t,e){return Km(t.databaseId,e)}function qj(t){const e=nC(t);return e.length===4?Pe.emptyPath():iC(e)}function Yf(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iC(t){return ge(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function M1(t,e,n){return{name:Qf(t,e),fields:n.value.mapValue.fields}}function Gj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ne(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(ge(d===void 0||typeof d=="string",58123),ot.fromBase64String(d||"")):(ge(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),ot.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?B.UNKNOWN:JS(u.code);return new J(d,u.message||"")}(o);n=new eC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=dh(t,r.document.name),s=An(r.document.updateTime),o=r.document.createTime?An(r.document.createTime):se.min(),a=new tn({mapValue:{fields:r.document.fields}}),l=gt.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Xl(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=dh(t,r.document),s=r.readTime?An(r.readTime):se.min(),o=gt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Xl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=dh(t,r.document),s=r.removedTargetIds||[];n=new Xl([],s,i,null)}else{if(!("filter"in e))return ne(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new jj(i,s),a=r.targetId;n=new ZS(a,o)}}return n}function Kj(t,e){let n;if(e instanceof La)n={update:M1(t,e.key,e.value)};else if(e instanceof XS)n={delete:Qf(t,e.key)};else if(e instanceof Li)n={update:M1(t,e.key,e.data),updateMask:rO(e.fieldMask)};else{if(!(e instanceof Dj))return ne(16599,{ft:e.type});n={verify:Qf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Wc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ta)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Sa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Hc)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw ne(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Hj(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ne(27497)}(t,e.precondition)),n}function Qj(t,e){return t&&t.length>0?(ge(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?An(i.updateTime):An(s);return o.isEqual(se.min())&&(o=An(s)),new kj(o,i.transformResults||[])}(n,e))):[]}function Yj(t,e){return{documents:[rC(t,e.path)]}}function Xj(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=rC(t,i);const s=function(u){if(u.length!==0)return oC(Rn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:qi(p.field),direction:eO(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Gf(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:i}}function Jj(t){let e=qj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ge(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const p=sC(h);return p instanceof Rn&&MS(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(T){return new $c(Gi(T.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,Nu(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,y=h.values||[];return new Uc(y,p)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const p=!h.before,y=h.values||[];return new Uc(y,p)}(n.endAt)),yj(e,i,o,s,a,"F",l,u)}function Zj(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Gi(n.unaryFilter.field);return He.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Gi(n.unaryFilter.field);return He.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Gi(n.unaryFilter.field);return He.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Gi(n.unaryFilter.field);return He.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ne(61313);default:return ne(60726)}}(t):t.fieldFilter!==void 0?function(n){return He.create(Gi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ne(58110);default:return ne(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Rn.create(n.compositeFilter.filters.map(r=>sC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne(1026)}}(n.compositeFilter.op))}(t):ne(30097,{filter:t})}function eO(t){return zj[t]}function tO(t){return Uj[t]}function nO(t){return $j[t]}function qi(t){return{fieldPath:t.canonicalString()}}function Gi(t){return rt.fromServerFormat(t.fieldPath)}function oC(t){return t instanceof He?function(n){if(n.op==="=="){if(E1(n.value))return{unaryFilter:{field:qi(n.field),op:"IS_NAN"}};if(_1(n.value))return{unaryFilter:{field:qi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(E1(n.value))return{unaryFilter:{field:qi(n.field),op:"IS_NOT_NAN"}};if(_1(n.value))return{unaryFilter:{field:qi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qi(n.field),op:tO(n.op),value:n.value}}}(t):t instanceof Rn?function(n){const r=n.getFilters().map(i=>oC(i));return r.length===1?r[0]:{compositeFilter:{op:nO(n.op),filters:r}}}(t):ne(54877,{filter:t})}function rO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function aC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n,r,i,s=se.min(),o=se.min(),a=ot.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.wt=e}}function sO(t){const e=Jj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(){this.Cn=new aO}addToCollectionParentIndex(e,n){return this.Cn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(jr.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(jr.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class aO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ke(Pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ke(Pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lC=41943040;class It{static withCacheSize(e){return new It(e,It.DEFAULT_COLLECTION_PERCENTILE,It.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */It.DEFAULT_COLLECTION_PERCENTILE=10,It.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,It.DEFAULT=new It(lC,It.DEFAULT_COLLECTION_PERCENTILE,It.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),It.DISABLED=new It(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ns(0)}static lr(){return new Ns(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="LruGarbageCollector",lO=1048576;function O1([t,e],[n,r]){const i=ae(t,n);return i===0?ae(e,r):i}class cO{constructor(e){this.Er=e,this.buffer=new Ke(O1),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();O1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uO{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){H(j1,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Hs(n)?H(j1,"Ignoring IndexedDB error during garbage collection: ",n):await Ws(n)}await this.mr(3e5)})}}class dO{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(ku.le);const r=new cO(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(L1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),L1):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,s,o,a,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),Wi()<=he.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function hO(t,e){return new dO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this.changes=new Mi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&qo(r.mutation,i,mn.empty(),Ge.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const i=hi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Po();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=hi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Jn();const o=Ho(),a=function(){return Ho()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Li)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),qo(d.mutation,u,d.mutation.getFieldMask(),Ge.now())):o.set(u.key,mn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new pO(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ho();let i=new Ne((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||mn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||ue()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=$S();d.forEach(p=>{if(!s.has(p)){const y=QS(n.get(p),r.get(p));y!==null&&h.set(p,y),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):F.resolve(hi());let a=wa,l=s;return o.next(u=>F.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?F.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ue())).next(d=>({batchId:a,changes:US(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=Po();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Po();return this.indexManager.getCollectionParents(e,s).next(a=>F.forEach(a,l=>{const u=function(h,p){return new Du(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,gt.newInvalidDocument(d)))});let a=Po();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&qo(d.mutation,u,mn.empty(),Ge.now()),Lu(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return F.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:An(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:sO(i.bundledQuery),readTime:An(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(){this.overlays=new Ne(ee.comparator),this.Qr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=hi();return F.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.bt(e,n,s)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const i=hi(),s=n.length+1,o=new ee(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ne((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=hi(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=hi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return F.resolve(a)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Lj(n,r));let s=this.Qr.get(n);s===void 0&&(s=ue(),this.Qr.set(n,s)),this.Qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(){this.sessionToken=ot.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(){this.$r=new Ke(Xe.Ur),this.Kr=new Ke(Xe.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Xe(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Xe(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new ee(new Pe([])),r=new Xe(n,e),i=new Xe(n,e+1),s=[];return this.Kr.forEachInRange([r,i],o=>{this.zr(o),s.push(o.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ee(new Pe([])),r=new Xe(n,e),i=new Xe(n,e+1);let s=ue();return this.Kr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Xe(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xe{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ee.comparator(e.key,n.key)||ae(e.Zr,n.Zr)}static Wr(e,n){return ae(e.Zr,n.Zr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ke(Xe.Ur)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Mj(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Xr=this.Xr.add(new Xe(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),s=i<0?0:i;return F.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Fm:this.nr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xe(n,0),i=new Xe(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([r,i],o=>{const a=this.ei(o.Zr);s.push(a)}),F.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ke(ae);return n.forEach(i=>{const s=new Xe(i,0),o=new Xe(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,o],a=>{r=r.add(a.Zr)})}),F.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ee.isDocumentKey(s)||(s=s.child(""));const o=new Xe(new ee(s),0);let a=new Ke(ae);return this.Xr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Zr)),!0)},o),F.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ge(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return F.forEach(n.mutations,i=>{const s=new Xe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Xe(n,0),i=this.Xr.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.ii=e,this.docs=function(){return new Ne(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():gt.newInvalidDocument(n))}getEntries(e,n){let r=Jn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():gt.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Jn();const o=n.path,a=new ee(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||YL(QL(d),r)<=0||(i.has(d.key)||Lu(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return F.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ne(9500)}si(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new _O(this)}getSize(e){return F.resolve(this.size)}}class _O extends fO{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e){this.persistence=e,this.oi=new Mi(n=>Um(n),$m),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this._i=0,this.ai=new Qm,this.targetCount=0,this.ui=Ns.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),F.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Ns(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Tr(n),F.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(s).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),F.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n){this.ci={},this.overlays={},this.li=new ku(0),this.hi=!1,this.hi=!0,this.Pi=new vO,this.referenceDelegate=e(this),this.Ti=new EO(this),this.indexManager=new oO,this.remoteDocumentCache=function(i){return new xO(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new iO(n),this.Ei=new gO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new wO(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const i=new TO(this.li.next());return this.referenceDelegate.di(),r(i).next(s=>this.referenceDelegate.Ai(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ri(e,n){return F.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class TO extends JL{constructor(e){super(),this.currentSequenceNumber=e}}class Ym{constructor(e){this.persistence=e,this.Vi=new Qm,this.mi=null}static fi(e){return new Ym(e)}get gi(){if(this.mi)return this.mi;throw ne(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),F.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.gi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.gi,r=>{const i=ee.fromPath(r);return this.pi(e,i).next(s=>{s||n.removeEntry(i,se.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return F.or([()=>F.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Gc{constructor(e,n){this.persistence=e,this.yi=new Mi(r=>tj(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=hO(this,n)}static fi(e,n){return new Gc(e,n)}di(){}Ai(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return F.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(s=>s?F.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,se.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),F.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Kl(e.data.value)),n}Dr(e,n,r){return F.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return F.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=ue(),i=ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Xm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return w4()?8:ZL(g4())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ws(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ss(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new SO;return this.bs(e,n,o).next(a=>{if(s.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>s.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(Wi()<=he.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",Hi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),F.resolve()):(Wi()<=he.DEBUG&&H("QueryEngine","Query:",Hi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Wi()<=he.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",Hi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bn(n))):F.resolve())}ws(e,n){if(P1(n))return F.resolve(null);let r=bn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=qf(n,null,"F"),r=bn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ue(...s);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.vs(n,a);return this.Cs(n,u,o,l.readTime)?this.ws(e,qf(n,null,"F")):this.Fs(e,u,n,l)}))})))}Ss(e,n,r,i){return P1(n)||i.isEqual(se.min())?F.resolve(null):this.ys.getDocuments(e,r).next(s=>{const o=this.vs(n,s);return this.Cs(n,o,r,i)?F.resolve(null):(Wi()<=he.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hi(n)),this.Fs(e,o,n,KL(i,wa)).next(a=>a))})}vs(e,n){let r=new Ke(BS(e));return n.forEach((i,s)=>{Lu(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}bs(e,n,r){return Wi()<=he.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Hi(n)),this.ys.getDocumentsMatchingQuery(e,n,jr.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="LocalStore",PO=3e8;class bO{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Ne(ae),this.Os=new Mi(s=>Um(s),$m),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mO(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function AO(t,e,n,r){return new bO(t,e,n,r)}async function uC(t,e){const n=oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ue();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ks:u,removedBatchIds:o,addedBatchIds:a}))})})}function IO(t,e){const n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,p=h.keys();let y=F.resolve();return p.forEach(T=>{y=y.next(()=>d.getEntry(l,T)).next(S=>{const R=u.docVersions.get(T);ge(R!==null,48541),S.version.compareTo(R)<0&&(h.applyToRemoteDocument(S,u),S.isValidDocument()&&(S.setReadTime(u.commitVersion),d.addEntry(S)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ue();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function dC(t){const e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function RO(t,e){const n=oe(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const a=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;a.push(n.Ti.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Ti.addMatchingKeys(s,d.addedDocuments,h)));let y=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?y=y.withResumeToken(ot.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(h,y),function(S,R,x){return S.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=PO?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,y,d)&&a.push(n.Ti.updateTargetData(s,y))});let l=Jn(),u=ue();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(kO(s,o,e.documentUpdates).next(d=>{l=d.qs,u=d.Qs})),!r.isEqual(se.min())){const d=n.Ti.getLastRemoteSnapshotVersion(s).next(h=>n.Ti.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return F.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.xs=i,s))}function kO(t,e,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Jn();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(se.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):H(Jm,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{qs:o,Qs:i}})}function NO(t,e){const n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Fm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function VO(t,e){const n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(s=>s?(i=s,F.resolve(i)):n.Ti.allocateTargetId(r).next(o=>(i=new mr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Xf(t,e,n){const r=oe(t),i=r.xs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Hs(o))throw o;H(Jm,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function F1(t,e,n){const r=oe(t);let i=se.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=oe(l),p=h.Os.get(d);return p!==void 0?F.resolve(h.xs.get(p)):h.Ti.getTargetData(u,d)}(r,o,bn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?i:se.min(),n?s:ue())).next(a=>(DO(r,xj(e),a),{documents:a,$s:s})))}function DO(t,e,n){let r=t.Ns.get(e)||se.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ns.set(e,r)}class B1{constructor(){this.activeTargetIds=Pj()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MO{constructor(){this.xo=new B1,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new B1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="ConnectivityMonitor";class U1{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){H(z1,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){H(z1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kl=null;function Jf(){return kl===null?kl=function(){return 268435456+Math.round(2147483648*Math.random())}():kl++,"0x"+kl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh="RestConnection",jO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OO{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Bc?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,s){const o=Jf(),a=this.jo(e,n.toUriEncodedString());H(hh,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,i,s);const{host:u}=new URL(a),d=Mm(u);return this.Jo(e,a,l,r,d).then(h=>(H(hh,`Received RPC '${e}' ${o}: `,h),h),h=>{throw As(hh,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Yo(e,n,r,i,s,o){return this.zo(e,n,r,i,s)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$s}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}jo(e,n){const r=jO[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ht="WebChannelConnection";class BO extends OO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=Jf();return new Promise((a,l)=>{const u=new fS;u.setWithCredentials(!0),u.listenOnce(pS.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Gl.NO_ERROR:const h=u.getResponseJson();H(ht,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case Gl.TIMEOUT:H(ht,`RPC '${e}' ${o} timed out`),l(new J(B.DEADLINE_EXCEEDED,"Request time out"));break;case Gl.HTTP_ERROR:const p=u.getStatus();if(H(ht,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const T=y==null?void 0:y.error;if(T&&T.status&&T.message){const S=function(x){const v=x.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(v)>=0?v:B.UNKNOWN}(T.status);l(new J(S,T.message))}else l(new J(B.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new J(B.UNAVAILABLE,"Connection failed."));break;default:ne(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{H(ht,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);H(ht,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",d,r,15)})}T_(e,n,r){const i=Jf(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=yS(),a=gS(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");H(ht,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let p=!1,y=!1;const T=new FO({Zo:R=>{y?H(ht,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(p||(H(ht,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),H(ht,`RPC '${e}' stream ${i} sending:`,R),h.send(R))},Xo:()=>h.close()}),S=(R,x,v)=>{R.listen(x,w=>{try{v(w)}catch(V){setTimeout(()=>{throw V},0)}})};return S(h,Co.EventType.OPEN,()=>{y||(H(ht,`RPC '${e}' stream ${i} transport opened.`),T.__())}),S(h,Co.EventType.CLOSE,()=>{y||(y=!0,H(ht,`RPC '${e}' stream ${i} transport closed`),T.u_())}),S(h,Co.EventType.ERROR,R=>{y||(y=!0,As(ht,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),T.u_(new J(B.UNAVAILABLE,"The operation could not be completed")))}),S(h,Co.EventType.MESSAGE,R=>{var x;if(!y){const v=R.data[0];ge(!!v,16349);const w=v,V=(w==null?void 0:w.error)||((x=w[0])===null||x===void 0?void 0:x.error);if(V){H(ht,`RPC '${e}' stream ${i} received error:`,V);const M=V.status;let L=function(k){const N=ze[k];if(N!==void 0)return JS(N)}(M),I=V.message;L===void 0&&(L=B.INTERNAL,I="Unknown error status: "+M+" with message "+V.message),y=!0,T.u_(new J(L,I)),h.close()}else H(ht,`RPC '${e}' stream ${i} received:`,v),T.c_(v)}}),S(a,mS.STAT_EVENT,R=>{R.stat===Bf.PROXY?H(ht,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Bf.NOPROXY&&H(ht,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.a_()},0),T}}function fh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(t){return new Wj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=i,this.d_=s,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="PersistentStream";class fC{constructor(e,n,r,i,s,o,a,l){this.xi=e,this.y_=r,this.w_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new hC(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Xn(n.toString()),Xn("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===n&&this.K_(r,i)},r=>{e(()=>{const i=new J(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,n){const r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return H($1,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(H($1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zO extends fC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=Gj(this.serializer,e),r=function(s){if(!("targetChange"in s))return se.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?se.min():o.readTime?An(o.readTime):se.min()}(e);return this.listener.j_(n,r)}H_(e){const n={};n.database=Yf(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Hf(l)?{documents:Yj(s,l)}:{query:Xj(s,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=tC(s,o.resumeToken);const u=Gf(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(se.min())>0){a.readTime=qc(s,o.snapshotVersion.toTimestamp());const u=Gf(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Zj(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){const n={};n.database=Yf(this.serializer),n.removeTarget=e,this.L_(n)}}class UO extends fC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=Qj(e.writeResults,e.commitTime),r=An(e.commitTime);return this.listener.ea(r,n)}ta(){const e={};e.database=Yf(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Kj(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{}class WO extends $O{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new J(B.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.zo(e,Kf(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(B.UNKNOWN,s.toString())})}Yo(e,n,r,i,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,Kf(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(B.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class HO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Xn(n),this.oa=!1):H("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="RemoteStore";class qO{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=s,this.Ea.No(o=>{r.enqueueAndForget(async()=>{ji(this)&&(H(Ti,"Restarting streams for network reachability change."),await async function(l){const u=oe(l);u.Ta.add(4),await Oa(u),u.da.set("Unknown"),u.Ta.delete(4),await zu(u)}(this))})}),this.da=new HO(r,i)}}async function zu(t){if(ji(t))for(const e of t.Ia)await e(!0)}async function Oa(t){for(const e of t.Ia)await e(!1)}function pC(t,e){const n=oe(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),ng(n)?tg(n):qs(n).M_()&&eg(n,e))}function Zm(t,e){const n=oe(t),r=qs(n);n.Pa.delete(e),r.M_()&&mC(n,e),n.Pa.size===0&&(r.M_()?r.N_():ji(n)&&n.da.set("Unknown"))}function eg(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qs(t).H_(e)}function mC(t,e){t.Aa.Ke(e),qs(t).J_(e)}function tg(t){t.Aa=new Bj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),qs(t).start(),t.da._a()}function ng(t){return ji(t)&&!qs(t).F_()&&t.Pa.size>0}function ji(t){return oe(t).Ta.size===0}function gC(t){t.Aa=void 0}async function GO(t){t.da.set("Online")}async function KO(t){t.Pa.forEach((e,n)=>{eg(t,e)})}async function QO(t,e){gC(t),ng(t)?(t.da.ca(e),tg(t)):t.da.set("Unknown")}async function YO(t,e,n){if(t.da.set("Online"),e instanceof eC&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Pa.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Pa.delete(a),i.Aa.removeTarget(a))}(t,e)}catch(r){H(Ti,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Kc(t,r)}else if(e instanceof Xl?t.Aa.Xe(e):e instanceof ZS?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(se.min()))try{const r=await dC(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Aa.It(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Pa.get(u);d&&s.Pa.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.Pa.get(l);if(!d)return;s.Pa.set(l,d.withResumeToken(ot.EMPTY_BYTE_STRING,d.snapshotVersion)),mC(s,l);const h=new mr(d.target,l,u,d.sequenceNumber);eg(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){H(Ti,"Failed to raise snapshot:",r),await Kc(t,r)}}async function Kc(t,e,n){if(!Hs(e))throw e;t.Ta.add(1),await Oa(t),t.da.set("Offline"),n||(n=()=>dC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H(Ti,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await zu(t)})}function yC(t,e){return e().catch(n=>Kc(t,n,e))}async function Uu(t){const e=oe(t),n=zr(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:Fm;for(;XO(e);)try{const i=await NO(e.localStore,r);if(i===null){e.ha.length===0&&n.N_();break}r=i.batchId,JO(e,i)}catch(i){await Kc(e,i)}vC(e)&&wC(e)}function XO(t){return ji(t)&&t.ha.length<10}function JO(t,e){t.ha.push(e);const n=zr(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function vC(t){return ji(t)&&!zr(t).F_()&&t.ha.length>0}function wC(t){zr(t).start()}async function ZO(t){zr(t).ta()}async function eF(t){const e=zr(t);for(const n of t.ha)e.Z_(n.mutations)}async function tF(t,e,n){const r=t.ha.shift(),i=qm.from(r,e,n);await yC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Uu(t)}async function nF(t,e){e&&zr(t).Y_&&await async function(r,i){if(function(o){return Oj(o)&&o!==B.ABORTED}(i.code)){const s=r.ha.shift();zr(r).O_(),await yC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Uu(r)}}(t,e),vC(t)&&wC(t)}async function W1(t,e){const n=oe(t);n.asyncQueue.verifyOperationInProgress(),H(Ti,"RemoteStore received new credentials");const r=ji(n);n.Ta.add(3),await Oa(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await zu(n)}async function rF(t,e){const n=oe(t);e?(n.Ta.delete(2),await zu(n)):e||(n.Ta.add(2),await Oa(n),n.da.set("Unknown"))}function qs(t){return t.Ra||(t.Ra=function(n,r,i){const s=oe(n);return s.ra(),new zO(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:GO.bind(null,t),n_:KO.bind(null,t),i_:QO.bind(null,t),j_:YO.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),ng(t)?tg(t):t.da.set("Unknown")):(await t.Ra.stop(),gC(t))})),t.Ra}function zr(t){return t.Va||(t.Va=function(n,r,i){const s=oe(n);return s.ra(),new UO(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:ZO.bind(null,t),i_:nF.bind(null,t),X_:eF.bind(null,t),ea:tF.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await Uu(t)):(await t.Va.stop(),t.ha.length>0&&(H(Ti,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Un,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new rg(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ig(t,e){if(Xn("AsyncQueue",`${e}: ${t}`),Hs(t))return new J(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{static emptySet(e){return new gs(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=Po(),this.sortedSet=new Ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new gs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(){this.ma=new Ne(ee.comparator)}track(e){const n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):ne(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}}class Vs{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Vs(e,n,gs.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class sF{constructor(){this.queries=q1(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const i=oe(n),s=i.queries;i.queries=q1(),s.forEach((o,a)=>{for(const l of a.ya)l.onError(r)})})(this,new J(B.ABORTED,"Firestore shutting down"))}}function q1(){return new Mi(t=>FS(t),Mu)}async function xC(t,e){const n=oe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.wa()&&e.Sa()&&(r=2):(s=new iF,r=e.Sa()?0:1);try{switch(r){case 0:s.pa=await n.onListen(i,!0);break;case 1:s.pa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=ig(o,`Initialization of query '${Hi(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.ya.push(e),e.Da(n.onlineState),s.pa&&e.va(s.pa)&&sg(n)}async function _C(t,e){const n=oe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ya.indexOf(e);o>=0&&(s.ya.splice(o,1),s.ya.length===0?i=e.Sa()?0:1:!s.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function oF(t,e){const n=oe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.ya)a.va(i)&&(r=!0);o.pa=i}}r&&sg(n)}function aF(t,e,n){const r=oe(t),i=r.queries.get(e);if(i)for(const s of i.ya)s.onError(n);r.queries.delete(e)}function sg(t){t.ba.forEach(e=>{e.next()})}var Zf,G1;(G1=Zf||(Zf={})).Ca="default",G1.Cache="cache";class EC{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Vs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=Vs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Zf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.key=e}}class SC{constructor(e){this.key=e}}class lF{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=ue(),this.mutatedKeys=ue(),this.Ha=BS(e),this.Ja=new gs(this.Ha)}get Ya(){return this.Ga}Za(e,n){const r=n?n.Xa:new H1,i=n?n.Ja:this.Ja;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),y=Lu(this.query,h)?h:null,T=!!p&&this.mutatedKeys.has(p.key),S=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let R=!1;p&&y?p.data.isEqual(y.data)?T!==S&&(r.track({type:3,doc:y}),R=!0):this.eu(p,y)||(r.track({type:2,doc:y}),R=!0,(l&&this.Ha(y,l)>0||u&&this.Ha(y,u)<0)&&(a=!0)):!p&&y?(r.track({type:0,doc:y}),R=!0):p&&!y&&(r.track({type:1,doc:p}),R=!0,(l||u)&&(a=!0)),R&&(y?(o=o.add(y),s=S?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ja:o,Xa:r,Cs:a,mutatedKeys:s}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const o=e.Xa.ga();o.sort((d,h)=>function(y,T){const S=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne(20277,{Vt:R})}};return S(y)-S(T)}(d.type,h.type)||this.Ha(d.doc,h.doc)),this.tu(r),i=i!=null&&i;const a=n&&!i?this.nu():[],l=this.ja.size===0&&this.current&&!i?1:0,u=l!==this.za;return this.za=l,o.length!==0||u?{snapshot:new Vs(this.query,e.Ja,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new H1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=ue(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new SC(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new TC(r))}),n}su(e){this.Ga=e.$s,this.ja=ue();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return Vs.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const og="SyncEngine";class cF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class uF{constructor(e){this.key=e,this._u=!1}}class dF{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new Mi(a=>FS(a),Mu),this.cu=new Map,this.lu=new Set,this.hu=new Ne(ee.comparator),this.Pu=new Map,this.Tu=new Qm,this.Iu={},this.Eu=new Map,this.du=Ns.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function hF(t,e,n=!0){const r=RC(t);let i;const s=r.uu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ou()):i=await CC(r,e,n,!0),i}async function fF(t,e){const n=RC(t);await CC(n,e,!0,!1)}async function CC(t,e,n,r){const i=await VO(t.localStore,bn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await pF(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&pC(t.remoteStore,i),a}async function pF(t,e,n,r,i){t.Ru=(h,p,y)=>async function(S,R,x,v){let w=R.view.Za(x);w.Cs&&(w=await F1(S.localStore,R.query,!1).then(({documents:I})=>R.view.Za(I,w)));const V=v&&v.targetChanges.get(R.targetId),M=v&&v.targetMismatches.get(R.targetId)!=null,L=R.view.applyChanges(w,S.isPrimaryClient,V,M);return Q1(S,R.targetId,L.ru),L.snapshot}(t,h,p,y);const s=await F1(t.localStore,e,!0),o=new lF(e,s.$s),a=o.Za(s.documents),l=ja.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);Q1(t,n,u.ru);const d=new cF(e,n,o);return t.uu.set(e,d),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),u.snapshot}async function mF(t,e,n){const r=oe(t),i=r.uu.get(e),s=r.cu.get(i.targetId);if(s.length>1)return r.cu.set(i.targetId,s.filter(o=>!Mu(o,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Xf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Zm(r.remoteStore,i.targetId),ep(r,i.targetId)}).catch(Ws)):(ep(r,i.targetId),await Xf(r.localStore,i.targetId,!0))}async function gF(t,e){const n=oe(t),r=n.uu.get(e),i=n.cu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Zm(n.remoteStore,r.targetId))}async function yF(t,e,n){const r=SF(t);try{const i=await function(o,a){const l=oe(o),u=Ge.now(),d=a.reduce((y,T)=>y.add(T.key),ue());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=Jn(),S=ue();return l.Bs.getEntries(y,d).next(R=>{T=R,T.forEach((x,v)=>{v.isValidDocument()||(S=S.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,T)).next(R=>{h=R;const x=[];for(const v of a){const w=Vj(v,h.get(v.key).overlayedDocument);w!=null&&x.push(new Li(v.key,w,NS(w.value.mapValue),$n.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,x,a)}).next(R=>{p=R;const x=R.applyToLocalDocumentSet(h,S);return l.documentOverlayCache.saveOverlays(y,R.batchId,x)})}).then(()=>({batchId:p.batchId,changes:US(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Iu[o.currentUser.toKey()];u||(u=new Ne(ae)),u=u.insert(a,l),o.Iu[o.currentUser.toKey()]=u}(r,i.batchId,n),await Fa(r,i.changes),await Uu(r.remoteStore)}catch(i){const s=ig(i,"Failed to persist write");n.reject(s)}}async function PC(t,e){const n=oe(t);try{const r=await RO(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Pu.get(s);o&&(ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o._u=!0:i.modifiedDocuments.size>0?ge(o._u,14607):i.removedDocuments.size>0&&(ge(o._u,42227),o._u=!1))}),await Fa(n,r,e)}catch(r){await Ws(r)}}function K1(t,e,n){const r=oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.uu.forEach((s,o)=>{const a=o.view.Da(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=oe(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const p of h.ya)p.Da(a)&&(u=!0)}),u&&sg(l)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vF(t,e,n){const r=oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Pu.get(e),s=i&&i.key;if(s){let o=new Ne(ee.comparator);o=o.insert(s,gt.newNoDocument(s,se.min()));const a=ue().add(s),l=new Fu(se.min(),new Map,new Ne(ae),o,a);await PC(r,l),r.hu=r.hu.remove(s),r.Pu.delete(e),ag(r)}else await Xf(r.localStore,e,!1).then(()=>ep(r,e,n)).catch(Ws)}async function wF(t,e){const n=oe(t),r=e.batch.batchId;try{const i=await IO(n.localStore,e);AC(n,r,null),bC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Fa(n,i)}catch(i){await Ws(i)}}async function xF(t,e,n){const r=oe(t);try{const i=await function(o,a){const l=oe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(ge(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);AC(r,e,n),bC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Fa(r,i)}catch(i){await Ws(i)}}function bC(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function AC(t,e,n){const r=oe(t);let i=r.Iu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function ep(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||IC(t,r)})}function IC(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(Zm(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),ag(t))}function Q1(t,e,n){for(const r of n)r instanceof TC?(t.Tu.addReference(r.key,e),_F(t,r)):r instanceof SC?(H(og,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||IC(t,r.key)):ne(19791,{mu:r})}function _F(t,e){const n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(H(og,"New document in limbo: "+n),t.lu.add(r),ag(t))}function ag(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new ee(Pe.fromString(e)),r=t.du.next();t.Pu.set(r,new uF(n)),t.hu=t.hu.insert(n,r),pC(t.remoteStore,new mr(bn(Wm(n.path)),r,"TargetPurposeLimboResolution",ku.le))}}async function Fa(t,e,n){const r=oe(t),i=[],s=[],o=[];r.uu.isEmpty()||(r.uu.forEach((a,l)=>{o.push(r.Ru(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Xm.Rs(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.au.j_(i),await async function(l,u){const d=oe(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>F.forEach(u,p=>F.forEach(p.ds,y=>d.persistence.referenceDelegate.addReference(h,p.targetId,y)).next(()=>F.forEach(p.As,y=>d.persistence.referenceDelegate.removeReference(h,p.targetId,y)))))}catch(h){if(!Hs(h))throw h;H(Jm,"Failed to update sequence numbers: "+h)}for(const h of u){const p=h.targetId;if(!h.fromCache){const y=d.xs.get(p),T=y.snapshotVersion,S=y.withLastLimboFreeSnapshotVersion(T);d.xs=d.xs.insert(p,S)}}}(r.localStore,s))}async function EF(t,e){const n=oe(t);if(!n.currentUser.isEqual(e)){H(og,"User change. New user:",e.toKey());const r=await uC(n.localStore,e);n.currentUser=e,function(s,o){s.Eu.forEach(a=>{a.forEach(l=>{l.reject(new J(B.CANCELLED,o))})}),s.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fa(n,r.ks)}}function TF(t,e){const n=oe(t),r=n.Pu.get(e);if(r&&r._u)return ue().add(r.key);{let i=ue();const s=n.cu.get(e);if(!s)return i;for(const o of s){const a=n.uu.get(o);i=i.unionWith(a.view.Ya)}return i}}function RC(t){const e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vF.bind(null,e),e.au.j_=oF.bind(null,e.eventManager),e.au.Vu=aF.bind(null,e.eventManager),e}function SF(t){const e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xF.bind(null,e),e}class Qc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bu(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return AO(this.persistence,new CO,e.initialUser,this.serializer)}yu(e){return new cC(Ym.fi,this.serializer)}pu(e){return new MO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qc.provider={build:()=>new Qc};class CF extends Qc{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){ge(this.persistence.referenceDelegate instanceof Gc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new uO(r,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?It.withCacheSize(this.cacheSizeBytes):It.DEFAULT;return new cC(r=>Gc.fi(r,n),this.serializer)}}class tp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>K1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EF.bind(null,this.syncEngine),await rF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new sF}()}createDatastore(e){const n=Bu(e.databaseInfo.databaseId),r=function(s){return new BO(s)}(e.databaseInfo);return function(s,o,a,l){return new WO(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new qO(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>K1(this.syncEngine,n,0),function(){return U1.C()?new U1:new LO}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const h=new dF(i,s,o,a,l,u);return d&&(h.Au=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=oe(i);H(Ti,"RemoteStore shutting down."),s.Ta.add(5),await Oa(s),s.Ea.shutdown(),s.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}tp.provider={build:()=>new tp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Xn("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="FirestoreClient";class PF{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pt.UNAUTHENTICATED,this.clientId=_S.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{H(Ur,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(H(Ur,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Un;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ig(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ph(t,e){t.asyncQueue.verifyOperationInProgress(),H(Ur,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await uC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Y1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await bF(t);H(Ur,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>W1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>W1(e.remoteStore,i)),t._onlineComponents=e}async function bF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H(Ur,"Using user provided OfflineComponentProvider");try{await ph(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;As("Error using user provided cache. Falling back to memory cache: "+n),await ph(t,new Qc)}}else H(Ur,"Using default OfflineComponentProvider"),await ph(t,new CF(void 0));return t._offlineComponents}async function NC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H(Ur,"Using user provided OnlineComponentProvider"),await Y1(t,t._uninitializedComponentsProvider._online)):(H(Ur,"Using default OnlineComponentProvider"),await Y1(t,new tp))),t._onlineComponents}function AF(t){return NC(t).then(e=>e.syncEngine)}async function VC(t){const e=await NC(t),n=e.eventManager;return n.onListen=hF.bind(null,e.syncEngine),n.onUnlisten=mF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=fF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gF.bind(null,e.syncEngine),n}function IF(t,e,n={}){const r=new Un;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new kC({next:p=>{d.Cu(),o.enqueueAndForget(()=>_C(s,h));const y=p.docs.has(a);!y&&p.fromCache?u.reject(new J(B.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&l&&l.source==="server"?u.reject(new J(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new EC(Wm(a.path),d,{includeMetadataChanges:!0,La:!0});return xC(s,h)}(await VC(t),t.asyncQueue,e,n,r)),r.promise}function RF(t,e,n={}){const r=new Un;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new kC({next:p=>{d.Cu(),o.enqueueAndForget(()=>_C(s,h)),p.fromCache&&l.source==="server"?u.reject(new J(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),h=new EC(a,d,{includeMetadataChanges:!0,La:!0});return xC(s,h)}(await VC(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(t,e,n){if(!n)throw new J(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kF(t,e,n,r){if(e===!0&&r===!0)throw new J(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function J1(t){if(!ee.isDocumentKey(t))throw new J(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Z1(t){if(ee.isDocumentKey(t))throw new J(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne(12329,{type:typeof t})}function Ds(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lg(t);throw new J(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="firestore.googleapis.com",ew=!0;class tw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LC,this.ssl=ew}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:ew;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lO)throw new J(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $u{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new FL;switch(r.type){case"firstParty":return new $L(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=X1.get(n);r&&(H("ComponentProvider","Removing Datastore"),X1.delete(n),r.terminate())}(this),Promise.resolve()}}function NF(t,e,n,r={}){var i;t=Ds(t,$u);const s=Mm(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&(d4(`https://${l}`),m4("Firestore",!0)),o.host!==LC&&o.host!==l&&As("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!ya(u,a)&&(t._setSettings(u),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=pt.MOCK_USER;else{d=h4(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new J(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new pt(p)}t._authCredentials=new BL(new wS(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wu(this.firestore,e,this._query)}}class sn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}}class kr extends Wu{constructor(e,n,r){super(e,n,Wm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new ee(e))}withConverter(e){return new kr(this.firestore,e,this._path)}}function Si(t,e,...n){if(t=_i(t),MC("collection","path",e),t instanceof $u){const r=Pe.fromString(e,...n);return Z1(r),new kr(t,null,r)}{if(!(t instanceof sn||t instanceof kr))throw new J(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return Z1(r),new kr(t.firestore,null,r)}}function np(t,e,...n){if(t=_i(t),arguments.length===1&&(e=_S.newId()),MC("doc","path",e),t instanceof $u){const r=Pe.fromString(e,...n);return J1(r),new sn(t,null,new ee(r))}{if(!(t instanceof sn||t instanceof kr))throw new J(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return J1(r),new sn(t.firestore,t instanceof kr?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="AsyncQueue";class rw{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new hC(this,"async_queue_retry"),this.ec=()=>{const r=fh();r&&H(nw,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const n=fh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=fh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new Un;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Hs(e))throw e;H(nw,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Xn("INTERNAL UNHANDLED ERROR: ",iw(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const i=rg.createAndSchedule(this,e,n,r,s=>this.oc(s));return this.Hu.push(i),i}nc(){this.Ju&&ne(47125,{_c:iw(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function iw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Hu extends $u{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new rw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rw(e),this._firestoreClient=void 0,await e}}}function VF(t,e){const n=typeof t=="object"?t:cS(),r=typeof t=="string"?t:e||Bc,i=Ma(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=c4("firestore");s&&NF(i,...s)}return i}function cg(t){if(t._terminated)throw new J(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||DF(t),t._firestoreClient}function DF(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new ij(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,DC(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new PF(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ms(ot.fromBase64String(e))}catch(n){throw new J(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ms(ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF=/^__.*__$/;class LF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Li(e,this.data,this.fieldMask,n,this.fieldTransforms):new La(e,this.data,n,this.fieldTransforms)}}function OC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne(40011,{hc:t})}}class fg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new fg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Yc(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(OC(this.hc)&&MF.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class jF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Bu(e)}gc(e,n,r,i=!1){return new fg({hc:e,methodName:n,fc:r,path:rt.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function OF(t){const e=t._freezeSettings(),n=Bu(t._databaseId);return new jF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function FF(t,e,n,r,i,s={}){const o=t.gc(s.merge||s.mergeFields?2:0,e,n,i);UC("Data must be an object, but it was:",o,r);const a=BC(r,o);let l,u;if(s.merge)l=new mn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const p=BF(e,h,n);if(!o.contains(p))throw new J(B.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);UF(d,p)||d.push(p)}l=new mn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new LF(new tn(a),l,u)}function FC(t,e){if(zC(t=_i(t)))return UC("Unsupported field value:",e,t),BC(t,e);if(t instanceof jC)return function(r,i){if(!OC(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=FC(a,i.Rc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=_i(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ge.fromDate(r);return{timestampValue:qc(i.serializer,s)}}if(r instanceof Ge){const s=new Ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qc(i.serializer,s)}}if(r instanceof dg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ms)return{bytesValue:tC(i.serializer,r._byteString)};if(r instanceof sn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Km(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof hg)return function(o,a){return{mapValue:{fields:{[IS]:{stringValue:kS},[zc]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Vc("VectorValues must only contain numeric values.");return Hm(a.serializer,u)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${lg(r)}`)}(t,e)}function BC(t,e){const n={};return TS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Di(t,(r,i)=>{const s=FC(i,e.Ic(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function zC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof dg||t instanceof Ms||t instanceof sn||t instanceof jC||t instanceof hg)}function UC(t,e,n){if(!zC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=lg(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function BF(t,e,n){if((e=_i(e))instanceof ug)return e._internalPath;if(typeof e=="string")return $C(t,e);throw Yc("Field path arguments must be of type string or ",t,!1,void 0,n)}const zF=new RegExp("[~\\*/\\[\\]]");function $C(t,e,n){if(e.search(zF)>=0)throw Yc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ug(...e.split("."))._internalPath}catch{throw Yc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Yc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new J(B.INVALID_ARGUMENT,a+t+l)}function UF(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $F(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(HC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $F extends WC{data(){return super.data()}}function HC(t,e){return typeof e=="string"?$C(t,e):e instanceof ug?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class HF{convertValue(e,n="none"){switch(Br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Di(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[zc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>je(o.doubleValue));return new hg(s)}convertGeoPoint(e){return new dg(je(e.latitude),je(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Vu(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xa(e));default:return null}}convertTimestamp(e){const n=Or(e);return new Ge(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pe.fromString(e);ge(aC(r),9688,{name:e});const i=new _a(r.get(1),r.get(3)),s=new ee(r.popFirst(5));return i.isEqual(n)||Xn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qF(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qC extends WC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(HC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Jl extends qC{data(e={}){return super.data(e)}}class GF{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ao(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Jl(this._firestore,this._userDataWriter,r.key,r,new Ao(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Jl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ao(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Jl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ao(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:KF(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function KF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(t){t=Ds(t,sn);const e=Ds(t.firestore,Hu);return IF(cg(e),t._key).then(n=>XF(e,t,n))}class GC extends HF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ms(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function Ls(t){t=Ds(t,Wu);const e=Ds(t.firestore,Hu),n=cg(e),r=new GC(e);return WF(t._query),RF(n,t._query).then(i=>new GF(e,r,t,i))}function QF(t,e){const n=Ds(t.firestore,Hu),r=np(t),i=qF(t.converter,e);return YF(n,[FF(OF(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,$n.exists(!1))]).then(()=>r)}function YF(t,e){return function(r,i){const s=new Un;return r.asyncQueue.enqueueAndForget(async()=>yF(await AF(r),i,s)),s.promise}(cg(t),e)}function XF(t,e,n){const r=n.docs.get(e._key),i=new GC(t);return new qC(t,i,e._key,r,new Ao(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){$s=i})(PL),Lr(new Qn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Hu(new zL(r.getProvider("auth-internal")),new WL(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new J(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _a(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Pn(c1,u1,e),Pn(c1,u1,"esm2017")})();const KC="@firebase/installations",pg="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=1e4,YC=`w:${pg}`,XC="FIS_v2",JF="https://firebaseinstallations.googleapis.com/v1",ZF=60*60*1e3,e3="installations",t3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ci=new Ru(e3,t3,n3);function JC(t){return t instanceof Qr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC({projectId:t}){return`${JF}/projects/${t}/installations`}function eP(t){return{token:t.token,requestStatus:2,expiresIn:i3(t.expiresIn),creationTime:Date.now()}}async function tP(t,e){const r=(await e.json()).error;return Ci.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function nP({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function r3(t,{refreshToken:e}){const n=nP(t);return n.append("Authorization",s3(e)),n}async function rP(t){const e=await t();return e.status>=500&&e.status<600?t():e}function i3(t){return Number(t.replace("s","000"))}function s3(t){return`${XC} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o3({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=ZC(t),i=nP(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:XC,appId:t.appId,sdkVersion:YC},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await rP(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:eP(u.authToken)}}else throw await tP("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=/^[cdef][\w-]{21}$/,rp="";function c3(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=u3(t);return l3.test(n)?n:rp}catch{return rp}}function u3(t){return a3(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=new Map;function oP(t,e){const n=qu(t);aP(n,e),d3(n,e)}function aP(t,e){const n=sP.get(t);if(n)for(const r of n)r(e)}function d3(t,e){const n=h3();n&&n.postMessage({key:t,fid:e}),f3()}let fi=null;function h3(){return!fi&&"BroadcastChannel"in self&&(fi=new BroadcastChannel("[Firebase] FID Change"),fi.onmessage=t=>{aP(t.data.key,t.data.fid)}),fi}function f3(){sP.size===0&&fi&&(fi.close(),fi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3="firebase-installations-database",m3=1,Pi="firebase-installations-store";let mh=null;function mg(){return mh||(mh=aS(p3,m3,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Pi)}}})),mh}async function Xc(t,e){const n=qu(t),i=(await mg()).transaction(Pi,"readwrite"),s=i.objectStore(Pi),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&oP(t,e.fid),e}async function lP(t){const e=qu(t),r=(await mg()).transaction(Pi,"readwrite");await r.objectStore(Pi).delete(e),await r.done}async function Gu(t,e){const n=qu(t),i=(await mg()).transaction(Pi,"readwrite"),s=i.objectStore(Pi),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&oP(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gg(t){let e;const n=await Gu(t.appConfig,r=>{const i=g3(r),s=y3(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===rp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function g3(t){const e=t||{fid:c3(),registrationStatus:0};return cP(e)}function y3(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ci.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=v3(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:w3(t)}:{installationEntry:e}}async function v3(t,e){try{const n=await o3(t,e);return Xc(t.appConfig,n)}catch(n){throw JC(n)&&n.customData.serverCode===409?await lP(t.appConfig):await Xc(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function w3(t){let e=await ow(t.appConfig);for(;e.registrationStatus===1;)await iP(100),e=await ow(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await gg(t);return r||n}return e}function ow(t){return Gu(t,e=>{if(!e)throw Ci.create("installation-not-found");return cP(e)})}function cP(t){return x3(t)?{fid:t.fid,registrationStatus:0}:t}function x3(t){return t.registrationStatus===1&&t.registrationTime+QC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _3({appConfig:t,heartbeatServiceProvider:e},n){const r=E3(t,n),i=r3(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:YC,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await rP(()=>fetch(r,a));if(l.ok){const u=await l.json();return eP(u)}else throw await tP("Generate Auth Token",l)}function E3(t,{fid:e}){return`${ZC(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yg(t,e=!1){let n;const r=await Gu(t.appConfig,s=>{if(!uP(s))throw Ci.create("not-registered");const o=s.authToken;if(!e&&C3(o))return s;if(o.requestStatus===1)return n=T3(t,e),s;{if(!navigator.onLine)throw Ci.create("app-offline");const a=b3(s);return n=S3(t,a),a}});return n?await n:r.authToken}async function T3(t,e){let n=await aw(t.appConfig);for(;n.authToken.requestStatus===1;)await iP(100),n=await aw(t.appConfig);const r=n.authToken;return r.requestStatus===0?yg(t,e):r}function aw(t){return Gu(t,e=>{if(!uP(e))throw Ci.create("not-registered");const n=e.authToken;return A3(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function S3(t,e){try{const n=await _3(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Xc(t.appConfig,r),n}catch(n){if(JC(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await lP(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Xc(t.appConfig,r)}throw n}}function uP(t){return t!==void 0&&t.registrationStatus===2}function C3(t){return t.requestStatus===2&&!P3(t)}function P3(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+ZF}function b3(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function A3(t){return t.requestStatus===1&&t.requestTime+QC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I3(t){const e=t,{installationEntry:n,registrationPromise:r}=await gg(e);return r?r.catch(console.error):yg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R3(t,e=!1){const n=t;return await k3(n),(await yg(n,e)).token}async function k3(t){const{registrationPromise:e}=await gg(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(t){if(!t||!t.options)throw gh("App Configuration");if(!t.name)throw gh("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw gh(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function gh(t){return Ci.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP="installations",V3="installations-internal",D3=t=>{const e=t.getProvider("app").getImmediate(),n=N3(e),r=Ma(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},M3=t=>{const e=t.getProvider("app").getImmediate(),n=Ma(e,dP).getImmediate();return{getId:()=>I3(n),getToken:i=>R3(n,i)}};function L3(){Lr(new Qn(dP,D3,"PUBLIC")),Lr(new Qn(V3,M3,"PRIVATE"))}L3();Pn(KC,pg);Pn(KC,pg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc="analytics",j3="firebase_id",O3="origin",F3=60*1e3,B3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt=new Lm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},$t=new Ru("analytics","Analytics",z3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(t){if(!t.startsWith(vg)){const e=$t.create("invalid-gtag-resource",{gtagURL:t});return Mt.warn(e.message),""}return t}function hP(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function $3(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function W3(t,e){const n=$3("firebase-js-sdk-policy",{createScriptURL:U3}),r=document.createElement("script"),i=`${vg}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function H3(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function q3(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await hP(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){Mt.error(a)}t("config",i,s)}async function G3(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await hP(n);for(const l of o){const u=a.find(h=>h.measurementId===l),d=u&&e[u.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Mt.error(s)}}function K3(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await G3(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await q3(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Mt.error(a)}}return i}function Q3(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=K3(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function Y3(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(vg)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=30,J3=1e3;class Z3{constructor(e={},n=J3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const fP=new Z3;function e6(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function t6(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:e6(r)},s=B3.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw $t.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function n6(t,e=fP,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw $t.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw $t.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new s6;return setTimeout(async()=>{a.abort()},n!==void 0?n:F3),pP({appId:r,apiKey:i,measurementId:s},o,a,e)}async function pP(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=fP){var s;const{appId:o,measurementId:a}=t;try{await r6(r,e)}catch(l){if(a)return Mt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await t6(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!i6(u)){if(i.deleteThrottleMetadata(o),a)return Mt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const d=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?Z0(n,i.intervalMillis,X3):Z0(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(o,h),Mt.debug(`Calling attemptFetch again in ${d} millis`),pP(t,h,r,i)}}function r6(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r($t.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function i6(t){if(!(t instanceof Qr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class s6{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function o6(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a6(){if(rS())try{await iS()}catch(t){return Mt.warn($t.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Mt.warn($t.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function l6(t,e,n,r,i,s,o){var a;const l=n6(t);l.then(y=>{n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&Mt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>Mt.error(y)),e.push(l);const u=a6().then(y=>{if(y)return r.getId()}),[d,h]=await Promise.all([l,u]);Y3(s)||W3(s,d.measurementId),i("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[O3]="firebase",p.update=!0,h!=null&&(p[j3]=h),i("config",d.measurementId,p),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e){this.app=e}_delete(){return delete Go[this.app.options.appId],Promise.resolve()}}let Go={},lw=[];const cw={};let yh="dataLayer",u6="gtag",uw,mP,dw=!1;function d6(){const t=[];if(v4()&&t.push("This is a browser extension environment."),x4()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=$t.create("invalid-analytics-context",{errorInfo:e});Mt.warn(n.message)}}function h6(t,e,n){d6();const r=t.options.appId;if(!r)throw $t.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Mt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw $t.create("no-api-key");if(Go[r]!=null)throw $t.create("already-exists",{id:r});if(!dw){H3(yh);const{wrappedGtag:s,gtagCore:o}=Q3(Go,lw,cw,yh,u6);mP=s,uw=o,dw=!0}return Go[r]=l6(t,lw,cw,e,uw,yh,n),new c6(t)}function f6(t=cS()){t=_i(t);const e=Ma(t,Jc);return e.isInitialized()?e.getImmediate():p6(t)}function p6(t,e={}){const n=Ma(t,Jc);if(n.isInitialized()){const i=n.getImmediate();if(ya(e,n.getOptions()))return i;throw $t.create("already-initialized")}return n.initialize({options:e})}function m6(t,e,n,r){t=_i(t),o6(mP,Go[t.app.options.appId],e,n,r).catch(i=>Mt.error(i))}const hw="@firebase/analytics",fw="0.10.16";function g6(){Lr(new Qn(Jc,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return h6(r,i,n)},"PUBLIC")),Lr(new Qn("analytics-internal",t,"PRIVATE")),Pn(hw,fw),Pn(hw,fw,"esm2017");function t(e){try{const n=e.getProvider(Jc).getImmediate();return{logEvent:(r,i,s)=>m6(n,r,i,s)}}catch(n){throw $t.create("interop-component-reg-failed",{reason:n})}}}g6();const y6={apiKey:"AIzaSyCEOZg9yIUomHqeoh5w6QRA0lyvFQev7_s",authDomain:"c-cube-eg.firebaseapp.com",databaseURL:"https://c-cube-eg-default-rtdb.europe-west1.firebasedatabase.app",projectId:"c-cube-eg",storageBucket:"c-cube-eg.firebasestorage.app",messagingSenderId:"386897939069",appId:"1:386897939069:web:80d4f3bdd82b69e395ff14",measurementId:"G-7C3WZ5X12M"},gP=lS(y6),Ct=VF(gP);f6(gP);const pw=[{name:"Two-Tone Crochet Bag",category:"Crochet > Bags",description:"Beautiful handcrafted two-tone crochet bag made with premium cotton yarn. Perfect for everyday use or special occasions.",price:"200",colors:["Black & White","Black & Beige","Black & Pink","Plum & Lavender","White & Purple","White & Pink","White & Baby Blue","Baby Blue & Blue"],images:["https://res.cloudinary.com/do0cup3rt/image/upload/v1748794342/Two_Tone_Crochet_Bag_01_zejxez.jpg","https://res.cloudinary.com/do0cup3rt/image/upload/v1748794462/Two_Tone_Crochet_Bag_02_hmixcx.jpg","https://res.cloudinary.com/do0cup3rt/image/upload/v1748794145/WhatsApp_Image_2025-05-22_at_22.18.27_25ce645e_wmit7s.jpg","https://res.cloudinary.com/do0cup3rt/image/upload/v1748794535/Two_Tone_Crochet_Bag_03_qrppkj.jpg"],sizes:"Original",inStock:!0,featured:!0},{name:"Multi-Size Crochet Tote",category:"Crochet > Bags",description:"Versatile crochet tote bag available in multiple sizes. Perfect for shopping, beach trips, or everyday use.",colors:["Natural Beige","Ocean Blue","Forest Green","Sunset Orange"],images:["https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=400","https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400"],sizes:["Small","Medium","Large","Extra Large"],price:{small:200,medium:250,large:300,"extra large":350},inStock:!0,featured:!0},{name:"Pearl Shell Crochet Bag",category:"Crochet > Bags",description:"Elegant pearl shell crochet bag with beautiful texture and premium finish.",colors:["Beige","White"],images:["https://res.cloudinary.com/do0cup3rt/image/upload/v1748792336/Pearl_Shell_Crochet_Bag_oyrwcl.jpg"],sizes:["Small","Large"],price:{small:200,large:400},inStock:!0,featured:!0},{name:"Lavender Soy Candle",category:"Candles > Scented",description:"Relaxing lavender scented soy candle with 40+ hour burn time. Hand-poured with natural ingredients.",price:"18.50",colors:["Lavender Purple","Natural White"],images:["https://images.unsplash.com/photo-1602874801006-2bd9c2f3c9a4?w=400","https://images.unsplash.com/photo-1571115764595-644a1f56a55c?w=400"],sizes:"Standard",inStock:!0,featured:!1},{name:"Ceramic Coffee Mug",category:"Clay > Mugs",description:"Handthrown ceramic coffee mug with unique glaze pattern. Microwave and dishwasher safe.",colors:["Ocean Blue","Forest Green","Sunset Orange"],images:["https://images.unsplash.com/photo-1544787219-7f47ccb76574?w=400","https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400"],sizes:["8oz","12oz","16oz"],price:{"8oz":180,"12oz":220,"16oz":260},inStock:!0,featured:!0},{name:"Macrame Wall Hanging",category:"Crafts > Wall Art",description:"Bohemian style macrame wall hanging made with natural cotton cord. Adds texture to any room.",price:"35.00",colors:["Natural Beige","Cream White"],images:["https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400","https://images.unsplash.com/photo-1571115764595-644a1f56a55c?w=400"],sizes:"Medium",inStock:!0,featured:!1},{name:"Concrete Plant Pot",category:"Concrete > Planters",description:"Modern concrete plant pot with drainage hole. Perfect for succulents and small plants.",price:"28.75",colors:["Natural Gray","Charcoal Black","White"],images:["https://images.unsplash.com/photo-1485955900006-10f4d324d411?w=400","https://images.unsplash.com/photo-1416879595882-3373a0480b5b?w=400"],sizes:"Small",inStock:!0,featured:!1}],v6=async()=>{try{return(await Ls(Si(Ct,"products"))).size>0}catch(t){return console.error("Error checking products:",t),!1}},w6=async()=>{try{if(console.log("Adding sample products to Firestore..."),await v6())return console.log("Products already exist in Firestore"),{success:!0,message:"Products already exist"};const e=pw.map(async n=>{const r=await QF(Si(Ct,"products"),{...n,createdAt:new Date,updatedAt:new Date});return console.log(`Added product: ${n.name} with ID: ${r.id}`),r});return await Promise.all(e),console.log("All sample products added successfully!"),{success:!0,message:`Successfully added ${pw.length} products to Firestore!`}}catch(t){return console.error("Error adding sample products:",t),{success:!1,message:`Error adding products: ${t.message}`}}},x6=async()=>{console.log(" Starting Firestore Debug...");try{console.log(" Database instance:",Ct),console.log(" Fetching products collection...");const t=Si(Ct,"products");console.log(" Products collection reference:",t);const e=await Ls(t);console.log(" Query snapshot:",e),console.log(" Number of documents:",e.size);const n=[],r=[];if(e.forEach(i=>{console.log(" Document ID:",i.id);const s=i.data();console.log(" Document data:",s),console.log(" Document data type:",typeof s),console.log(" Document keys:",Object.keys(s)),n.push({id:i.id,data:s}),Array.isArray(s.products)?(console.log(" Found products array with",s.products.length,"items"),s.products.forEach((o,a)=>{console.log(` Product ${a}:`,o),r.push(o)})):Array.isArray(s.productList)?(console.log(" Found productList array with",s.productList.length,"items"),s.productList.forEach((o,a)=>{console.log(` Product ${a}:`,o),r.push(o)})):(console.log(" Treating document as individual product"),r.push({id:i.id,...s}))}),console.log(" All documents:",n),console.log(" All extracted products:",r),r.length===0){console.log(" No products found. Checking if crob01 and crob02 exist...");try{const i=np(Ct,"products","crob01"),s=await sw(i);console.log(" crob01 exists:",s.exists()),s.exists()&&console.log(" crob01 data:",s.data())}catch(i){console.error(" Error fetching crob01:",i)}try{const i=np(Ct,"products","crob02"),s=await sw(i);console.log(" crob02 exists:",s.exists()),s.exists()&&console.log(" crob02 data:",s.data())}catch(i){console.error(" Error fetching crob02:",i)}}return{success:!0,productsCount:e.size,products:r}}catch(t){return console.error(" Firestore Debug Error:",t),console.error(" Error code:",t.code),console.error(" Error message:",t.message),{success:!1,error:t.message,errorCode:t.code}}},_6=()=>{console.log(" Checking Firebase configuration...");try{return console.log(" Database app:",Ct.app),console.log(" Database app name:",Ct.app.name),console.log(" Database app options:",Ct.app.options),{success:!0,appName:Ct.app.name,projectId:Ct.app.options.projectId}}catch(t){return console.error(" Firebase config error:",t),{success:!1,error:t.message}}},Zl=async()=>{try{console.log(" Fetching products with flexible structure detection...");const t=await Ls(Si(Ct,"products")),e=[];return console.log(` Found ${t.size} documents in products collection`),t.forEach(n=>{const r=n.data(),i=n.id;if(console.log(` Processing document: ${i}`),console.log(" Document data:",r),r.products&&Array.isArray(r.products))console.log(` Found 'products' array with ${r.products.length} items in document ${i}`),r.products.forEach((s,o)=>{const a={...s,id:s.id||`${i}_product_${o}`,sourceDocument:i,sourceIndex:o};console.log(" Adding product from array:",a),e.push(a)});else if(r.productList&&Array.isArray(r.productList))console.log(` Found 'productList' array with ${r.productList.length} items in document ${i}`),r.productList.forEach((s,o)=>{const a={...s,id:s.id||`${i}_productList_${o}`,sourceDocument:i,sourceIndex:o};console.log(" Adding product from productList:",a),e.push(a)});else if(r.items&&Array.isArray(r.items))console.log(` Found 'items' array with ${r.items.length} items in document ${i}`),r.items.forEach((s,o)=>{const a={...s,id:s.id||`${i}_item_${o}`,sourceDocument:i,sourceIndex:o};console.log(" Adding product from items:",a),e.push(a)});else if(r.name||r.title||r.productName){console.log(` Treating document ${i} as individual product`);const s={...r,id:i,sourceDocument:i};console.log(" Adding individual product:",s),e.push(s)}else console.log(` Checking for any array fields in document ${i}`),Object.keys(r).forEach(s=>{if(Array.isArray(r[s])&&r[s].length>0){const o=r[s][0];typeof o=="object"&&(o.name||o.title||o.productName)&&(console.log(` Found potential products array in field '${s}' with ${r[s].length} items`),r[s].forEach((a,l)=>{const u={...a,id:a.id||`${i}_${s}_${l}`,sourceDocument:i,sourceField:s,sourceIndex:l};console.log(` Adding product from field ${s}:`,u),e.push(u)}))}})}),console.log(` Successfully extracted ${e.length} products total`),console.log(" Final products list:",e),{success:!0,products:e,totalDocuments:t.size,totalProducts:e.length}}catch(t){return console.error(" Error fetching products:",t),{success:!1,error:t.message,products:[]}}},mw=["All","Crochet","Candles","Crafts","Clay","Concrete","Canvas"],E6=()=>{const t=Ri(),{toast:e}=zs(),[n,r]=b.useState([]),[i,s]=b.useState(["All"]),[o,a]=b.useState([0,1e3]),[l,u]=b.useState([0,1e3]),[d,h]=b.useState(!1),[p,y]=b.useState(!0),[T,S]=b.useState(null),[R,x]=b.useState(!1),v=P=>{const E=[];if(typeof P.price=="string"){const O=parseFloat(P.price);isNaN(O)||E.push(O)}else typeof P.price=="number"?E.push(P.price):typeof P.price=="object"&&P.price!==null&&Object.values(P.price).forEach(O=>{const G=parseFloat(O);isNaN(G)||E.push(G)});return E},w=P=>{if(!P||P.length===0)return[0,1e3];let E=1/0,O=-1/0;if(P.forEach(z=>{v(z).forEach(X=>{E=Math.min(E,X),O=Math.max(O,X)})}),E===1/0||O===-1/0)return[0,1e3];const G=(O-E)*.1,Y=Math.max(0,Math.floor(E-G)),re=Math.ceil(O+G);return[Y,re]},V=(P,E)=>{const O=v(P);return O.length===0?!1:O.some(G=>G>=E[0]&&G<=E[1])};b.useEffect(()=>{(async()=>{try{y(!0),S(null),console.log(" Fetching products from Firestore with flexible structure detection...");const E=await Zl();if(E.success){console.log(` Successfully fetched ${E.totalProducts} products from ${E.totalDocuments} documents`),r(E.products);const O=w(E.products);u(O),a(O),E.products.length===0&&console.log(" No products found. Documents exist but no product data extracted.")}else{console.error(" Flexible fetch failed, trying simple approach...");const G=(await Ls(Si(Ct,"products"))).docs.map(re=>({id:re.id,...re.data()}));console.log(" Simple fetch result:",G),r(G);const Y=w(G);u(Y),a(Y)}}catch(E){console.error(" Error fetching products:",E),S("Failed to load products. Please try again later.")}finally{y(!1)}})()},[]);const M=async()=>{try{x(!0);const P=await w6();if(P.success){e({title:" Success!",description:P.message,duration:3e3});const E=await Zl();if(E.success){r(E.products);const O=w(E.products);u(O),a(O)}else{const G=(await Ls(Si(Ct,"products"))).docs.map(re=>({id:re.id,...re.data()}));r(G);const Y=w(G);u(Y),a(Y)}}else e({title:" Error",description:P.message,duration:5e3})}catch(P){console.error("Error adding sample products:",P),e({title:" Error",description:"Failed to add sample products. Please try again.",duration:5e3})}finally{x(!1)}},L=async()=>{console.log(" Running Firestore Debug...");const P=_6();console.log(" Config result:",P);const E=await x6();console.log(" Debug result:",E),e({title:" Debug Complete",description:`Found ${E.productsCount||0} products. Check console for details.`,duration:5e3})},I=async()=>{console.log(" Testing flexible product fetching...");const P=await Zl();if(console.log(" Flexible fetch result:",P),P.success){r(P.products);const E=w(P.products);u(E),a(E),e({title:" Flexible Fetch Complete",description:`Found ${P.totalProducts} products from ${P.totalDocuments} documents`,duration:5e3})}else e({title:" Flexible Fetch Failed",description:P.error,duration:5e3})};b.useEffect(()=>{const E=new URLSearchParams(t.search).get("category");if(E&&mw.map(O=>O.toLowerCase()).includes(E)){const O=E.charAt(0).toUpperCase()+E.slice(1);s([O])}else s(["All"])},[t.search]);const _=P=>{s(E=>{if(P==="All")return["All"];const O=E.includes("All")?[]:[...E];if(O.includes(P)){const G=O.filter(Y=>Y!==P);return G.length===0?["All"]:G}else return[...O,P]})},k=b.useMemo(()=>{console.log(" Filtering products..."),console.log(" All products for filtering:",n),console.log(" Selected categories:",i),console.log(" Price range:",o);const P=n.filter(E=>{console.log(" Checking product:",E);let O=!1;if(i.includes("All"))O=!0,console.log(` "All" selected - including "${E.name}"`);else{for(const z of i){const W=z.toLowerCase(),X=E.category||"",K=E.id||"",ie=X.toLowerCase().startsWith(W);let Z=!1;W==="crochet"?Z=K.toLowerCase().startsWith("cro"):W==="candles"?Z=K.toLowerCase().startsWith("cand"):W==="crafts"?Z=K.toLowerCase().startsWith("cra"):W==="clay"?Z=K.toLowerCase().startsWith("cla"):W==="concrete"?Z=K.toLowerCase().startsWith("con"):W==="canvas"&&(Z=K.toLowerCase().startsWith("canv"));const Ye=X.toLowerCase()===W;if(ie||Z||Ye){O=!0,console.log(` Category match for "${E.name}": category="${X}", id="${K}", selectedCategory="${z}", categoryStarts=${ie}, idPrefix=${Z}, exactMatch=${Ye}`);break}}O||console.log(` No category match for "${E.name}": category="${E.category}", id="${E.id}", selectedCategories=${i.join(", ")}`)}const G=V(E,o),Y=v(E);console.log(` Price check for "${E.name}": price="${E.price}", extracted prices=${JSON.stringify(Y)}, range=[${o[0]}, ${o[1]}], match=${G}`);const re=O&&G;return console.log(` Include "${E.name}": ${re} (category: ${O}, price: ${G})`),re});return console.log(" Filtered products:",P),P},[i,o,n]),N={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},A={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100}}};return g.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-16 animate-fade-in",children:[g.jsx(Q.h1,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"text-4xl md:text-5xl font-bold text-pastel-accent text-center mb-12",children:"Our Handmade Collection"}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[g.jsxs(Q.aside,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:`md:w-1/4 bg-pastel-light p-6 rounded-xl shadow-lg md:sticky md:top-24 h-fit ${d?"block":"hidden"} md:block`,children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h2",{className:"text-2xl font-semibold text-pastel-accent",children:"Filters"}),g.jsx(fe,{variant:"ghost",size:"icon",className:"md:hidden text-pastel-accent",onClick:()=>h(!1),children:g.jsx(Cm,{size:24})})]}),g.jsxs("div",{className:"mb-8",children:[g.jsx("h3",{className:"text-lg font-medium text-pastel-accent mb-3",children:"Categories"}),g.jsx("div",{className:"space-y-2",children:mw.map(P=>g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(VT,{id:P,checked:i.includes(P),onCheckedChange:()=>_(P),className:"data-[state=checked]:bg-pastel-dark data-[state=checked]:text-pastel-bg border-pastel-medium"}),g.jsx(dn,{htmlFor:P,className:"text-pastel-accent/90 cursor-pointer hover:text-pastel-dark",children:P})]},P))})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-medium text-pastel-accent mb-3",children:"Price Range"}),g.jsx(ZT,{defaultValue:l,min:l[0],max:l[1],step:1,value:o,onValueChange:a,className:"[&>span:first-child]:h-1 [&>span:first-child]:bg-pastel-medium [&_[role=slider]]:bg-pastel-dark [&_[role=slider]]:border-pastel-dark [&_[role=slider]]:shadow-md"}),g.jsxs("div",{className:"flex justify-between text-sm text-pastel-accent/80 mt-2",children:[g.jsxs("span",{children:["$",o[0]]}),g.jsxs("span",{children:["$",o[1]]})]}),g.jsxs("div",{className:"text-xs text-pastel-accent/60 mt-1 text-center",children:["Range: $",l[0]," - $",l[1]]})]})]}),g.jsxs("main",{className:"md:w-3/4",children:[g.jsxs("div",{className:"md:hidden mb-6 flex justify-between",children:[g.jsx(fe,{variant:"outline",size:"sm",className:"border-pastel-dark text-pastel-accent",onClick:L,children:" Debug"}),g.jsxs(fe,{variant:"outline",className:"border-pastel-dark text-pastel-accent",onClick:()=>h(!0),children:[g.jsx(_D,{size:18,className:"mr-2"})," Filters"]})]}),g.jsxs("div",{className:"hidden md:block mb-6 space-y-2",children:[g.jsx(fe,{variant:"outline",size:"sm",className:"border-pastel-dark text-pastel-accent w-full",onClick:L,children:" Debug Firestore Connection"}),g.jsx(fe,{variant:"outline",size:"sm",className:"border-blue-500 text-blue-600 w-full",onClick:I,children:" Test Flexible Fetch"}),g.jsxs("div",{className:"mt-4 space-y-2",children:[g.jsx(fe,{variant:"outline",size:"sm",className:"border-green-500 text-green-600 w-full",onClick:()=>s(["All"]),children:' Reset to "All"'}),g.jsx(fe,{variant:"outline",size:"sm",className:"border-purple-500 text-purple-600 w-full",onClick:()=>s(["Crochet"]),children:' Test "Crochet" Filter'})]}),g.jsxs("div",{className:"mt-4 p-3 bg-gray-100 rounded text-xs",children:[g.jsxs("div",{children:[g.jsx("strong",{children:"Total Products:"})," ",n.length]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Filtered Products:"})," ",k.length]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Selected Categories:"})," ",i.join(", ")]}),g.jsxs("div",{children:[g.jsx("strong",{children:"Price Range:"})," $",o[0]," - $",o[1]]}),n.length>0&&g.jsxs("div",{className:"mt-2",children:[g.jsx("strong",{children:"Sample Product:"}),g.jsx("pre",{className:"text-xs bg-white p-1 mt-1 rounded overflow-auto max-h-20",children:JSON.stringify(n[0],null,2)})]}),n.length>1&&g.jsxs("div",{className:"mt-2",children:[g.jsx("strong",{children:"Second Product:"}),g.jsx("pre",{className:"text-xs bg-white p-1 mt-1 rounded overflow-auto max-h-20",children:JSON.stringify(n[1],null,2)})]})]})]}),p?g.jsxs(Q.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[g.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-pastel-accent"}),g.jsx("p",{className:"mt-4 text-lg text-pastel-accent/70",children:"Loading products..."})]}):T?g.jsxs(Q.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[g.jsx("p",{className:"text-xl text-red-500 mb-4",children:T}),g.jsx(fe,{onClick:()=>window.location.reload(),className:"bg-pastel-dark text-white hover:bg-pastel-accent",children:"Try Again"})]}):k.length>0?g.jsxs(g.Fragment,{children:[console.log(" Rendering products grid with",k.length,"products"),g.jsx(Q.div,{variants:N,initial:"hidden",animate:"visible",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:k.map((P,E)=>(console.log(` Rendering product ${E}:`,P),g.jsx(Q.div,{variants:A,custom:E,className:"animate-slide-in-up",style:{animationDelay:`${E*.05}s`},children:g.jsx(Am,{product:P})},P.id)))})]}):n.length===0?g.jsxs(Q.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"text-center py-20",children:[g.jsx("p",{className:"text-xl text-pastel-accent/70 mb-4",children:"No products found in the database."}),g.jsx("p",{className:"text-sm text-pastel-accent/50 mb-6",children:"Add some products to Firestore to see them here!"}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[g.jsx(fe,{onClick:L,variant:"outline",className:"border-pastel-dark text-pastel-accent hover:bg-pastel-light",children:" Debug Firestore"}),g.jsx(fe,{onClick:M,disabled:R,className:"bg-pastel-dark text-white hover:bg-pastel-accent disabled:opacity-50",children:R?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"inline-block animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Adding Products..."]}):"Add Sample Products"})]})]}):g.jsx(Q.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"text-center text-xl text-pastel-accent/70 py-10",children:"No products match your current filters. Try adjusting them!"})]})]})]})},T6=()=>{const t={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}},exit:{opacity:0,y:-20,transition:{duration:.5,ease:"easeIn"}}},e={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.7,ease:"easeOut"}}};return g.jsxs(Q.div,{initial:"initial",animate:"animate",exit:"exit",variants:t,className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-16 animate-fade-in",children:[g.jsx(Q.h1,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1,ease:"easeOut"},className:"text-4xl md:text-5xl font-bold text-pastel-accent text-center mb-12",children:"Our Story: Handmade with Heart"}),g.jsxs(Q.section,{variants:e,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},className:"mb-16 grid md:grid-cols-2 gap-12 items-center",children:[g.jsxs("div",{className:"prose prose-lg max-w-none text-pastel-accent/90",children:[g.jsx("p",{className:"lead text-xl",children:"Welcome to C  C Cube, a small Egyptian handmade business built on creativity and love. I'm Tasneem, a developer by day and a craftswoman by heart. C Cube stands for our six main categories: Crochet, Candles, Crafts, Clay, Concrete, and Canvas."}),g.jsx("p",{children:"Each item is carefully handcrafted with a dreamy pastel aesthetic, soft hues, and a cozy, feminine touch. Whether you're buying a crochet bag, a pastel candle in a handmade concrete jar, or a hand-painted canvas tote, you're getting a piece of me  made with care and purpose."}),g.jsx("p",{children:"What started as a passion project quickly grew into a mission: to create meaningful, beautiful items that bring comfort, joy, and charm to everyday life  both online and in-person at bazaars across Egypt."})]}),g.jsx(Q.div,{className:"rounded-xl overflow-hidden shadow-2xl",initial:{scale:.8,opacity:0},whileInView:{scale:1,opacity:1},transition:{duration:.6,delay:.2,ease:"easeOut"},viewport:{once:!0,amount:.3},children:g.jsx("img",{className:"w-full h-auto object-cover",alt:"Founder working on crafts",src:"https://images.unsplash.com/photo-1607063696672-9dbc90ef3ebf"})})]}),g.jsxs(Q.section,{variants:e,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},className:"py-16 bg-pastel-light rounded-xl shadow-lg",children:[g.jsx("h2",{className:"text-3xl font-bold text-pastel-accent text-center mb-12",children:"Our Values"}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-8 text-center px-8",children:[g.jsxs(Q.div,{className:"p-6",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.1},viewport:{once:!0},children:[g.jsx(ga,{size:48,className:"mx-auto mb-4 text-pastel-dark"}),g.jsx("h3",{className:"text-2xl font-semibold text-pastel-accent mb-2",children:"Heartmade with Passion"}),g.jsx("p",{className:"text-pastel-accent/80",children:"Every piece is made with intention and love. I pour my heart into every item, treating each one like a tiny pastel story."})]}),g.jsxs(Q.div,{className:"p-6",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},children:[g.jsx(PD,{size:48,className:"mx-auto mb-4 text-pastel-dark"}),g.jsx("h3",{className:"text-2xl font-semibold text-pastel-accent mb-2",children:"Quality + Aesthetic"}),g.jsx("p",{className:"text-pastel-accent/80",children:"From the materials to the packaging, everything is chosen with care. I make sure each item feels special and aligns with our soft, cozy aesthetic."})]}),g.jsxs(Q.div,{className:"p-6",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.3},viewport:{once:!0},children:[g.jsx(RD,{size:48,className:"mx-auto mb-4 text-pastel-dark"}),g.jsx("h3",{className:"text-2xl font-semibold text-pastel-accent mb-2",children:"Community & Joy"}),g.jsx("p",{className:"text-pastel-accent/80",children:"Whether you find me online or at a local bazaar, I want you to feel like part of a little handmade family  where joy, creativity, and connection come first."})]})]})]}),g.jsxs(Q.section,{variants:e,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},className:"mt-16 text-center",children:[g.jsx("h2",{className:"text-3xl font-bold text-pastel-accent mb-6",children:"Meet the Maker"}),g.jsxs("div",{className:"max-w-3xl mx-auto",children:[g.jsx(Q.div,{className:"w-40 h-40 mx-auto mb-6 rounded-full overflow-hidden shadow-xl border-4 border-pastel-medium",initial:{scale:.5,opacity:0},whileInView:{scale:1,opacity:1},transition:{duration:.6,type:"spring",stiffness:120},viewport:{once:!0},children:g.jsx("img",{className:"w-full h-full object-cover",alt:"Portrait of the shop owner",src:"https://images.unsplash.com/photo-1633887091219-265c29eac4cd"})}),g.jsx("p",{className:"text-xl text-pastel-accent/90 mb-4",children:"Hi! Im Tasneem, the hands and heart behind C  C Cube. As a developer who loves crafting, I started this business to bring beauty into everyday moments. Whether it's crocheting in the evening, pouring concrete molds, or designing a new candle scent, this shop is my creative haven  and now, I hope it's yours too. Thanks for being part of the journey!"})]})]})]})},or=Ae.forwardRef(({className:t,type:e,...n},r)=>g.jsx("input",{type:e,className:qt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));or.displayName="Input";const ip=Ae.forwardRef(({className:t,...e},n)=>g.jsx("textarea",{className:qt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));ip.displayName="Textarea";const S6=()=>{const{toast:t}=zs(),[e,n]=b.useState({name:"",email:"",subject:"",message:""}),[r,i]=b.useState({name:"",email:"",itemType:"",description:"",quantity:1}),s=(d,h)=>{const{name:p,value:y}=d.target;h==="contact"?n(T=>({...T,[p]:y})):i(T=>({...T,[p]:y}))},o=(d,h)=>{d.preventDefault(),h==="contact"?(console.log("Contact Form Data:",e),t({title:" Message Sent!",description:"Thanks for reaching out! We'll get back to you soon.",duration:5e3}),n({name:"",email:"",subject:"",message:""})):(console.log("Custom Order Data:",r),t({title:" Custom Order Request Submitted!",description:"We've received your request and will be in touch to discuss the details!",duration:5e3}),i({name:"",email:"",itemType:"",description:"",quantity:1}))},a={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut",staggerChildren:.2}}},l={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},u=[{icon:g.jsx(fT,{size:24,className:"text-pastel-dark"}),text:"hello@ccube.com",href:"mailto:hello@ccube.com"},{icon:g.jsx(bD,{size:24,className:"text-pastel-dark"}),text:"(123) 456-7890",href:"tel:1234567890"},{icon:g.jsx(SD,{size:24,className:"text-pastel-dark"}),text:"123 Pastel Lane, Craftsville, CA 90210",href:"#"}];return g.jsxs(Q.div,{variants:a,initial:"initial",animate:"animate",className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-16 animate-fade-in",children:[g.jsx(Q.h1,{variants:l,className:"text-4xl md:text-5xl font-bold text-pastel-accent text-center mb-12",children:"Get In Touch"}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-12 md:gap-16 mb-16",children:[g.jsxs(Q.div,{variants:l,className:"space-y-8",children:[g.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-pastel-accent",children:"We'd love to hear from you!"}),g.jsx("p",{className:"text-pastel-accent/80 text-lg",children:"Whether you have a question about our products, an idea for a custom piece, or just want to say hello, feel free to reach out. We're always happy to connect with fellow craft lovers!"}),g.jsx("div",{className:"space-y-6",children:u.map((d,h)=>g.jsxs(Q.a,{href:d.href,className:"flex items-center space-x-4 group",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.2+h*.1},children:[g.jsx("span",{className:"flex-shrink-0 p-3 bg-pastel-light rounded-full group-hover:bg-pastel-medium transition-colors duration-300",children:d.icon}),g.jsx("span",{className:"text-pastel-accent group-hover:text-pastel-dark transition-colors duration-300",children:d.text})]},h))})]}),g.jsxs(Q.div,{variants:l,className:"bg-pastel-light p-8 rounded-xl shadow-xl",children:[g.jsx("h2",{className:"text-2xl font-semibold text-pastel-accent mb-6",children:"Send Us a Message"}),g.jsxs("form",{onSubmit:d=>o(d,"contact"),className:"space-y-6",children:[g.jsxs("div",{children:[g.jsx(dn,{htmlFor:"name",className:"text-pastel-accent/90",children:"Full Name"}),g.jsx(or,{type:"text",name:"name",id:"name",value:e.name,onChange:d=>s(d,"contact"),required:!0,className:"bg-white border-pastel-medium focus:border-pastel-dark focus:ring-pastel-dark"})]}),g.jsxs("div",{children:[g.jsx(dn,{htmlFor:"email",className:"text-pastel-accent/90",children:"Email Address"}),g.jsx(or,{type:"email",name:"email",id:"email",value:e.email,onChange:d=>s(d,"contact"),required:!0,className:"bg-white border-pastel-medium focus:border-pastel-dark focus:ring-pastel-dark"})]}),g.jsxs("div",{children:[g.jsx(dn,{htmlFor:"subject",className:"text-pastel-accent/90",children:"Subject"}),g.jsx(or,{type:"text",name:"subject",id:"subject",value:e.subject,onChange:d=>s(d,"contact"),required:!0,className:"bg-white border-pastel-medium focus:border-pastel-dark focus:ring-pastel-dark"})]}),g.jsxs("div",{children:[g.jsx(dn,{htmlFor:"message",className:"text-pastel-accent/90",children:"Your Message"}),g.jsx(ip,{name:"message",id:"message",rows:5,value:e.message,onChange:d=>s(d,"contact"),required:!0,className:"bg-white border-pastel-medium focus:border-pastel-dark focus:ring-pastel-dark"})]}),g.jsxs(fe,{type:"submit",className:"w-full bg-pastel-accent text-pastel-bg hover:bg-pastel-accent/90 shadow-md",children:["Send Message ",g.jsx(AD,{size:18,className:"ml-2"})]})]})]})]}),g.jsxs(Q.section,{id:"custom-orders",variants:l,className:"py-12 md:py-16 bg-gradient-to-br from-pastel-medium to-pastel-dark rounded-xl shadow-2xl p-8 md:p-12",children:[g.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white text-center mb-4",children:"Dreaming of Something Special?"}),g.jsx("p",{className:"text-lg text-white/90 text-center mb-10 max-w-2xl mx-auto",children:"Let us craft a unique piece just for you! Fill out the form below with your ideas, and we'll get back to you to discuss the possibilities."}),g.jsxs("form",{onSubmit:d=>o(d,"customOrder"),className:"space-y-6 max-w-xl mx-auto bg-pastel-light/80 p-8 rounded-lg shadow-inner",children:[g.jsxs("div",{children:[g.jsx(dn,{htmlFor:"customName",className:"text-pastel-accent/90",children:"Full Name"}),g.jsx(or,{type:"text",name:"name",id:"customName",value:r.name,onChange:d=>s(d,"customOrder"),required:!0,className:"bg-white border-pastel-medium focus:border-pastel-dark focus:ring-pastel-dark"})]}),g.jsxs("div",{children:[g.jsx(dn,{htmlFor:"customEmail",className:"text-pastel-accent/90",children:"Email Address"}),g.jsx(or,{type:"email",name:"email",id:"customEmail",value:r.email,onChange:d=>s(d,"customOrder"),required:!0,className:"bg-white border-pastel-medium focus:border-pastel-dark focus:ring-pastel-dark"})]}),g.jsxs("div",{children:[g.jsx(dn,{htmlFor:"itemType",className:"text-pastel-accent/90",children:"Type of Item (e.g., Crochet Bag, Scented Candle)"}),g.jsx(or,{type:"text",name:"itemType",id:"itemType",value:r.itemType,onChange:d=>s(d,"customOrder"),required:!0,placeholder:"e.g., Crochet Amigurumi, Custom Scented Candle",className:"bg-white border-pastel-medium focus:border-pastel-dark focus:ring-pastel-dark"})]}),g.jsxs("div",{children:[g.jsx(dn,{htmlFor:"description",className:"text-pastel-accent/90",children:"Describe Your Custom Request"}),g.jsx(ip,{name:"description",id:"description",rows:5,value:r.description,onChange:d=>s(d,"customOrder"),required:!0,placeholder:"Include details like colors, size, specific design ideas, etc.",className:"bg-white border-pastel-medium focus:border-pastel-dark focus:ring-pastel-dark"})]}),g.jsxs("div",{children:[g.jsx(dn,{htmlFor:"quantity",className:"text-pastel-accent/90",children:"Quantity"}),g.jsx(or,{type:"number",name:"quantity",id:"quantity",min:"1",value:r.quantity,onChange:d=>s(d,"customOrder"),required:!0,className:"bg-white border-pastel-medium focus:border-pastel-dark focus:ring-pastel-dark"})]}),g.jsx(fe,{type:"submit",className:"w-full bg-pastel-accent text-pastel-bg hover:bg-pastel-accent/90 shadow-md",children:"Submit Custom Order Request"})]})]})]})},C6=()=>{const{productId:t}=_R(),{toast:e}=zs(),[n,r]=b.useState(null),[i,s]=b.useState([]),[o,a]=b.useState(""),[l,u]=b.useState(""),[d,h]=b.useState(1),[p,y]=b.useState(0),[T,S]=b.useState(!0),[R,x]=b.useState(0);b.useEffect(()=>{(async()=>{try{console.log(` Fetching product details for ID: ${t}`);const P=await Zl();let E=[];P.success?(E=P.products,console.log(` Flexible fetch found ${E.length} products`)):(console.log(" Flexible fetch failed, trying simple approach..."),E=(await Ls(Si(Ct,"products"))).docs.map(Y=>({id:Y.id,...Y.data()})),console.log(` Simple fetch found ${E.length} products`)),s(E),console.log(` Looking for product with ID: ${t}`),console.log(" Available product IDs:",E.map(G=>G.id));const O=E.find(G=>G.id===t||G.id.toString()===t||G.id===t.toString());console.log(" Found product:",O),r(O),O||console.warn(` Product with ID "${t}" not found`)}catch(P){console.error(" Error fetching products:",P)}finally{S(!1)}})()},[t]);const v=A=>{h(P=>Math.max(1,Math.min(P+A,n!=null&&n.inStock?10:1)))},w=()=>{const A=[];o&&A.push(o),l&&A.push(l),e({title:" Added to Cart!",description:`${n.name}${A.length>0?` (${A.join(", ")})`:""} x${d} is now in your cart.`,duration:3e3,action:g.jsx(gD,{className:"text-green-500"})})},V=()=>{e({title:" Added to Wishlist!",description:`${n.name} has been added to your wishlist.`,duration:2e3})},M=()=>{var P;const A=((P=n==null?void 0:n.images)==null?void 0:P.length)||1;y(E=>(E+1)%A)},L=()=>{var P;const A=((P=n==null?void 0:n.images)==null?void 0:P.length)||1;y(E=>(E-1+A)%A)},I=(A,P)=>{if(!A)return 0;if(typeof A.price=="object"&&A.price!==null){if(P&&A.price[P.toLowerCase()])return parseFloat(A.price[P.toLowerCase()])||0;if(!P){const E=Object.values(A.price)[0];return parseFloat(E)||0}}if(A.pricing&&typeof A.pricing=="object"&&A.pricing!==null){if(P&&A.pricing[P])return parseFloat(A.pricing[P])||0;if(!P){const E=Object.values(A.pricing)[0];return parseFloat(E)||0}}return typeof A.price=="string"?parseFloat(A.price)||0:typeof A.price=="number"?A.price:0},_=A=>{if(!A)return null;let P=[];if(typeof A.price=="object"&&A.price!==null?P=Object.values(A.price).map(E=>parseFloat(E)).filter(E=>!isNaN(E)):A.pricing&&typeof A.pricing=="object"&&A.pricing!==null&&(P=Object.values(A.pricing).map(E=>parseFloat(E)).filter(E=>!isNaN(E))),P.length>1){const E=Math.min(...P),O=Math.max(...P);return{min:E,max:O}}return null};b.useEffect(()=>{var A;if(n){console.log(" Initializing product options:",n),n.colors&&n.colors.length>0&&a(n.colors[0]);let P=null;n.sizes&&Array.isArray(n.sizes)&&n.sizes.length>0?(P=n.sizes[0],u(P)):typeof n.sizes=="string"?(P=n.sizes,u(P)):n.sizeOptions&&Array.isArray(n.sizeOptions)&&n.sizeOptions.length>0&&(P=n.sizeOptions[0],u(P));const E=I(n,P);x(E),console.log(" Initialized - Color:",(A=n.colors)==null?void 0:A[0],"Size:",P,"Price:",E),console.log(" Product price structure:",n.price)}},[n]),b.useEffect(()=>{if(n){const A=I(n,l);x(A),console.log(" Price updated for size",l,":",A),console.log(" Product price structure:",n.price),console.log(" Product pricing structure:",n.pricing);const P=_(n);P&&console.log(" Price range:",P)}},[l,n]);const k={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}},exit:{opacity:0,y:-20,transition:{duration:.3,ease:"easeIn"}}},N={initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95}};return T?g.jsxs("div",{className:"container mx-auto text-center py-20",children:[g.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-pastel-accent mb-4"}),g.jsx("p",{className:"text-xl text-pastel-accent",children:"Loading product details..."})]}):n?g.jsxs(Q.div,{variants:k,initial:"initial",animate:"animate",exit:"exit",className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-16 animate-fade-in",children:[g.jsxs("div",{className:"grid md:grid-cols-2 gap-8 md:gap-12 items-start",children:[g.jsxs(Q.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},className:"relative",children:[g.jsx(fD,{mode:"wait",children:g.jsx(Q.div,{variants:N,initial:"initial",animate:"animate",exit:"exit",className:"aspect-square w-full rounded-xl shadow-2xl overflow-hidden bg-pastel-light",children:g.jsx("img",{className:"w-full h-full object-cover",alt:`${n.name} - view ${p+1}`,src:n.images&&n.images.length>0?n.images[p]:"https://images.unsplash.com/photo-1580928087639-6bfb993701a0?ixlib=rb-4.0.3&q=85&fm=jpg&crop=entropy&cs=srgb&w=600&h=600&fit=crop&ixid=M3w2Mzg4NTR8MHwxfHJhbmRvbXx8fHx8fHx8fDE3MTcxNzE0Njd8",onError:A=>{A.target.src="https://images.unsplash.com/photo-1580928087639-6bfb993701a0?ixlib=rb-4.0.3&q=85&fm=jpg&crop=entropy&cs=srgb&w=600&h=600&fit=crop&ixid=M3w2Mzg4NTR8MHwxfHJhbmRvbXx8fHx8fHx8fDE3MTcxNzE0Njd8"}})},p)}),n.images&&n.images.length>1&&g.jsxs(g.Fragment,{children:[g.jsx(fe,{variant:"ghost",size:"icon",onClick:L,className:"absolute top-1/2 left-2 -translate-y-1/2 bg-white/70 hover:bg-pastel-medium text-pastel-accent rounded-full backdrop-blur-sm z-10",children:g.jsx(vD,{size:28})}),g.jsx(fe,{variant:"ghost",size:"icon",onClick:M,className:"absolute top-1/2 right-2 -translate-y-1/2 bg-white/70 hover:bg-pastel-medium text-pastel-accent rounded-full backdrop-blur-sm z-10",children:g.jsx(wD,{size:28})}),g.jsx("div",{className:"mt-4 flex space-x-2 justify-center",children:n.images&&n.images.map((A,P)=>g.jsx("button",{onClick:()=>y(P),className:`w-16 h-16 rounded-md overflow-hidden border-2 ${P===p?"border-pastel-dark ring-2 ring-pastel-dark":"border-transparent hover:border-pastel-medium"} transition-all`,children:g.jsx("img",{className:"w-full h-full object-cover",alt:`Thumbnail ${P+1}`,src:A})},P))})]})]}),g.jsxs(Q.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"space-y-6",children:[g.jsx("span",{className:"text-sm text-pastel-dark font-medium uppercase tracking-wider",children:n.category||"Uncategorized"}),g.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-pastel-accent",children:n.name||"Unnamed Product"}),(n.rating||n.reviews)&&g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsxs("div",{className:"flex text-yellow-400",children:[[...Array(Math.floor(n.rating||0))].map((A,P)=>g.jsx(sh,{size:20,className:"fill-current"},P)),(n.rating||0)%1!==0&&g.jsx(sh,{size:20,className:"fill-current opacity-50"}),[...Array(5-Math.ceil(n.rating||0))].map((A,P)=>g.jsx(sh,{size:20,className:"text-gray-300"},`empty-${P}`))]}),g.jsxs("span",{className:"text-sm text-pastel-accent/70",children:["(",n.reviews||0," reviews)"]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsxs("p",{className:"text-2xl font-semibold text-pastel-dark",children:["$",R.toFixed(2),l&&(typeof n.price=="object"||n.pricing)&&g.jsxs("span",{className:"text-sm text-pastel-accent/70 ml-2",children:["(Size: ",l,")"]})]}),(()=>{const A=_(n);return A&&!l?g.jsxs("p",{className:"text-sm text-pastel-accent/70",children:["Price range: $",A.min.toFixed(2)," - $",A.max.toFixed(2)]}):null})()]}),g.jsx("p",{className:"text-pastel-accent/80 leading-relaxed",children:n.description||"No description available."}),n.colors&&n.colors.length>0&&g.jsxs("div",{className:"space-y-3",children:[g.jsxs("h3",{className:"text-md font-semibold text-pastel-accent",children:["Color: ",g.jsx("span",{className:"font-normal text-pastel-accent/90",children:o})]}),g.jsx("div",{className:"flex flex-wrap gap-2",children:n.colors.map(A=>g.jsx(fe,{variant:o===A?"default":"outline",size:"sm",onClick:()=>a(A),className:`
                      ${o===A?"bg-pastel-dark text-white border-pastel-dark ring-2 ring-pastel-dark/30":"border-pastel-medium text-pastel-accent hover:bg-pastel-light hover:border-pastel-dark"}
                    `,children:A},A))})]}),(n.sizes||n.sizeOptions)&&g.jsxs("div",{className:"space-y-3",children:[g.jsxs("h3",{className:"text-md font-semibold text-pastel-accent",children:["Size: ",g.jsx("span",{className:"font-normal text-pastel-accent/90",children:l})]}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[Array.isArray(n.sizes)&&n.sizes.map(A=>{const P=I(n,A),E=P>0;return g.jsxs(fe,{variant:l===A?"default":"outline",size:"sm",onClick:()=>u(A),className:`
                        ${l===A?"bg-pastel-dark text-white border-pastel-dark ring-2 ring-pastel-dark/30":"border-pastel-medium text-pastel-accent hover:bg-pastel-light hover:border-pastel-dark"}
                      `,children:[A,E?g.jsxs("span",{className:"ml-1 text-xs",children:["($",P.toFixed(2),")"]}):(typeof n.price=="object"||n.pricing)&&g.jsx("span",{className:"ml-1 text-xs text-red-500",children:"(No price)"})]},A)}),typeof n.sizes=="string"&&g.jsx(fe,{variant:"outline",size:"sm",className:"border-pastel-medium text-pastel-accent cursor-default",disabled:!0,children:n.sizes}),n.sizeOptions&&Array.isArray(n.sizeOptions)&&n.sizeOptions.map(A=>{const P=I(n,A),E=P>0;return g.jsxs(fe,{variant:l===A?"default":"outline",size:"sm",onClick:()=>u(A),className:`
                        ${l===A?"bg-pastel-dark text-white border-pastel-dark ring-2 ring-pastel-dark/30":"border-pastel-medium text-pastel-accent hover:bg-pastel-light hover:border-pastel-dark"}
                      `,children:[A,E?g.jsxs("span",{className:"ml-1 text-xs",children:["($",P.toFixed(2),")"]}):(typeof n.price=="object"||n.pricing)&&g.jsx("span",{className:"ml-1 text-xs text-red-500",children:"(No price)"})]},A)})]})]}),g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("h3",{className:"text-md font-semibold text-pastel-accent",children:"Quantity:"}),g.jsxs("div",{className:"flex items-center border border-pastel-medium rounded-md",children:[g.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>v(-1),className:"px-3 text-pastel-accent hover:bg-pastel-light rounded-r-none",children:"-"}),g.jsx("span",{className:"px-4 text-pastel-accent",children:d}),g.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>v(1),className:"px-3 text-pastel-accent hover:bg-pastel-light rounded-l-none",children:"+"})]}),g.jsx("span",{className:"text-sm text-pastel-accent/70",children:n.inStock?"In Stock":"Out of Stock"})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[g.jsxs(fe,{size:"lg",onClick:w,disabled:!n.inStock,className:"flex-1 bg-pastel-accent text-pastel-bg hover:bg-pastel-accent/90 shadow-lg disabled:opacity-50",children:[g.jsx(pT,{size:20,className:"mr-2"}),n.inStock?"Add to Cart":"Out of Stock"]}),g.jsxs(fe,{size:"lg",variant:"outline",onClick:V,className:"flex-1 border-pastel-dark text-pastel-accent hover:bg-pastel-dark hover:text-pastel-bg shadow-md",children:[g.jsx(ga,{size:20,className:"mr-2"})," Add to Wishlist"]})]})]})]}),(n.longDescription||n.description)&&g.jsxs(Q.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"mt-16 pt-8 border-t border-pastel-medium/50",children:[g.jsx("h2",{className:"text-2xl font-semibold text-pastel-accent mb-4",children:"Product Details"}),g.jsx("div",{className:"prose prose-lg max-w-none text-pastel-accent/80 leading-relaxed",children:g.jsx("p",{children:n.longDescription||n.description})})]}),g.jsxs(Q.section,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mt-16 pt-8 border-t border-pastel-medium/50",children:[g.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-pastel-accent text-center mb-12",children:"You Might Also Like"}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:i.filter(A=>A.id!==n.id).slice(0,3).map((A,P)=>g.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:P*.1},children:g.jsx(Am,{product:A})},A.id))}),i.filter(A=>A.id!==n.id).length===0&&g.jsx("p",{className:"text-center text-pastel-accent/70",children:"No related products available."})]})]}):g.jsxs("div",{className:"container mx-auto text-center py-20",children:[g.jsx("h1",{className:"text-2xl font-bold text-pastel-accent mb-4",children:"Product Not Found"}),g.jsxs("p",{className:"text-lg text-pastel-accent/70 mb-6",children:['The product with ID "',t,'" could not be found.']}),g.jsxs("div",{className:"space-y-2 text-sm text-pastel-accent/60",children:[g.jsxs("p",{children:["Available products: ",i.length]}),i.length>0&&g.jsxs("p",{children:["Available IDs: ",i.map(A=>A.id).join(", ")]})]}),g.jsx(Bt,{to:"/shop",className:"inline-block mt-6",children:g.jsx(fe,{className:"bg-pastel-dark text-white hover:bg-pastel-accent",children:"Back to Shop"})})]})};function bi(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function P6(t,e=globalThis==null?void 0:globalThis.document){const n=bi(t);b.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var b6="DismissableLayer",sp="dismissableLayer.update",A6="dismissableLayer.pointerDownOutside",I6="dismissableLayer.focusOutside",gw,yP=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vP=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,u=b.useContext(yP),[d,h]=b.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=b.useState({}),T=vt(e,I=>h(I)),S=Array.from(u.layers),[R]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=S.indexOf(R),v=d?S.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,V=v>=x,M=k6(I=>{const _=I.target,k=[...u.branches].some(N=>N.contains(_));!V||k||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},p),L=N6(I=>{const _=I.target;[...u.branches].some(N=>N.contains(_))||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},p);return P6(I=>{v===u.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},p),b.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(gw=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),yw(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=gw)}},[d,p,n,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),yw())},[d,u]),b.useEffect(()=>{const I=()=>y({});return document.addEventListener(sp,I),()=>document.removeEventListener(sp,I)},[]),g.jsx(Qe.div,{...l,ref:T,style:{pointerEvents:w?V?"auto":"none":void 0,...t.style},onFocusCapture:Fe(t.onFocusCapture,L.onFocusCapture),onBlurCapture:Fe(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Fe(t.onPointerDownCapture,M.onPointerDownCapture)})});vP.displayName=b6;var R6="DismissableLayerBranch",wP=b.forwardRef((t,e)=>{const n=b.useContext(yP),r=b.useRef(null),i=vt(e,r);return b.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),g.jsx(Qe.div,{...t,ref:i})});wP.displayName=R6;function k6(t,e=globalThis==null?void 0:globalThis.document){const n=bi(t),r=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){xP(A6,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function N6(t,e=globalThis==null?void 0:globalThis.document){const n=bi(t),r=b.useRef(!1);return b.useEffect(()=>{const i=s=>{s.target&&!r.current&&xP(I6,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function yw(){const t=new CustomEvent(sp);document.dispatchEvent(t)}function xP(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?CT(i,s):i.dispatchEvent(s)}var V6=vP,D6=wP,M6="Portal",_P=b.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=b.useState(!1);bs(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?qI.createPortal(g.jsx(Qe.div,{...r,ref:e}),o):null});_P.displayName=M6;var L6=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),j6="VisuallyHidden",wg=b.forwardRef((t,e)=>g.jsx(Qe.span,{...t,ref:e,style:{...L6,...t.style}}));wg.displayName=j6;var xg="ToastProvider",[_g,O6,F6]=jT("Toast"),[EP,f5]=bu("Toast",[F6]),[B6,Ku]=EP(xg),TP=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=b.useState(null),[u,d]=b.useState(0),h=b.useRef(!1),p=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${xg}\`. Expected non-empty \`string\`.`),g.jsx(_g.Provider,{scope:e,children:g.jsx(B6,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:b.useCallback(()=>d(y=>y+1),[]),onToastRemove:b.useCallback(()=>d(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};TP.displayName=xg;var SP="ToastViewport",z6=["F8"],op="toast.viewportPause",ap="toast.viewportResume",CP=b.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=z6,label:i="Notifications ({hotkey})",...s}=t,o=Ku(SP,n),a=O6(n),l=b.useRef(null),u=b.useRef(null),d=b.useRef(null),h=b.useRef(null),p=vt(e,h,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=o.toastCount>0;b.useEffect(()=>{const R=x=>{var w;r.length!==0&&r.every(V=>x[V]||x.code===V)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",R),()=>document.removeEventListener("keydown",R)},[r]),b.useEffect(()=>{const R=l.current,x=h.current;if(T&&R&&x){const v=()=>{if(!o.isClosePausedRef.current){const L=new CustomEvent(op);x.dispatchEvent(L),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const L=new CustomEvent(ap);x.dispatchEvent(L),o.isClosePausedRef.current=!1}},V=L=>{!R.contains(L.relatedTarget)&&w()},M=()=>{R.contains(document.activeElement)||w()};return R.addEventListener("focusin",v),R.addEventListener("focusout",V),R.addEventListener("pointermove",v),R.addEventListener("pointerleave",M),window.addEventListener("blur",v),window.addEventListener("focus",w),()=>{R.removeEventListener("focusin",v),R.removeEventListener("focusout",V),R.removeEventListener("pointermove",v),R.removeEventListener("pointerleave",M),window.removeEventListener("blur",v),window.removeEventListener("focus",w)}}},[T,o.isClosePausedRef]);const S=b.useCallback(({tabbingDirection:R})=>{const v=a().map(w=>{const V=w.ref.current,M=[V,...e5(V)];return R==="forwards"?M:M.reverse()});return(R==="forwards"?v.reverse():v).flat()},[a]);return b.useEffect(()=>{const R=h.current;if(R){const x=v=>{var M,L,I;const w=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!w){const _=document.activeElement,k=v.shiftKey;if(v.target===R&&k){(M=u.current)==null||M.focus();return}const P=S({tabbingDirection:k?"backwards":"forwards"}),E=P.findIndex(O=>O===_);vh(P.slice(E+1))?v.preventDefault():k?(L=u.current)==null||L.focus():(I=d.current)==null||I.focus()}};return R.addEventListener("keydown",x),()=>R.removeEventListener("keydown",x)}},[a,S]),g.jsxs(D6,{ref:l,role:"region","aria-label":i.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&g.jsx(lp,{ref:u,onFocusFromOutsideViewport:()=>{const R=S({tabbingDirection:"forwards"});vh(R)}}),g.jsx(_g.Slot,{scope:n,children:g.jsx(Qe.ol,{tabIndex:-1,...s,ref:p})}),T&&g.jsx(lp,{ref:d,onFocusFromOutsideViewport:()=>{const R=S({tabbingDirection:"backwards"});vh(R)}})]})});CP.displayName=SP;var PP="ToastFocusProxy",lp=b.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=Ku(PP,n);return g.jsx(wg,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(a))&&r()}})});lp.displayName=PP;var Ba="Toast",U6="toast.swipeStart",$6="toast.swipeMove",W6="toast.swipeCancel",H6="toast.swipeEnd",bP=b.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a,l]=Im({prop:r,defaultProp:i??!0,onChange:s,caller:Ba});return g.jsx(Rm,{present:n||a,children:g.jsx(K6,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:bi(t.onPause),onResume:bi(t.onResume),onSwipeStart:Fe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Fe(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Fe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Fe(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});bP.displayName=Ba;var[q6,G6]=EP(Ba,{onClose(){}}),K6=b.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:y,...T}=t,S=Ku(Ba,n),[R,x]=b.useState(null),v=vt(e,O=>x(O)),w=b.useRef(null),V=b.useRef(null),M=i||S.duration,L=b.useRef(0),I=b.useRef(M),_=b.useRef(0),{onToastAdd:k,onToastRemove:N}=S,A=bi(()=>{var G;(R==null?void 0:R.contains(document.activeElement))&&((G=S.viewport)==null||G.focus()),o()}),P=b.useCallback(O=>{!O||O===1/0||(window.clearTimeout(_.current),L.current=new Date().getTime(),_.current=window.setTimeout(A,O))},[A]);b.useEffect(()=>{const O=S.viewport;if(O){const G=()=>{P(I.current),u==null||u()},Y=()=>{const re=new Date().getTime()-L.current;I.current=I.current-re,window.clearTimeout(_.current),l==null||l()};return O.addEventListener(op,Y),O.addEventListener(ap,G),()=>{O.removeEventListener(op,Y),O.removeEventListener(ap,G)}}},[S.viewport,M,l,u,P]),b.useEffect(()=>{s&&!S.isClosePausedRef.current&&P(M)},[s,M,S.isClosePausedRef,P]),b.useEffect(()=>(k(),()=>N()),[k,N]);const E=b.useMemo(()=>R?DP(R):null,[R]);return S.viewport?g.jsxs(g.Fragment,{children:[E&&g.jsx(Q6,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:E}),g.jsx(q6,{scope:n,onClose:A,children:mu.createPortal(g.jsx(_g.ItemSlot,{scope:n,children:g.jsx(V6,{asChild:!0,onEscapeKeyDown:Fe(a,()=>{S.isFocusedToastEscapeKeyDownRef.current||A(),S.isFocusedToastEscapeKeyDownRef.current=!1}),children:g.jsx(Qe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":S.swipeDirection,...T,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Fe(t.onKeyDown,O=>{O.key==="Escape"&&(a==null||a(O.nativeEvent),O.nativeEvent.defaultPrevented||(S.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:Fe(t.onPointerDown,O=>{O.button===0&&(w.current={x:O.clientX,y:O.clientY})}),onPointerMove:Fe(t.onPointerMove,O=>{if(!w.current)return;const G=O.clientX-w.current.x,Y=O.clientY-w.current.y,re=!!V.current,z=["left","right"].includes(S.swipeDirection),W=["left","up"].includes(S.swipeDirection)?Math.min:Math.max,X=z?W(0,G):0,K=z?0:W(0,Y),ie=O.pointerType==="touch"?10:2,Z={x:X,y:K},Ye={originalEvent:O,delta:Z};re?(V.current=Z,Nl($6,h,Ye,{discrete:!1})):vw(Z,S.swipeDirection,ie)?(V.current=Z,Nl(U6,d,Ye,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(G)>ie||Math.abs(Y)>ie)&&(w.current=null)}),onPointerUp:Fe(t.onPointerUp,O=>{const G=V.current,Y=O.target;if(Y.hasPointerCapture(O.pointerId)&&Y.releasePointerCapture(O.pointerId),V.current=null,w.current=null,G){const re=O.currentTarget,z={originalEvent:O,delta:G};vw(G,S.swipeDirection,S.swipeThreshold)?Nl(H6,y,z,{discrete:!0}):Nl(W6,p,z,{discrete:!0}),re.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),S.viewport)})]}):null}),Q6=t=>{const{__scopeToast:e,children:n,...r}=t,i=Ku(Ba,e),[s,o]=b.useState(!1),[a,l]=b.useState(!1);return J6(()=>o(!0)),b.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:g.jsx(_P,{asChild:!0,children:g.jsx(wg,{...r,children:s&&g.jsxs(g.Fragment,{children:[i.label," ",n]})})})},Y6="ToastTitle",AP=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.jsx(Qe.div,{...r,ref:e})});AP.displayName=Y6;var X6="ToastDescription",IP=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.jsx(Qe.div,{...r,ref:e})});IP.displayName=X6;var RP="ToastAction",kP=b.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?g.jsx(VP,{altText:n,asChild:!0,children:g.jsx(Eg,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${RP}\`. Expected non-empty \`string\`.`),null)});kP.displayName=RP;var NP="ToastClose",Eg=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=G6(NP,n);return g.jsx(VP,{asChild:!0,children:g.jsx(Qe.button,{type:"button",...r,ref:e,onClick:Fe(t.onClick,i.onClose)})})});Eg.displayName=NP;var VP=b.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return g.jsx(Qe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function DP(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Z6(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...DP(r))}}),e}function Nl(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?CT(i,s):i.dispatchEvent(s)}var vw=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function J6(t=()=>{}){const e=bi(t);bs(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Z6(t){return t.nodeType===t.ELEMENT_NODE}function e5(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function vh(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var t5=TP,MP=CP,LP=bP,jP=AP,OP=IP,FP=kP,BP=Eg;const n5=t5,zP=Ae.forwardRef(({className:t,...e},n)=>g.jsx(MP,{ref:n,className:qt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));zP.displayName=MP.displayName;const r5=bm("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),UP=Ae.forwardRef(({className:t,variant:e,...n},r)=>g.jsx(LP,{ref:r,className:qt(r5({variant:e}),t),...n}));UP.displayName=LP.displayName;const i5=Ae.forwardRef(({className:t,...e},n)=>g.jsx(FP,{ref:n,className:qt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));i5.displayName=FP.displayName;const $P=Ae.forwardRef(({className:t,...e},n)=>g.jsx(BP,{ref:n,className:qt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:g.jsx(Cm,{className:"h-4 w-4"})}));$P.displayName=BP.displayName;const WP=Ae.forwardRef(({className:t,...e},n)=>g.jsx(jP,{ref:n,className:qt("text-sm font-semibold",t),...e}));WP.displayName=jP.displayName;const HP=Ae.forwardRef(({className:t,...e},n)=>g.jsx(OP,{ref:n,className:qt("text-sm opacity-90",t),...e}));HP.displayName=OP.displayName;function s5(){const{toasts:t}=zs();return g.jsxs(n5,{children:[t.map(({id:e,title:n,description:r,action:i,...s})=>g.jsxs(UP,{...s,children:[g.jsxs("div",{className:"grid gap-1",children:[n&&g.jsx(WP,{children:n}),r&&g.jsx(HP,{children:r})]}),i,g.jsx($P,{})]},e)),g.jsx(zP,{})]})}function o5(){const{pathname:t,hash:e}=Ri();return b.useEffect(()=>{if(e){const n=document.getElementById(e.substring(1));n?n.scrollIntoView({behavior:"smooth"}):window.scrollTo(0,0)}else window.scrollTo(0,0)},[t,e]),null}function a5(){return g.jsxs(HR,{children:[g.jsx(o5,{}),g.jsxs("div",{className:"flex flex-col min-h-screen bg-pastel-bg",children:[g.jsx(fM,{}),g.jsx("main",{className:"flex-grow",children:g.jsxs(jR,{children:[g.jsx($i,{path:"/",element:g.jsx(wM,{})}),g.jsx($i,{path:"/shop",element:g.jsx(E6,{})}),g.jsx($i,{path:"/shop/:productId",element:g.jsx(C6,{})}),g.jsx($i,{path:"/about",element:g.jsx(T6,{})}),g.jsx($i,{path:"/contact",element:g.jsx(S6,{})})]})}),g.jsx(pM,{}),g.jsx(s5,{})]})]})}wh.createRoot(document.getElementById("root")).render(g.jsx(Ae.StrictMode,{children:g.jsx(a5,{})}));
